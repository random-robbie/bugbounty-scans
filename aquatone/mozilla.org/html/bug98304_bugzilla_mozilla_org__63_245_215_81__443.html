<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head><meta property="og:type" content="website">
<meta property="og:image" content="https://bugzilla.mozilla.org/extensions/OpenGraph/web/moz-social-bw-rgb-1200x1200.png">
<meta property="og:title" content="98304 - (bz-postgres) Make Bugzilla's SQL generally compatible with PostgreSQL (PgSQL)">
<meta property="og:url" content="https://bugzilla.mozilla.org/show_bug.cgi?id=98304">

    <meta name="bugzilla-global" content="dummy"
        id="bugzilla-global" data-bugzilla="{&quot;api_token&quot;:&quot;&quot;,&quot;string&quot;:{&quot;short_desc_required&quot;:&quot;You must enter a Summary for this bug&quot;,&quot;description_required&quot;:&quot;You must enter a Description for this bug&quot;,&quot;version_required&quot;:&quot;You must select a Version for this bug&quot;,&quot;component_required&quot;:&quot;You must select a Component for this bug&quot;,&quot;attach_desc_required&quot;:&quot;You must enter a Description for this attachment.&quot;},&quot;constant&quot;:{&quot;COMMENT_COLS&quot;:80},&quot;param&quot;:{&quot;maxusermatches&quot;:&quot;50&quot;,&quot;cookiepath&quot;:&quot;/&quot;}}">
    <title>98304 - (bz-postgres) Make Bugzilla's SQL generally compatible with PostgreSQL (PgSQL)</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

      <meta name="robots" content="noindex" />
<link rel="Top" href="https://bugzilla.mozilla.org/">

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=98304&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=98304">

      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=98304">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=98304">

<link href="data/assets/6e2950a6b430e66beb45b46958cb75b7.css?1507037554" rel="stylesheet" type="text/css">



    
<script nonce="IBEwQEipZ7xnGmyIvSQNd5UWAZq3Gxq8SnK2b4ib3H3FracN" type="text/javascript" src="data/assets/f0d8f806b435d5c1c42cd109e6626548.js?1507037554"></script>

      <script nonce="IBEwQEipZ7xnGmyIvSQNd5UWAZq3Gxq8SnK2b4ib3H3FracN">
          YAHOO.namespace('bugzilla');
          if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
              YAHOO.util.Event._simpleRemove(window, "unload",
                                             YAHOO.util.Event._unload);
          }BUGZILLA.value_descs = JSON.parse('{\"bug_status\":{},\"resolution\":{\"\":\"---\"}}');

  
    var tracking_flags_str = "{\"types\":[],\"flags\":{},\"comments\":{}}";
    var TrackingFlags = $.parseJSON(tracking_flags_str);

  

  
  BUGZILLA.bug_id = 98304;
  BUGZILLA.bug_title = '98304 - (bz-postgres) Make Bugzilla\'s SQL generally compatible with PostgreSQL (PgSQL)';
  BUGZILLA.user = {
    id: 0,
    login: '',
    is_insider: false,
    is_timetracker: false,
    can_tag: false,
    settings: {
      quote_replies: 'quoted_reply',
      zoom_textareas: true,
      remember_collapsed: true,
      autosize_comments: false
    }
  };

  BUGZILLA.bug_secure = false;
      </script>
<script nonce="IBEwQEipZ7xnGmyIvSQNd5UWAZq3Gxq8SnK2b4ib3H3FracN" type="text/javascript" src="data/assets/f45fcff1319be4ab156441393c02d012.js?1507037554"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozilla" href="./search_plugin.cgi">
    <meta name="referrer" content="origin-when-crossorigin"><link rel="shortcut icon" href="extensions/BMO/web/images/favicon.ico">
<link id="shorturl" rev="canonical" href="https://bugzil.la/98304"><meta name="robots" content="noarchive">
  </head>



  <body
        class="bugzilla-mozilla-org
               skin-standard bug_modal yui-skin-sam">



<div id="header">

  <div class="wrapper">
    <table border="0" cellspacing="0" cellpadding="0" id="titles">
    <tr>
      <td id="title">
        <a href="./" title="Home">Bugzilla@Mozilla</a>
      </td>
      <td>
      </td>
      <td id="moz_login">
          <ul class="login-links">
              <li id="moz_new_account_container_top"><a href="createaccount.cgi">New&nbsp;Account</a>
              </li>

                <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="https://bugzilla.mozilla.org/show_bug.cgi?id=98304&amp;GoAheadAndLogIn=1"
     class='show_mini_login_form' data-qs-suffix="_top">Log In</a>
<span id="github_mini_login_top" class="bz_default_hidden mini_login_top">
    <form method="post" action="https://bugzilla.mozilla.org/github.cgi">
      <input type="hidden" name="github_secret" value="pI8Is1iHNZnkFBr5">
      <input type="hidden" name="target_uri" value="https://bugzilla.mozilla.org/show_bug.cgi?id=98304">
      <input type="image" src="extensions/GitHubAuth/web/images/sign_in.png" height="22" width="75" align="absmiddle"
             alt="Sign in with GitHub"
             title="Sign in with GitHub"> or
    </form>
  </span>
  
  <form action="https://bugzilla.mozilla.org/show_bug.cgi?id=98304" method="POST" 
        class="mini_login bz_default_hidden "
        id="mini_login_top"
        data-qs-suffix="_top"
  >
    
    <input id="Bugzilla_login_top" 
           class="bz_login"
           name="Bugzilla_login"
           title="Login"
           placeholder="email address"
           type="email"
           required
    >
    <input class="bz_password"
           id="Bugzilla_password_top" 
           name="Bugzilla_password"
           type="password"
           title="Password"
           required
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy_top" value="password"
           title="Password"
    >
      <input type="checkbox" id="Bugzilla_remember_top" 
             name="Bugzilla_remember" value="on" class="bz_remember"
                 checked>
      <label for="Bugzilla_remember_top">Remember</label>
    <input type="hidden" name="Bugzilla_login_token"
           value="1507276843-fdff3ad7cc68b52c442d86781479f91c">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
           class="check_mini_login_fields"
            id="log_in_top">
    <a href="#" id="hide_mini_login_top" 
       class="hide_mini_login_form" data-qs-suffix="_top">[x]</a>
  </form>
</li>
<li id="forgot_container_top">
  <span class="separator">| </span>
  <a id="forgot_link_top" href="https://bugzilla.mozilla.org/show_bug.cgi?id=98304&amp;GoAheadAndLogIn=1#forgot"
     class='show_forgot_form'
     data-qs-suffix="_top">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form_top"
        class="mini_forgot bz_default_hidden">
    <label for="login_top">Login:</label>
    <input type="text" name="loginname" size="20" id="login_top">
    <input id="forgot_button_top" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <input type="hidden" id="token_top" name="token" value="1507276843-bfc8938666fb6f17c5f089f0ad419d6d">
    <a href="#" class="hide_forgot_form" data-qs-suffix="_top">[x]</a>
  </form>
</li>
          </ul>
      </td>
      <td id="moz_tab">
        <a href="https://www.mozilla.org/" title="Mozilla - Home of the Mozilla Project">
          <img src="images/tabzilla.png" border="0" height="42" width="154"></a>
      </td>
    </tr>
    </table>

    
<ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form quicksearch_form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
      class='quicksearch_check_empty'>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch"
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search"
           id="find_top"></form>
    [<a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">help</a>]
  </li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>


</ul>

  </div>
</div> 

<div id="bugzilla-body">


<div id="message">If you think a bug might affect users in the 57 release, please <a href="https://wiki.mozilla.org/Bugmasters/Marking_bugs_for_the_Firefox_57_release">set the correct tracking and status flags for Release Management</a>.</div><div id="xhr-error" style="display:none"></div>
<div id="floating-message" style="display:none">
  <div id="floating-message-text"></div>
</div>
<section class="module"
>
  <div class="module-content"
  >
  <div id="summary-container">
    <div class="field indent"
>

  
    <div class=" container">
      <div id="field-value-bug_id">
        <a id="this-bug" href="show_bug.cgi?id=98304">Bug 98304</a>
          <span class="edit-hide">
            (bz-postgres)
          </span>
      </div>
    </div>

  
</div><div class="field indent edit-hide"
>

  
    <div class=" container">
      <h1 id="field-value-short_desc">Make Bugzilla's SQL generally compatible with PostgreSQL (PgSQL)</h1>
    </div>

  
</div>

    <div class="field edit-show" id="field-alias" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias" id="alias-help-link" class="help">Alias:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-alias">
            bz-postgres

        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-short_desc" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc" id="short_desc-help-link" class="help">Summary:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-short_desc">
            Make Bugzilla's SQL generally compatible with PostgreSQL (PgSQL)

        </span>
    </div>

  
</div>

    <div class="field indent edit-hide" id="field-status_summary"
>

  
    <div class="value">
        <span id="field-value-status_summary">
      <b>RESOLVED
        FIXED
      </b>
        in Bugzilla 2.20
        </span>
    </div>

  
</div>
  </div>

  

  <div id="mode-container">
    <div>
    </div>
    <div class="button-row">
      <div class="dropdown">
        <button type="button" id="action-menu-btn" aria-haspopup="true" aria-label="Actions Menu"
          aria-expanded="false" aria-controls="action-menu" class="dropdown-button minor">&#9662;</button>
        <ul class="dropdown-content" id="action-menu" role="menu" style="display:none;">
          <li role="presentation">
            <a id="action-reset" role="menuitem" tabindex="-1">Reset Sections</a>
          </li>
          <li role="presentation">
            <a id="action-expand-all" role="menuitem" tabindex="-1">Expand All Sections</a>
          </li>
          <li class="dropdown-separator" role="presentation">
            <a id="action-collapse-all" role="menuitem" tabindex="-1">Collapse All Sections</a>
          </li>
          <li class="dropdown-separator" role="presentation">
            <a id="action-last-comment" role="menuitem" tabindex="-1">Last Comment</a>
          </li>
          <li role="presentation">
            <a id="action-history" role="menuitem" tabindex="-1">History</a>
          </li>
        </ul>
      </div>
    </div>
    <div id="user-guide">
      <a title="User guide for Bugzilla" href="https://wiki.mozilla.org/BMO/UserGuide">Get help with this page</a>
    </div>
  </div>
  </div>
</section>



<section class="module" id="module-status"
>
    <header id="module-status-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Status section"
           data-label-collapsed="Expand Status section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-status-content"
             aria-expanded="true"
             aria-labeledby="module-status-title"
             aria-describedby="module-status-subtitle"></div>
        <h2 class="module-title" id="module-status-title">Status</h2>
          <h3 class="module-subtitle" id="module-status-subtitle">
            (<span id="readable-bug-status" data-readable-bug-status="{&quot;priority&quot;:&quot;P1&quot;,&quot;flags&quot;:[{&quot;status&quot;:&quot;-&quot;,&quot;name&quot;:&quot;blocking2.18&quot;}],&quot;status&quot;:&quot;RESOLVED&quot;,&quot;dupe_of&quot;:null,&quot;keywords&quot;:[],&quot;resolution&quot;:&quot;FIXED&quot;,&quot;id&quot;:&quot;98304&quot;,&quot;target_milestone&quot;:&quot;Bugzilla 2.20&quot;}"></span>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-status-content"
  ><div class="fields-lhs">

    <div class="field" id="field-product"
>
    <div class="name">
        <a href="describecomponents.cgi?product=Bugzilla" id="product-help-link" class="help">Product:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-product">
      <span aria-owns="product-name product-latch">
        <span role="button" aria-label="show product information" aria-expanded="false" tabindex="0"
              class="spin-latch" id="product-latch" data-latch="product" data-for="product">&#9656;</span>
        <div title="show product information" tabindex="0" class="spin-toggle"
             id="product-name" data-latch="product" data-for="product">Bugzilla
        </div>
        <div id="product-info" style="display:none">The <a href="http://www.bugzilla.org">Bugzilla</a> bug-tracking system.<br>
<b>Note:</b> This is <b>not</b> the place to request configuration, permission, or account changes to this installation of Bugzilla (bugzilla.mozilla.org). File such changes under the appropriate component in the <a href="enter_bug.cgi?product=bugzilla.mozilla.org"><b>bugzilla.mozilla.org</b></a> product.
        </div>
      </span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-component"
>
    <div class="name">
        <a href="describecomponents.cgi?product=Bugzilla&component=Database#Database" id="component-help-link" class="help">Component:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-component">
      <span aria-owns="component-name component-latch">
        <span role="button" aria-label="show component description" aria-expanded="false" tabindex="0"
              class="spin-latch" id="component-latch" data-latch="component" data-for="component">&#9656;</span>
        <div title="show component information" tabindex="0" class="spin-toggle" id="component-name"
             data-latch="#component-latch" data-for="component">Database
        </div>
        <div id="component-info" style="display:none">
          <div>General issues with the database interface drivers for Bugzilla.  End-user facing bugs should almost never go here.  Compatibility issues that affect one database but not another should go here.  Driver issues found by developers that affect database access should go here.  Everything else should generally go in some other appropriate component.</div>
          <a href="buglist.cgi?component=Database&amp;product=Bugzilla&amp;bug_status=__open__" target="_blank">Other Bugs</a>
        </div>
      </span>
        </span>
    </div>

  
</div>

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority" id="-help-link" class="help">
        <label for="priority">Importance:
        </label>
        </a>
    </div>

  
    <div class=" container"><div class="field inline" id="field-priority"
>

  
    <div class="value">
        <span id="field-value-priority">
            P1

        </span>
    </div>

  
</div><div class="field indent inline" id="field-bug_severity"
>

  
    <div class="value">
        <span id="field-value-bug_severity">
            enhancement

        </span>
    </div>

  
</div>
    </div>

  
</div>

    <div class="field edit-hide" id="field-status-view"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-view-help-link" class="help">
        <label for="bug_status">Status:
        </label>
        </a>
    </div>

  
    <div class=" container">
        <span id="field-value-status-view">RESOLVED
        FIXED
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-creation_ts"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#creation_ts" id="creation_ts-help-link" class="help">Reported:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-creation_ts"><span class="rel-time" title="2001-09-04 19:47 PDT" data-time="999658049">16 years ago</span>
        </span>
    </div>

  
</div>

    <div class="field" id="field-delta_ts"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#delta_ts" id="delta_ts-help-link" class="help">Modified:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-delta_ts"><span class="rel-time" title="2016-08-24 16:59 PDT" data-time="1472083185">a year ago</span>
        </span>
    </div>

  
</div>
</div>

  <div class="field edit-show" id="field-status-edit" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugStatuses" id="status-edit-help-link" class="help">Status:
        </a>
    </div>

  
    <div class=" container">
        <span id="field-value-status-edit"><div class="field inline" id="field-bug_status"
>

  
    <div class="value">
        <span id="field-value-bug_status">
            RESOLVED

        </span>
    </div>

  
</div><div class="field indent inline" id="field-resolution"
>

  
    <div class="value">
        <span id="field-value-resolution">
            FIXED

        </span>
    </div>

  
</div>
    <div id="assigned-container" style="display:none">
      <button type="button" class="minor" id="mark-as-assigned-btn">
        Mark as Assigned
      </button>
    </div>
        </span>
    </div>

  
</div>
  </div>
</section>



<section class="module" id="module-people"
>
    <header id="module-people-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse People section"
           data-label-collapsed="Expand People section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-people-content"
             aria-expanded="false"
             aria-labeledby="module-people-title"
             aria-describedby="module-people-subtitle"></div>
        <h2 class="module-title" id="module-people-title">People</h2>
          <h3 class="module-subtitle" id="module-people-subtitle">
            (Reporter: justdave, Assigned: Max Kanat-Alexander)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-people-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field edit-hide" id="field-assigned_to"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-assigned_to"><div class="vcard vcard_73187" ><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-assigned_to" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to" id="assigned_to-help-link" class="help">Assignee:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-assigned_to">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-assignee" name="set_default_assignee" class="set-default"
          value="1" data-for="assigned_to">
        <label for="set-default-assignee">Reset Assignee to default</label>
      </div>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-bug_mentors" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor" id="bug_mentors-help-link" class="help">Mentors:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-bug_mentors">---
        </span>
    </div>

  
</div>

    <div class="field edit-hide" id="field-qa_contact"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-qa_contact"><div class="vcard vcard_5086" ><a class="email " href="user_profile?user_id=5086" > <span class="fna">default-qa</span></a>
</div>
        </span>
    </div>

  
</div><div class="field edit-show" id="field-qa_contact" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact" id="qa_contact-help-link" class="help">QA Contact:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-qa_contact">
      <div class="set-default-container" style="display:none">
        <input type="checkbox" id="set-default-qa-contact" name="set_default_qa_contact" class="set-default"
          value="1" data-for="qa_contact">
        <label for="set-default-qa-contact">Reset QA Contact to default</label>
      </div>
        </span>
    </div>

  
</div>
</div><div class="fields-rhs">

    <div class="field" id="field-reporter"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter" id="reporter-help-link" class="help">Reporter:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-reporter">
            <div class="vcard vcard_10297" ><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>

        </span>
    </div>

  
</div>

    <div class="field" id="field-triage_owner"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner" id="triage_owner-help-link" class="help">Triage Owner:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-triage_owner">
            ---

        </span>
    </div>

  
</div>

    

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc" id="-help-link" class="help">CC:
        </a>
    </div>

  
    <div class=" container">


        <span aria-owns="cc-summary cc-latch">
          <span role="button" tabindex="0" id="cc-summary" data-count="57">57 people
          </span>
        </span>


        <div id="cc-list" style="display:none"></div>
    </div>

  
</div>
</div>
  </div>
</section>


<section class="module" id="module-tracking"
>
    <header id="module-tracking-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Tracking section"
           data-label-collapsed="Expand Tracking section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-tracking-content"
             aria-expanded="true"
             aria-labeledby="module-tracking-title"
             aria-describedby="module-tracking-subtitle"></div>
        <h2 class="module-title" id="module-tracking-title">Tracking</h2>
      </div>
    </header>
  <div class="module-content" id="module-tracking-content"
  ><div class="fields-lhs">

    <div class="field" id="field-version"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#version" id="version-help-link" class="help">Version:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-version">
            2.15

        </span>
    </div>

  
</div>

    <div class="field" id="field-target_milestone"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone" id="target_milestone-help-link" class="help">Target:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-target_milestone">
            Bugzilla 2.20

        </span>
    </div>

  
</div>

    <div class="field edit-show" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform" id="-help-link" class="help">
        <label for="rep_platform">Platform:
        </label>
        </a>
    </div>

  
    <div class=" container"><div class="field inline" id="field-rep_platform"
>

  
    <div class="value">
        <span id="field-value-rep_platform">
            All

        </span>
    </div>

  
</div><div class="field indent inline" id="field-op_sys"
>

  
    <div class="value">
        <span id="field-value-op_sys">
            All

        </span>
    </div>

  
</div><div class="field indent inline"
>

  
    <div class=" container">
    </div>

  
</div>
    </div>

  
</div>

    <div class="field edit-show" id="field-keywords" style="display:none"
>
    <div class="name">
        <a href="describekeywords.cgi" id="keywords-help-link" class="help">Keywords:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-keywords">---
        </span>
    </div>

  
</div>



</div><div class="fields-rhs">

    <div class="field" id="field-dependson"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson" id="dependson-help-link" class="help">Depends on:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-dependson">
            <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Duplicate field names in bugzilla tables (component IDs etc.)"
   href="show_bug.cgi?id=43600">43600</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Permission checking in queries not optimal"
   href="show_bug.cgi?id=114696">114696</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Reusable, structured, database-independent schema"
   href="show_bug.cgi?id=146679">bz-dbschema</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Remove timestamp fields"
   href="show_bug.cgi?id=156834">156834</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - ANSI SQL requires all columns in SELECT to be in GROUP BY, unless they are in &quot;aggregate&quot; functions"
   href="show_bug.cgi?id=174295">174295</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Boolean comparisons in the SELECT clause are not cross-DB compatible"
   href="show_bug.cgi?id=182136">182136</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - saving a named query uses REPLACE INTO (not ANSI)"
   href="show_bug.cgi?id=190432">190432</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Flags uses DB-dependent SQL"
   href="show_bug.cgi?id=228917">228917</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Modules for database-compatibilty related functions (DBCompat)"
   href="show_bug.cgi?id=237862">bz-dbcompat</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Conversion of boolean conditions in SQL statements for better db independence"
   href="show_bug.cgi?id=248001">248001</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Installation needs to support DB-independence"
   href="show_bug.cgi?id=248175">bz-dbinstall</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - FlagTypes uses DB dependent comma operator"
   href="show_bug.cgi?id=250547">250547</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Conversion of boolean conditions in SQL statements for better db independence (take 2)"
   href="show_bug.cgi?id=250591">250591</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Conversion of remaining boolean condition in SQL statements for better db independence"
   href="show_bug.cgi?id=250832">250832</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Search.pm uses DB dependent comma operator"
   href="show_bug.cgi?id=251960">251960</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - IFNULL should be replaced by COALESCE"
   href="show_bug.cgi?id=253357">253357</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - IF() should be replaced by CASE WHEN"
   href="show_bug.cgi?id=253360">253360</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [META] Make use of the new DB compatibility layer"
   href="show_bug.cgi?id=280493">280493</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Remove RelationSet from userprefs.cgi (and thus fix non-ANSI INSERT)"
   href="show_bug.cgi?id=281550">281550</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - PostgreSQL cannot call SUM on a boolean (Boolean Charts)"
   href="show_bug.cgi?id=284125">284125</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - DATE_SUB and DATE_ADD are not ANSI SQL"
   href="show_bug.cgi?id=284244">284244</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Untested parts of Bugzilla::DB are broken (when running on PostgreSQL)"
   href="show_bug.cgi?id=285397">285397</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Checksetup fails to complete on PostgreSQL"
   href="show_bug.cgi?id=285401">285401</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - LearnAboutColumns does not work on PostgreSQL"
   href="show_bug.cgi?id=285403">285403</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - User cannot log in on PostgreSQL"
   href="show_bug.cgi?id=285407">285407</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Default search cannot run on PostgreSQL because of JOIN problems"
   href="show_bug.cgi?id=285411">285411</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - GetSelectableProducts cannot run on PostgreSQL when classifications are enabled"
   href="show_bug.cgi?id=285532">285532</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - bugs.qa_contact should allow NULL"
   href="show_bug.cgi?id=285534">285534</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Cannot enter a bug on PostgreSQL"
   href="show_bug.cgi?id=285552">285552</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - FlagType::match uses a HAVING clause that PostgreSQL does not support"
   href="show_bug.cgi?id=285555">285555</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - NOT(integer) not supported by postgres"
   href="show_bug.cgi?id=285678">285678</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - lastdiffed should use NULL instead of the &quot;beginning of time&quot;"
   href="show_bug.cgi?id=285692">285692</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] Username checks for login, etc. need to be case insensitive"
   href="show_bug.cgi?id=285695">285695</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] Index on some text columns on Postgres could use LOWER"
   href="show_bug.cgi?id=285705">285705</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - DBD::Pg must have the PG_BYTEA type specified for inserting BLOBs"
   href="show_bug.cgi?id=285740">285740</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Cross-DB bz_alter_column"
   href="show_bug.cgi?id=285748">285748</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Implicit joins should be replaced by explicit joins - installment A"
   href="show_bug.cgi?id=286235">286235</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - ANSI SQL does not allow aliases to be used in HAVING clause"
   href="show_bug.cgi?id=286360">286360</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - String concatenation on postgres does not always work"
   href="show_bug.cgi?id=286392">286392</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED INVALID - Bugzilla::FlagType contains a raw GROUP BY"
   href="show_bug.cgi?id=286490">286490</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - ORDER BY column needs to be selected or grouped"
   href="show_bug.cgi?id=286686">286686</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - bugs.resolution needs a default value"
   href="show_bug.cgi?id=286695">286695</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - INSERT IGNORE is not ANSI SQL"
   href="show_bug.cgi?id=287138">287138</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Can't use an undefined value as a HASH reference at userprefs.cgi line 142."
   href="show_bug.cgi?id=289012">289012</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Implicit joins should be replaced by explicit joins - installment B"
   href="show_bug.cgi?id=289042">289042</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Implicit joins should be replaced by explicit joins - installment C"
   href="show_bug.cgi?id=289043">289043</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - PostgreSQL dies when you insert a string longer than 2700 characters into an indexed field"
   href="show_bug.cgi?id=291803">291803</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] POSITION(...) clause &quot;must be type boolean, not type integer&quot;"
   href="show_bug.cgi?id=292119">292119</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED INVALID - checksetup says PostgreSQL is version 00.00.0000"
   href="show_bug.cgi?id=292715">292715</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - LOCATE is not ANSI SQL (prevents user account creation)"
   href="show_bug.cgi?id=292718">292718</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] COALESCE requires both arguments to be of similar types"
   href="show_bug.cgi?id=292768">292768</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - PostgreSQL: GROUP BY error when searching for bugs"
   href="show_bug.cgi?id=293015">293015</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] Cannot create a new product"
   href="show_bug.cgi?id=296039">296039</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] Cannot add a new query for event/whining"
   href="show_bug.cgi?id=296054">296054</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - SQL-fault when trying to add a new user account (PostgreSQL)"
   href="show_bug.cgi?id=296075">296075</a>

        </span>
    </div>

  
</div>

    <div class="field" id="field-blocked"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks" id="blocked-help-link" class="help">Blocks:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-blocked">
            <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Allow Bugzilla to work with Oracle"
   href="show_bug.cgi?id=189947">bz-oracle</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Server type should not be hardcoded in SQL values"
   href="show_bug.cgi?id=274266">274266</a>

        </span>
    </div>

  
</div>
<div class="field edit-hide"
>
    <div class="name">
    </div>

  
    <div class=" container">
        Dependency <a href="showdependencytree.cgi?id=98304&amp;hide_resolved=1">tree</a>
        / <a href="showdependencygraph.cgi?id=98304">graph</a>
    </div>

  
</div>

    <div class="field edit-hide"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#duplicates" id="-help-link" class="help">Duplicates:
        </a>
    </div>

  
    <div class="value">
            <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED DUPLICATE - bugzilla uses non-standard sql"
   href="show_bug.cgi?id=1104">1104</a>

    </div>

  
</div>

    <div class="field" id="field-bug_flags"
>
    <div class="name">Bug Flags:
    </div>

  
    <div class=" container">
        <span id="field-value-bug_flags"><div id="bug-flags" class="flags">
  <table class="layout-table">
          <tbody class="edit-hide"><tr>
    <td class="flag-setter"><div class="vcard vcard_10297" ><a class="email " href="user_profile?user_id=10297" > <span class="fna">justdave</span></a>
</div>
    </td>

    <td class="flag-name">
        <a href="#c126"
            class="rel-time-title activity-ref"
            title="14 years ago"
        data-time="1079510973"
      >blocking2.18</a>
    </td>

    <td class="flag-value">-
    </td>

  </tr>
          </tbody>
          <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter"><div class="vcard vcard_10297" ><a class="email " href="user_profile?user_id=10297" > <span class="fna">justdave</span></a>
</div>
    </td>

    <td class="flag-name">
      <label title="Use this flag to nominate bugs for fixing for the Bugzilla 2.18 release. If the bug is deemed critical for the release by the Bugzilla development team then it will receive a &quot;+&quot;. If the bug is deemed to not be critical for this release the team will add a &quot;-&quot; to the flag." for="flag-58455">blocking2.18</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag-58455-dirty">
      <select id="flag-58455" name="flag-58455"
        title="Use this flag to nominate bugs for fixing for the Bugzilla 2.18 release. If the bug is deemed critical for the release by the Bugzilla development team then it will receive a &quot;+&quot;. If the bug is deemed to not be critical for this release the team will add a &quot;-&quot; to the flag."
        class="bug-flag">
          <option value="-" selected>-</option>
      </select>
    </td>


  </tr>
          </tbody>
    <tbody class="edit-show" style="display:none"><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Bugs in Core components that affect (and will improve) web compatibility

? - Needs prioritization
+ - Is a high-priority compatibility/interop bug or feature request
- - Is either a low-priority compatibility/interop bug or feature request, meaning it should be treated as a regular bug or feature request. OR not considered to be a compat issue." for="flag_type-916">webcompat</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-916-dirty">
      <select id="flag_type-916" name="flag_type-916"
        title="Bugs in Core components that affect (and will improve) web compatibility

? - Needs prioritization
+ - Is a high-priority compatibility/interop bug or feature request
- - Is either a low-priority compatibility/interop bug or feature request, meaning it should be treated as a regular bug or feature request. OR not considered to be a compat issue."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="approval for check-in to the Bugzilla repository" for="flag_type-38">approval</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-38-dirty">
      <select id="flag_type-38" name="flag_type-38"
        title="approval for check-in to the Bugzilla repository"
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Approval for check-in to the Bugzilla repository on the 5.0 branch." for="flag_type-872">approval5.0</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-872-dirty">
      <select id="flag_type-872" name="flag_type-872"
        title="Approval for check-in to the Bugzilla repository on the 5.0 branch."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Use this flag to nominate bugs for fixing for the Bugzilla 5.0.4 release. If the bug is deemed critical for the release by the Bugzilla development team then it will receive a &quot;+&quot;. If the bug is deemed to not be critical for this release the team will add a &quot;-&quot; to the flag." for="flag_type-909">blocking5.0.4</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-909-dirty">
      <select id="flag_type-909" name="flag_type-909"
        title="Use this flag to nominate bugs for fixing for the Bugzilla 5.0.4 release. If the bug is deemed critical for the release by the Bugzilla development team then it will receive a &quot;+&quot;. If the bug is deemed to not be critical for this release the team will add a &quot;-&quot; to the flag."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="approval for check-in to the Bugzilla repository on the BUGZILLA-4_4-BRANCH" for="flag_type-793">approval4.4</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-793-dirty">
      <select id="flag_type-793" name="flag_type-793"
        title="approval for check-in to the Bugzilla repository on the BUGZILLA-4_4-BRANCH"
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Use this flag to nominate bugs for fixing for the Bugzilla 4.4.13 release. If the bug is deemed critical for the release by the Bugzilla development team then it will receive a &quot;+&quot;. If the bug is deemed to not be critical for this release the team will add a &quot;-&quot; to the flag." for="flag_type-910">blocking4.4.13</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-910-dirty">
      <select id="flag_type-910" name="flag_type-910"
        title="Use this flag to nominate bugs for fixing for the Bugzilla 4.4.13 release. If the bug is deemed critical for the release by the Bugzilla development team then it will receive a &quot;+&quot;. If the bug is deemed to not be critical for this release the team will add a &quot;-&quot; to the flag."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug." for="flag_type-803">sec&#8209;bounty</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-803-dirty">
      <select id="flag_type-803" name="flag_type-803"
        title="Flag is used to track security bug bounty nominations. Mail security(at)mozilla.org to nominate a bug."
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame." for="flag_type-913">sec&#8209;bounty&#8209;hof</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-913-dirty">
      <select id="flag_type-913" name="flag_type-913"
        title="Flag is used to track whether the bug report is eligible for inclusion in the Bug Bounty Hall of Fame."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="needs to have documentation written" for="flag_type-74">documentation</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-74-dirty">
      <select id="flag_type-74" name="flag_type-74"
        title="needs to have documentation written"
        class="bug-flag">
          <option value="X"></option>
            <option value="?" >?</option>
            <option value="+" >+</option>
            <option value="-" >-</option>
      </select>
    </td>


  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="needs to have a testcase created" for="flag_type-254">testcase</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-254-dirty">
      <select id="flag_type-254" name="flag_type-254"
        title="needs to have a testcase created"
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>

      <td class="flag-requestee">
        <div id="requestee_type-254-container" style="display:none"><input
    name="requestee_type-254"
    value="" class="requestee bz_autocomplete_user"  id="requestee_type-254" 
  >
        </div>
      <td>

  </tr><tr>
    <td class="flag-setter">
    </td>

    <td class="flag-name">
      <label title="Include a summary of changes made by this bug in the release notes." for="flag_type-873">relnote</label>
    </td>

    <td class="flag-value">
      <input type="hidden" id="flag_type-873-dirty">
      <select id="flag_type-873" name="flag_type-873"
        title="Include a summary of changes made by this bug in the release notes."
          disabled
        class="bug-flag">
          <option value="X"></option>
      </select>
    </td>


  </tr>
    </tbody>
  </table>
</div>
        </span>
    </div>

  
</div>
</div>
  </div>
</section>



<section class="module" id="module-details"
>
    <header id="module-details-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Details section"
           data-label-collapsed="Expand Details section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-details-content"
             aria-expanded="false"
             aria-labeledby="module-details-title"
             aria-describedby="module-details-subtitle"></div>
        <h2 class="module-title" id="module-details-title">Details</h2>
          <h3 class="module-subtitle" id="module-details-subtitle">
            (<a href="http://sql-info.de/postgresql/postgres-gotchas.html" target="_blank"
     rel="noreferrer" title="http://sql-info.de/postgresql/postgres-gotchas.html"
     class="bug-url" data-safe="1"
  >URL</a>)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-details-content" style="display:none"
  ><div class="fields-lhs">

    <div class="field" id="field-status_whiteboard"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/Whiteboard" id="status_whiteboard-help-link" class="help">Whiteboard:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-status_whiteboard">---
        </span>
    </div>

  
</div>

    <div class="field"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes" id="-help-link" class="help">Votes:
        </a>
    </div>

  
    <div class=" container">51
        votes
    </div>

  
</div>

    
</div><div class="fields-rhs">

    <div class="field" id="field-bug_file_loc"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc" id="bug_file_loc-help-link" class="help">URL:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-bug_file_loc"><a href="http://sql-info.de/postgresql/postgres-gotchas.html" target="_blank"
     rel="noreferrer" title="http://sql-info.de/postgresql/postgres-gotchas.html"
     class="bug-url" data-safe="1"
  >http://sql-info.de/postgresql/postgre...</a>
        </span>
    </div>

  
</div>

    <div class="field edit-show" id="field-see_also" style="display:none"
>
    <div class="name">
        <a href="https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also" id="see_also-help-link" class="help">See Also:
        </a>
    </div>

  
    <div class="value">
        <span id="field-value-see_also">
        ---
        </span>
    </div>

  
</div>
</div>

  
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-security"
>
    <header id="module-security-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Security section"
           data-label-collapsed="Expand Security section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-security-content"
             aria-expanded="false"
             aria-labeledby="module-security-title"
             aria-describedby="module-security-subtitle"></div>
        <h2 class="module-title" id="module-security-title">Security</h2>
          <h3 class="module-subtitle" id="module-security-subtitle">
            (public)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-security-content" style="display:none"
  ><div class="groups edit-hide">
    This bug is publicly visible.
</div>

<div class="groups edit-show" style="display:none">


</div>
  </div>
</section>


<section class="module edit-show" style="display:none" id="module-user-story" data-non-stick="1"
>
    <header id="module-user-story-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse User Story section"
           data-label-collapsed="Expand User Story section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-user-story-content"
             aria-expanded="false"
             aria-labeledby="module-user-story-title"
             aria-describedby="module-user-story-subtitle"></div>
        <h2 class="module-title" id="module-user-story-title">User Story</h2>
      </div>
    </header>
  <div class="module-content" id="module-user-story-content" style="display:none"
  >
    <pre id="user-story"></pre>
  </div>
</section>







<section class="module" id="module-attachments"
>
    <header id="module-attachments-header" class="module-header">
      <div class="module-latch"
           data-label-expanded="Collapse Attachments section"
           data-label-collapsed="Expand Attachments section">
        <div class="module-spinner" role="button" tabindex="0"
             aria-controls="module-attachments-content"
             aria-expanded="false"
             aria-labeledby="module-attachments-title"
             aria-describedby="module-attachments-subtitle"></div>
        <h2 class="module-title" id="module-attachments-title">Attachments</h2>
          <h3 class="module-subtitle" id="module-attachments-subtitle">
            (19 obsolete attachments)
          </h3>
      </div>
    </header>
  <div class="module-content" id="module-attachments-content" style="display:none"
  ><table role="table" class="layout-table" id="attachments">
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=55101">PostgreSQL first pass patch to current Mozilla CVS (v0.1)</a>
        </div>
        <div>
            <a href="#c1" class="attach-time activity-ref"><span class="rel-time" title="2001-10-25 11:25 PDT" data-time="1004034317">16 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">114.69 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=55101&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=55101&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=98304&attachment=55101">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=55518">PostgreSQL second pass patch to current Mozilla CVS (v0.2)</a>
        </div>
        <div>
            <a href="#c6" class="attach-time activity-ref"><span class="rel-time" title="2001-10-28 23:30 PST" data-time="1004340605">16 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">114.76 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=55518&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=55518&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=98304&attachment=55518">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=55523">Setup utility similar to checksetup.pl except for PostgreSQL</a>
        </div>
        <div>
            <a href="#c10" class="attach-time activity-ref"><span class="rel-time" title="2001-10-29 00:21 PST" data-time="1004343668">16 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">85.97 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=55523&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=100290">PostgreSQL configuration utility similar to checksetup.pl v(1)</a>
        </div>
        <div>
            <a href="#c30" class="attach-time activity-ref"><span class="rel-time" title="2002-09-23 15:10 PDT" data-time="1032819007">15 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">122.61 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=100290&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=100291">Port CVS Head to PostgreSQL (v1)</a>
        </div>
        <div>
            <a href="#c31" class="attach-time activity-ref"><span class="rel-time" title="2002-09-23 15:14 PDT" data-time="1032819286">15 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">72.60 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_29274" ><span class="fn">bbaetz</span>
</div>:
              <a href="#c32"
                  class="flag-name-status rel-time-title activity-ref"
                  title="15 years ago"
              data-time="1032822052"
            >
              review-</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=100291&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=100291&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=98304&attachment=100291">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=100656">Port CVS Head to PostgreSQL (v2)</a>
        </div>
        <div>
            <a href="#c33" class="attach-time activity-ref"><span class="rel-time" title="2002-09-25 17:14 PDT" data-time="1032999292">15 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">56.56 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=100656&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=100656&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=98304&attachment=100656">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=102377">Port CVS Head to PostgreSQL (v3)</a>
        </div>
        <div>
            <a href="#c38" class="attach-time activity-ref"><span class="rel-time" title="2002-10-09 15:08 PDT" data-time="1034201281">15 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">69.44 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=102377&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=102377&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=98304&attachment=102377">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=105532">Port CVS Head to PostgreSQL (v4)</a>
        </div>
        <div>
            <a href="#c40" class="attach-time activity-ref"><span class="rel-time" title="2002-11-07 20:38 PST" data-time="1036730326">15 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_10297" ><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div></span>
        </div>
        <div class="attach-info">67.96 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=105532&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=105532&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=98304&attachment=105532">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=107199">105532: Port CVS Head to PostgreSQL (v5)</a>
        </div>
        <div>
            <a href="#c41" class="attach-time activity-ref"><span class="rel-time" title="2002-11-22 17:49 PST" data-time="1038016171">15 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">86.53 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=107199&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=107199&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=98304&attachment=107199">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=107200">Port CVS Head to PostgreSQL (v5)</a>
        </div>
        <div>
            <a href="#c42" class="attach-time activity-ref"><span class="rel-time" title="2002-11-22 17:49 PST" data-time="1038016196">15 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">86.53 KB,
          patch        </div>
      </td>
      <td>
          <div class="attach-flag"><div class="vcard vcard_29274" ><span class="fn">bbaetz</span>
</div>:
              <a href="#c43"
                  class="flag-name-status rel-time-title activity-ref"
                  title="15 years ago"
              data-time="1043410304"
            >
              review-</a>
          </div>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=107200&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=107200&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=98304&attachment=107200">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=130562">Schema for Bugzilla</a>
        </div>
        <div>
            <a href="#c51" class="attach-time activity-ref"><span class="rel-time" title="2003-08-28 14:45 PDT" data-time="1062107110">14 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_27566" ><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div></span>
        </div>
        <div class="attach-info">16.05 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=130562&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=130751">Compatibility layer for PostgreSQL</a>
        </div>
        <div>
            <a href="#c52" class="attach-time activity-ref"><span class="rel-time" title="2003-09-01 15:02 PDT" data-time="1062453748">14 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_27566" ><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div></span>
        </div>
        <div class="attach-info">6.18 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=130751&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=130925">Updated and partially rewritten pgsetup.pl file</a>
        </div>
        <div>
            <a href="#c53" class="attach-time activity-ref"><span class="rel-time" title="2003-09-04 13:50 PDT" data-time="1062708604">14 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_27566" ><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div></span>
        </div>
        <div class="attach-info">82.51 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=130925&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=130979">PostgreSQL compatibility layer, revision 1</a>
        </div>
        <div>
            <a href="#c54" class="attach-time activity-ref"><span class="rel-time" title="2003-09-05 15:22 PDT" data-time="1062800534">14 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_27566" ><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div></span>
        </div>
        <div class="attach-info">9.14 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=130979&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=135422">Proof of Concept code for DB independant schema generation</a>
        </div>
        <div>
            <a href="#c72" class="attach-time activity-ref"><span class="rel-time" title="2003-11-13 12:09 PST" data-time="1068754176">14 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_118839" ><a class="email " href="user_profile?user_id=118839" > <span class="fna">Andrew Dunstan</span></a>
</div></span>
        </div>
        <div class="attach-info">22.78 KB,
          text/plain        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=135422&amp;action=edit">Details</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=141569">Port CVS Head to PostgreSQL (v6)</a>
        </div>
        <div>
            <a href="#c83" class="attach-time activity-ref"><span class="rel-time" title="2004-02-16 15:56 PST" data-time="1076975806">14 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">132.80 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=141569&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=141569&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=98304&attachment=141569">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=141703">Port CVS Head to PostgreSQL (v7)</a>
        </div>
        <div>
            <a href="#c89" class="attach-time activity-ref"><span class="rel-time" title="2004-02-18 15:19 PST" data-time="1077146397">14 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">99.50 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=141703&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=141703&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=98304&attachment=141703">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=141854">Changes to implement Table Locking in PostgreSQL using DBcompat.pm</a>
        </div>
        <div>
            <a href="#c106" class="attach-time activity-ref"><span class="rel-time" title="2004-02-20 14:29 PST" data-time="1077316156">14 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">23.79 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=141854&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=141854&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=98304&attachment=141854">Splinter Review</a>
    </tr>
    <tr class=" attach-obsolete attach-patch
    " style="display:none">
      <td class="attach-desc-td">
        <div class="attach-desc">
            <a href="attachment.cgi?id=142476">Port CVS Head to PostgreSQL (v8)</a>
        </div>
        <div>
            <a href="#c110" class="attach-time activity-ref"><span class="rel-time" title="2004-02-27 15:16 PST" data-time="1077923815">14 years ago</span></a>
          <span class="attach-author"><div class="vcard vcard_5898" ><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div></span>
        </div>
        <div class="attach-info">127.68 KB,
          patch        </div>
      </td>
      <td>
      </td>
      <td class="attach-actions">
        <a href="attachment.cgi?id=142476&amp;action=edit">Details</a>
          | <a href="attachment.cgi?id=142476&amp;action=diff">Diff</a>&#x0020; |
  <a href="https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=98304&attachment=142476">Splinter Review</a>
    </tr>
</table>

<div id="attachments-actions">
    <button type="button" id="attachments-obsolete-btn" class="minor">Show Obsolete Attachments</button>
</div>
  </div>
</section>



<script nonce="IBEwQEipZ7xnGmyIvSQNd5UWAZq3Gxq8SnK2b4ib3H3FracN">
  init_module_visibility();
</script>






<div id="comment-actions">
    <button type="button" id="bottom-btn" class="minor">Bottom &darr;</button>
  <div class="dropdown">
    <button type="button" id="comment-tags-btn" arai-haspopup="true" aria-label="Tags Menu"
      aria-expanded="false" aria-controls="comment-tags-menu" class="dropdown-button minor">Tags &#9662;</button>
    <ul id="comment-tags-menu" role="menu" tabindex="0" class="dropdown-content" style="display:none">
      <li class="dropdown-separator" role="presentation">
        <a role="menuitem" tabindex="-1" data-comment-tag="">Reset</a>
      </li>
    </ul>
  </div>
  <div class="dropdown">
    <button type="button" id="view-menu-btn" arai-haspopup="true" aria-label="View Menu"
      aria-expanded="false" aria-controls="view-menu" class="dropdown-button minor">View &#9662;</button>
    <ul id="view-menu" role="menu" tabindex="0" class="dropdown-content" style="display:none">
      <li class="dropdown-separator" role="presentation">
        <a id="view-reset" role="menuitem" tabindex="-1">Reset</a>
      </li>
      <li role="presentation">
        <a id="view-collapse-all" role="menuitem" tabindex="-1">Collapse All</a>
      </li>
      <li role="presentation">
        <a id="view-expand-all" role="menuitem" tabindex="-1">Expand All</a>
      </li>
      <li class="dropdown-separator" role="presentation">
        <a id="view-comments-only" role="menuitem" tabindex="-1">Comments Only</a>
      </li>
      <li role="presentation">
        <a id="view-toggle-cc" role="menuitem" tabindex="-1">Show CC Changes</a>
      </li>
    </ul>
   </div>
</div>
<div class="change-set" id="c0"><div class="comment" data-id="903002" data-no="0">
    
    <table class="layout-table change-head reporter" id="ch-0">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" ><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" ><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-0">-</button>
        </td>
      </tr>

      <tr id="cr-0" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c0">Description</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-09-04 19:47 PDT" data-time="999658049">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-0">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-0">David Lawrence is already in the process of converting bugzilla so that it will
work with either MySQL or PgSQL.  I couldn't find a bug to go with it, so I'm
creating one that the necessary patches can be posted to once they've gotten to
a point of being usable.</pre></div><div class="change-set" id="a7308_4412"><div class="change" id="aa7308_4412">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a7308_4412"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4412" id="a7308_4412"><a class="email " href="user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a7308_4412">-</button>
        </td>
      </tr>
      <tr id="ar-a7308_4412">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a7308_4412">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-09-04 21:49 PDT" data-time="999665357">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Enumerators in Bugzilla are not cross-DB compatible"
   href="show_bug.cgi?id=17453">17453</a></div></div></div><div class="change-set cc-only" id="a3793305_5143" style="display:none"><div class="change" id="aa3793305_5143">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5143" id="a3793305_5143"><img src="https://secure.gravatar.com/avatar/74fea6d0c828792ea8e4c27ec0b48461?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5143" id="a3793305_5143"><a class="email " href="user_profile?user_id=5143" > <span class="fna">Marcus Pallinger</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a3793305_5143">-</button>
        </td>
      </tr>
      <tr id="ar-a3793305_5143">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a3793305_5143">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-18 17:29 PDT" data-time="1003451354">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: mpal1</div></div></div><div class="change-set" id="a4193834_5898"><div class="change" id="aa4193834_5898">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a4193834_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a4193834_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a4193834_5898">-</button>
        </td>
      </tr>
      <tr id="ar-a4193834_5898">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a4193834_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-23 08:44 PDT" data-time="1003851883">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Duplicate field names in bugzilla tables (component IDs etc.)"
   href="show_bug.cgi?id=43600">43600</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Customised resolutions."
   href="show_bug.cgi?id=94534">94534</a></div></div></div><div class="change-set cc-only" id="a4195159_5500" style="display:none"><div class="change" id="aa4195159_5500">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5500" id="a4195159_5500"><img src="https://secure.gravatar.com/avatar/6d75c016bbdd76ede4974844bf5da50f?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5500" id="a4195159_5500"><a class="email " href="user_profile?user_id=5500" > <span class="fna">Stephen Rasku</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a4195159_5500">-</button>
        </td>
      </tr>
      <tr id="ar-a4195159_5500">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a4195159_5500">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-23 09:06 PDT" data-time="1003853208">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: stephen</div></div></div><div class="change-set cc-only" id="a4199270_29274" style="display:none"><div class="change" id="aa4199270_29274">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a4199270_29274"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_29274" id="a4199270_29274"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a4199270_29274">-</button>
        </td>
      </tr>
      <tr id="ar-a4199270_29274">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a4199270_29274">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-23 10:15 PDT" data-time="1003857319">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: bbaetz</div></div></div><div class="change-set" id="c1"><div class="comment" data-id="991414" data-no="1">
    
    <table class="layout-table change-head " id="ch-1">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a4199270_29274"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a4199270_29274"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-1">-</button>
        </td>
      </tr>

      <tr id="cr-1" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c1">Comment 1</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-25 11:25 PDT" data-time="1004034317">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-1">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-1">Created <span class="bz_obsolete"><a href="attachment.cgi?id=55101" name="attach_55101" title="PostgreSQL first pass patch to current Mozilla CVS (v0.1)">attachment 55101</a> <a href="attachment.cgi?id=55101&amp;action=edit" title="PostgreSQL first pass patch to current Mozilla CVS (v0.1)">[details]</a> <a href="attachment.cgi?id=55101&amp;action=diff" title="PostgreSQL first pass patch to current Mozilla CVS (v0.1)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=55101'>[review]</a>
PostgreSQL first pass patch to current Mozilla CVS (v0.1)</pre></div><div class="change-set" id="c2"><div class="comment" data-id="992654" data-no="2">
    
    <table class="layout-table change-head " id="ch-2">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a4199270_29274"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a4199270_29274"><a class="email " href="user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-2">-</button>
        </td>
      </tr>

      <tr id="cr-2" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c2">Comment 2</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-25 22:06 PDT" data-time="1004072804">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-2">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-2">A few quick comments from a quick look:

I think the driver statements should check the driver is PostgreSQL too, and
give fail appropriately if it doesn't recognise the driver.  When we add
drivers, I think it's better to give explicit error messages.

I think that the REGEXP/~ stuff, INSTR/STRPOS stuff, etc should be put in subs,
eg RegExpSQL ($$).  This will make it easier to add new drivers to the code base
as well as making the code more readable because XD support isn't in the way.

Why is there still groupbitset stuff in here?  I thought we were removing that
stuff?</pre></div><div class="change-set" id="c3"><div class="comment" data-id="992713" data-no="3">
    
    <table class="layout-table change-head " id="ch-3">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a4199270_29274"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a4199270_29274"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-3">-</button>
        </td>
      </tr>

      <tr id="cr-3" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c3">Comment 3</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-25 23:03 PDT" data-time="1004076223">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-3">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-3">I agree that smaller utility functions would make the code cleaner and require
less changes throughout all the files such as things like SqlDate and the
regular expression stuff. I will make the necessary changes in the next day or
so. I left in the groupbit stuff to basically make the PostgreSQL port
functionally equivalent to the current Mozilla code base. The group changes are
a separate patch that will be merged into separately.</pre></div><div class="change-set cc-only" id="a4427732_4412" style="display:none"><div class="change" id="aa4427732_4412">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a4427732_4412"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4412" id="a4427732_4412"><a class="email " href="user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a4427732_4412">-</button>
        </td>
      </tr>
      <tr id="ar-a4427732_4412">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a4427732_4412">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-26 01:43 PDT" data-time="1004085781">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: jay</div></div></div><div class="change-set" id="c4"><div class="comment" data-id="992889" data-no="4">
    
    <table class="layout-table change-head " id="ch-4">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a4427732_4412"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a4427732_4412"><a class="email " href="user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-4">-</button>
        </td>
      </tr>

      <tr id="cr-4" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c4">Comment 4</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-26 01:43 PDT" data-time="1004085785">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-4">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-4">*** <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED DUPLICATE - bugzilla uses non-standard sql"
   href="show_bug.cgi?id=1104">Bug 1104</a> has been marked as a duplicate of this bug. ***</pre></div><div class="change-set" id="c5"><div class="comment" data-id="994957" data-no="5">
    
    <table class="layout-table change-head reporter" id="ch-5">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a4427732_4412"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a4427732_4412"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-5">-</button>
        </td>
      </tr>

      <tr id="cr-5" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c5">Comment 5</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-27 04:15 PDT" data-time="1004181327">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-5">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-5">This is now on the &quot;we really want this for 2.16, but won't hold the release for
it if it's not done by then&quot; list.</pre><div class="activity"><div class="change">Priority: -- &rarr; P1</div><div class="change">Target Milestone: --- &rarr; Bugzilla 2.16</div></div></div><div class="change-set" id="c6"><div class="comment" data-id="996550" data-no="6">
    
    <table class="layout-table change-head " id="ch-6">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a4427732_4412"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a4427732_4412"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-6">-</button>
        </td>
      </tr>

      <tr id="cr-6" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c6">Comment 6</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-28 23:30 PST" data-time="1004340605">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-6">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-6">Created <span class="bz_obsolete"><a href="attachment.cgi?id=55518" name="attach_55518" title="PostgreSQL second pass patch to current Mozilla CVS (v0.2)">attachment 55518</a> <a href="attachment.cgi?id=55518&amp;action=edit" title="PostgreSQL second pass patch to current Mozilla CVS (v0.2)">[details]</a> <a href="attachment.cgi?id=55518&amp;action=diff" title="PostgreSQL second pass patch to current Mozilla CVS (v0.2)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=55518'>[review]</a>
PostgreSQL second pass patch to current Mozilla CVS (v0.2)</pre></div><div class="change-set" id="c7"><div class="comment" data-id="996553" data-no="7">
    
    <table class="layout-table change-head " id="ch-7">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a4427732_4412"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a4427732_4412"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-7">-</button>
        </td>
      </tr>

      <tr id="cr-7" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c7">Comment 7</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-28 23:38 PST" data-time="1004341093">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-7">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-7">Just attached second pass patch for PostgreSQL. Main differences are the
addition of two SQL utility functions SqlRegEx and SqlStrSearch. These replace
the REGEXP and INSTR function used by MySQL with functions that return the
proper syntax depending on which database you are currently using. Also I have
changed syntax from 

if ($::driver eq 'mysql) {

} else {

}

to

if ($::driver eq 'mysql') {

} elsif ($::driver eq 'Pg') {

}

buglist.cgi is currently broken due to a LEFT JOIN added in by the new
SelectVisible() function. It generates the following error:

SELECT bugs.bug_id, bugs.groupset, substring(bugs.bug_severity, 1, 3),
substring(bugs.priority, 1, 3), substring(bugs.rep_platform, 1, 3),
map_assigned_to.login_name, substring(bugs.bug_status,1,4),
substring(bugs.resolution,1,4), substring(bugs.short_desc, 1, 60) FROM bugs,
profiles map_assigned_to, profiles map_reporter LEFT JOIN cc selectVisible_cc ON
bugs.bug_id = selectVisible_cc.bug_id AND selectVisible_cc.who = 1 WHERE
((bugs.groupset &amp; int8(9223372036854775807)) = bugs.groupset OR
(bugs.reporter_accessible = 1 AND bugs.reporter = 1) OR
(bugs.assignee_accessible = 1 AND bugs.assigned_to = 1) OR
(bugs.qacontact_accessible = 1 AND bugs.qa_contact = 1) OR
(bugs.cclist_accessible = 1 AND selectVisible_cc.who = 1 AND
selectVisible_cc.who IS NOT NULL)) AND bugs.assigned_to = map_assigned_to.userid
AND bugs.reporter = map_reporter.userid AND (bugs.bug_status = 'NEW' OR
bugs.bug_status = 'ASSIGNED' OR bugs.bug_status = 'REOPENED') GROUP BY
bugs.bug_id ORDER BY bugs.bug_status, bugs.resolution, bugs.bug_status,
map_assigned_to.login_name, bugs.bug_status, priority, bugs.bug_id: ERROR:
JOIN/ON clause refers to &quot;bugs&quot;, which is not part of JOIN at globals.pl line 235.

If someone has an idea on how to fix the error let me know.
I also need to attach the pgsetup.pl script for creation of PostgreSQL tables as
soon as I sync it up with the current checksetup.pl.
</pre></div><div class="change-set" id="c8"><div class="comment" data-id="996566" data-no="8">
    
    <table class="layout-table change-head reporter" id="ch-8">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a4427732_4412"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a4427732_4412"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-8">-</button>
        </td>
      </tr>

      <tr id="cr-8" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c8">Comment 8</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-29 00:00 PST" data-time="1004342436">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-8">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-8">V0.2 has been checked in on branch Bugzilla_PgSQL_branch

you can get this with:

cvs checkout -rBugzilla_PgSQL_branch Bugzilla

or

cvs update -rBugzilla_PgSQL_branch

If you don't know how to merge with the trunk (which we'll need to do somewhat
frequently until this is ready for prime time) I can show you how to do that.

I also set up a tinderbox testing this, and it fails (Burning).  See
<a rel="nofollow" href="http://tinderbox.mozilla.org/Bugzilla/">http://tinderbox.mozilla.org/Bugzilla/</a> and click the &quot;L&quot; to look at the error
logs.  If it's the test's fault because of something PgSQL does that we don't
handle correctly, let us know so we can fix the test. :)</pre></div><div class="change-set" id="c9"><div class="comment" data-id="996568" data-no="9">
    
    <table class="layout-table change-head " id="ch-9">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a4427732_4412"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a4427732_4412"><a class="email " href="user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-9">-</button>
        </td>
      </tr>

      <tr id="cr-9" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c9">Comment 9</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-29 00:04 PST" data-time="1004342642">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-9">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-9">Try moving the bugs table in the FROM part to just left of the LEFT JOIN?</pre></div><div class="change-set" id="c10"><div class="comment" data-id="996582" data-no="10">
    
    <table class="layout-table change-head " id="ch-10">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a4427732_4412"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a4427732_4412"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-10">-</button>
        </td>
      </tr>

      <tr id="cr-10" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c10">Comment 10</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-29 00:21 PST" data-time="1004343668">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-10">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-10">Created <span class="bz_obsolete"><a href="attachment.cgi?id=55523" name="attach_55523" title="Setup utility similar to checksetup.pl except for PostgreSQL">attachment 55523</a> <a href="attachment.cgi?id=55523&amp;action=edit" title="Setup utility similar to checksetup.pl except for PostgreSQL">[details]</a></span>
Setup utility similar to checksetup.pl except for PostgreSQL</pre></div><div class="change-set" id="c11"><div class="comment" data-id="997078" data-no="11">
    
    <table class="layout-table change-head " id="ch-11">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a4427732_4412"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a4427732_4412"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-11">-</button>
        </td>
      </tr>

      <tr id="cr-11" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c11">Comment 11</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-29 10:10 PST" data-time="1004379013">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-11">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-11">Yeah, you need to have bugs LEFT JOIN cc, I think.

If you can't rework the regexp to do this (and doing so may break other
queries), then you'll need to do:

bugs AS selectVisible_bugs LEFT JOIN cc AS selectVisible_cc ON ...

and then add selectVisible_bugs.bug_id = bugs.bug_id to the WHERE part, unless
you can think of something better. I'd think that that would be slower, though.</pre></div><div class="change-set cc-only" id="a4874059_35182" style="display:none"><div class="change" id="aa4874059_35182">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_35182" id="a4874059_35182"><img src="https://secure.gravatar.com/avatar/3004d1fb90b4a89c5501cf52ae463f12?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_35182" id="a4874059_35182"><a class="email " href="user_profile?user_id=35182" > <span class="fna">Alessio Bragadini</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a4874059_35182">-</button>
        </td>
      </tr>
      <tr id="ar-a4874059_35182">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a4874059_35182">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-10-31 04:41 PST" data-time="1004532108">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: alessio</div></div></div><div class="change-set" id="c12"><div class="comment" data-id="1030094" data-no="12">
    
    <table class="layout-table change-head " id="ch-12">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a4874059_35182"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a4874059_35182"><a class="email " href="user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-12">-</button>
        </td>
      </tr>

      <tr id="cr-12" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c12">Comment 12</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-11-17 22:41 PST" data-time="1006065713">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-12">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-12">We might do some of this for 2.16 but not all, so moving off to 2.18.</pre><div class="activity"><div class="change">Target Milestone: Bugzilla 2.16 &rarr; Bugzilla 2.18</div></div></div><div class="change-set" id="c13"><div class="comment" data-id="1065303" data-no="13">
    
    <table class="layout-table change-head " id="ch-13">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a4874059_35182"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a4874059_35182"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-13">-</button>
        </td>
      </tr>

      <tr id="cr-13" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c13">Comment 13</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2001-12-10 14:05 PST" data-time="1008021944">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-13">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-13">I have made a change to CanSeeBug to alleviate some of the joining problems.
Please see my comment made on <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Need more than 55 groups"
   href="show_bug.cgi?id=68022">bug 68022</a> which is relevant to this report also.</pre><div class="activity"><div class="change">Status: NEW &rarr; ASSIGNED</div></div></div><div class="change-set" id="a11856465_5898"><div class="change" id="aa11856465_5898">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a11856465_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a11856465_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a11856465_5898">-</button>
        </td>
      </tr>
      <tr id="ar-a11856465_5898">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a11856465_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-20 00:15 PST" data-time="1011514514">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WONTFIX - bit column name in groups table not good for database independence"
   href="show_bug.cgi?id=120980">120980</a></div></div></div><div class="change-set" id="c14"><div class="comment" data-id="1122582" data-no="14">
    
    <table class="layout-table change-head " id="ch-14">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a11856465_5898"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a11856465_5898"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-14">-</button>
        </td>
      </tr>

      <tr id="cr-14" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c14">Comment 14</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-20 03:59 PST" data-time="1011527986">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-14">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-14">From IRC:

&lt;bbaetz&gt; I think we should do this in stages
&lt;bbaetz&gt; 1. group stuff
&lt;bbaetz&gt; 2. &quot; -&gt; '
&lt;bbaetz&gt;  /other sql syntax changes which don't affect mysql
&lt;bbaetz&gt; 3. checksetup/conversion/etc
&lt;bbaetz&gt; 4. transations
&lt;bbaetz&gt; 5. constraints
&lt;bbaetz&gt; oh, and 5 may include ON DELETE CASCADE type stuff

4 and 5 may be swapped arround/combined/etc</pre></div><div class="change-set" id="c15"><div class="comment" data-id="1122595" data-no="15">
    
    <table class="layout-table change-head " id="ch-15">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a11856465_5898"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a11856465_5898"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-15">-</button>
        </td>
      </tr>

      <tr id="cr-15" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c15">Comment 15</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-20 04:39 PST" data-time="1011530352">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-15">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-15">Oh, and somewhere in there we need to handle locking (course grained locking
before transactions are supported are ok).

The pgsql branch currently just wraps all calls to LOCK/UNLOCK in an if
($::driver eq 'mysql') block - thats not a good idea...</pre></div><div class="change-set" id="c16"><div class="comment" data-id="1122787" data-no="16">
    
    <table class="layout-table change-head " id="ch-16">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a11856465_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a11856465_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-16">-</button>
        </td>
      </tr>

      <tr id="cr-16" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c16">Comment 16</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-20 10:58 PST" data-time="1011553126">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-16">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-16">The reason I conditioned out the LOCK stuff to be only MySQL is because PgSQL
handles locking pretty well out of the box. It does also support explicit
locking using LOCK and UNLOCK but the syntax is a little different then MySQL so
I chose the other route.</pre></div><div class="change-set" id="c17"><div class="comment" data-id="1123042" data-no="17">
    
    <table class="layout-table change-head " id="ch-17">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a11856465_5898"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a11856465_5898"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-17">-</button>
        </td>
      </tr>

      <tr id="cr-17" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c17">Comment 17</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-20 17:14 PST" data-time="1011575672">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-17">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-17">I must be missing something, then. Whats to stop two simultanious updates to a
bug, if we don't do locking? If I add an attachment (which for some reason
doesn't  use an auto_increment field), whats to stop one getting one id, and the
other getting the same id (and them failing due to the uniqueness test)?</pre></div><div class="change-set" id="c18"><div class="comment" data-id="1123077" data-no="18">
    
    <table class="layout-table change-head " id="ch-18">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a11856465_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a11856465_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-18">-</button>
        </td>
      </tr>

      <tr id="cr-18" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c18">Comment 18</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-20 18:21 PST" data-time="1011579709">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-18">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-18">PostgreSQL has a special locking mechanism called MVCC (Multi Version
Concurrency Control). For more information on this check out:

<a rel="nofollow" href="http://www.postgresql.org/idocs/index.php?mvcc.html">http://www.postgresql.org/idocs/index.php?mvcc.html</a>

Basically when a access the databasem he/she gets a current snapshot of the
database to themselves. If they need a sequence number it grabs the next id, if
they do not use it and their session ends it does not go back in the pool so it
is lost. I dont really see this happening alot but if it does it is only a
single number gap worst case.

PostgreSQL does support SELECT FOR UPDATE so if we move in that direction for
the future, it shouldnt be a problem to get rid of the conditionals at that time.</pre></div><div class="change-set" id="c19"><div class="comment" data-id="1123085" data-no="19">
    
    <table class="layout-table change-head " id="ch-19">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a11856465_5898"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a11856465_5898"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-19">-</button>
        </td>
      </tr>

      <tr id="cr-19" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c19">Comment 19</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-20 18:47 PST" data-time="1011581236">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-19">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-19">OK, then I think I do misunderstand ;)

That only protects against other _uncommited_ transactions, AIUI.

Consider the following, which is how editattachstatuses.cgi adds new attachments.

table test2 has two columns, id, and test_id, with a unique index on id.

user1                                user2
---------------------------------------------------------
bbaetz=&gt; begin;                      bbaetz=&gt; begin;
BEGIN                                BEGIN
bbaetz=&gt; select max(id) from test2;
 max 
-----
   4
(1 row)
                                     bbaetz=&gt; select max(id) from test2;
                                      max 
                                     -----
                                        4
                                    (1 row)
bbaetz=&gt;insert into test2 values(5,5);
INSERT 18776 1
                                     bbaetz=&gt; insert into test2 values(5,7);
                                     (blocks....)
bbaetz=&gt;commit;
COMMIT
                                     ERROR: Cannot insert a duplicate key into
                                     unique index test2_id_index

Oops. So the index is still unique, but the second attachmentstatus addition
failed. Now our code has to know how to rollback, and start again. Yuck.

What the code really needs to do is to lock the table in SHARE ROW EXCLUSIVE
mode first. The current code does LOCK TABLES attachstatusdefs WRITE, before this.

Mysql only has read and write locks, which translate directly to SHARE and
ACCESS EXCLUSIVE modes, I think. ACCESS EXCLUSIVE is very heavy weight - it even
blocks other SELECTS. Here we can get away with something simpler, since we
don't mind other people trying to select on the table for display. (of course,
if they want a read lock, they'd have to block) Locks only matter within
transactions, too, and postgresql doesn't have an UNLOCK command, so we'd have
to have psuedo support for those, at least.

What am I missing? (If you want to discuss this on IRC&lt; that would probably be
easier...)</pre></div><div class="change-set" id="c20"><div class="comment" data-id="1123090" data-no="20">
    
    <table class="layout-table change-head " id="ch-20">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a11856465_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a11856465_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-20">-</button>
        </td>
      </tr>

      <tr id="cr-20" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c20">Comment 20</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-20 19:00 PST" data-time="1011582000">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-20">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-20">That is one reason why I have found ever doing SELECT MAX(id)+1 for getting a
next primary key is not really a good idea. That is where sequences are helpful.
This is a paragraph from the PgSQL docs that explains alittle.

To avoid blocking of concurrent transactions that obtain numbers from the same
sequence, a nextval operation is never rolled back; that is, once a value has
been fetched it is considered used, even if the transaction that did the nextval
later aborts. This means that aborted transactions may leave unused &quot;holes&quot; in
the sequence of assigned values. setval operations are never rolled back, either.

So if you were using sequences which I am, you would also need to LOCK the
sequence table itself to make sure that noone can get a number until you are
done if the above method wasnt implemented.</pre></div><div class="change-set" id="c21"><div class="comment" data-id="1123104" data-no="21">
    
    <table class="layout-table change-head " id="ch-21">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a11856465_5898"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a11856465_5898"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-21">-</button>
        </td>
      </tr>

      <tr id="cr-21" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c21">Comment 21</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-20 19:39 PST" data-time="1011584358">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-21">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-21">Sure. But:

a) The code does this already, so we have to support it (and the frequency of
doing an INSERT for a new bug/etc is reasonably low that locking the sequence
table/using a trigger for MAX(id)+1/etc wouldn't introduce noticable contention).

A sequence won't work for tokens, once we move to making them non-unique.

b) That was the simple case, but consider adding a vote to a bug. You haven't
change doeditvotes.cgi, but it needs to be locked. Currently it deletes all
votes, then adds the existing ones, counting + updating the cache on the bugs
record. You don't want that happening concurrently... Even if it was using
RelationSet, you'd still have problems if the same user modified their votes
simultaniously.

(OTOH, looking through a code I see a lack of locking in places - eg I think its
possible for the &lt;title&gt; of a bug to be different to its summary in the
textfield, since the SELECT is called once from show_bug, and again from
bug_form, while process_bug can happen in the middle. Using pgsql doesn't change
that, but if it was fixed, SHARE locking would be needed on the bugs table.

I agree that pgsql can get rid of a large number of the locks, but not all of
them...</pre></div><div class="change-set" id="c22"><div class="comment" data-id="1123182" data-no="22">
    
    <table class="layout-table change-head " id="ch-22">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a11856465_5898"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a11856465_5898"><a class="email " href="user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-22">-</button>
        </td>
      </tr>

      <tr id="cr-22" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c22">Comment 22</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-20 23:41 PST" data-time="1011598874">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-22">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-22">I think PostgreSQL will fail transactions that clash in that way, so they need
to be reapplied.</pre></div><div class="change-set" id="c23"><div class="comment" data-id="1123190" data-no="23">
    
    <table class="layout-table change-head " id="ch-23">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a11856465_5898"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a11856465_5898"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-23">-</button>
        </td>
      </tr>

      <tr id="cr-23" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c23">Comment 23</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-20 23:50 PST" data-time="1011599420">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-23">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-23"><span class="quote">&gt; I think PostgreSQL will fail transactions that clash in that way, so they need
&gt; to be reapplied.</span >

Unless you take care in locking, which is what we'd want to do, rather than
using serilized transactions and handling retrying ourselves.</pre></div><div class="change-set" id="c24"><div class="comment" data-id="1123250" data-no="24">
    
    <table class="layout-table change-head " id="ch-24">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a11856465_5898"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a11856465_5898"><a class="email " href="user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-24">-</button>
        </td>
      </tr>

      <tr id="cr-24" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c24">Comment 24</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-21 01:48 PST" data-time="1011606522">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-24">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-24">Suggest moving transaction discussion to newly filed <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Implement database transactions across Bugzilla"
   href="show_bug.cgi?id=121069">bug #121069</a> - transactions
are not necessary to support PostgreSQL AFAIK.</pre></div><div class="change-set cc-only" id="a12050002_15150" style="display:none"><div class="change" id="aa12050002_15150">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_15150" id="a12050002_15150"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_15150" id="a12050002_15150"><a class="email " href="user_profile?user_id=15150" > <span class="fna">GavinS</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a12050002_15150">-</button>
        </td>
      </tr>
      <tr id="ar-a12050002_15150">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a12050002_15150">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-22 06:00 PST" data-time="1011708051">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: gavins</div></div></div><div class="change-set" id="c25"><div class="comment" data-id="1138323" data-no="25">
    
    <table class="layout-table change-head " id="ch-25">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a12050002_15150"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a12050002_15150"><a class="email " href="user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-25">-</button>
        </td>
      </tr>

      <tr id="cr-25" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c25">Comment 25</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-29 23:47 PST" data-time="1012376845">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-25">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-25">I suggest the first version of the PgSQL code should use locking in the same way
as MySQL does.

This would simplify the initial landing to what is necessary to get it working.

We can definitely use MVCC later but MVCC won't work unless you're using
transactions.</pre></div><div class="change-set" id="c26"><div class="comment" data-id="1138684" data-no="26">
    
    <table class="layout-table change-head " id="ch-26">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a12050002_15150"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a12050002_15150"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-26">-</button>
        </td>
      </tr>

      <tr id="cr-26" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c26">Comment 26</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-30 09:14 PST" data-time="1012410887">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-26">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-26">From the PostgreSQL documentation, table locking is only effective when 
utilizing transactions which we do not do yet. Also most of the necessary row locking
is done automatically for you by PostgreSQL for most common operations such
as SELECT, UPDATE, INSERT, and DELETE. Please refer to the following page
and correct me if I am off base.

<a rel="nofollow" href="http://www3.us.postgresql.org/users-lounge/docs/7.1/reference/sql-lock.html">http://www3.us.postgresql.org/users-lounge/docs/7.1/reference/sql-lock.html</a>
</pre></div><div class="change-set" id="c27"><div class="comment" data-id="1140319" data-no="27">
    
    <table class="layout-table change-head " id="ch-27">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4412" id="a12050002_15150"><img src="https://secure.gravatar.com/avatar/106d7ac8a2e9029d80bdf5a252e792cb?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_4412" id="a12050002_15150"><a class="email " href="user_profile?user_id=4412" > <span class="fna">Matthew Tuck [:CodeMachine]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-27">-</button>
        </td>
      </tr>

      <tr id="cr-27" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c27">Comment 27</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-30 20:19 PST" data-time="1012450743">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-27">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-27">bbaetz mentioned this on IRC and mooted the idea that for a first pass we could
replace locks and unlocks with equivalent subs that did an implicit transaction
for PgSQL.  This would be reasonably easy.

Maybe we will introduce proper transactions for 2.18 but it would be nice if it
was a separate patch.

The full transactionising task is probably a lot harder, we need to audit for
places where there is insufficient locking currently.  We know some of these
places exist.</pre></div><div class="change-set" id="c28"><div class="comment" data-id="1140439" data-no="28">
    
    <table class="layout-table change-head " id="ch-28">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a12050002_15150"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a12050002_15150"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-28">-</button>
        </td>
      </tr>

      <tr id="cr-28" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c28">Comment 28</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-01-30 22:46 PST" data-time="1012459584">16 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-28">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-28">And, again, I want to try it out, _then_ work on an API. When I get time, I'll
sit down with some paper, a pen, and the bugzilla source, and work out what
locks we need (as opposed to what we currently have)</pre></div><div class="change-set cc-only" id="a14383366_23379" style="display:none"><div class="change" id="aa14383366_23379">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_23379" id="a14383366_23379"><img src="https://secure.gravatar.com/avatar/18f67c893e73638199a699acec4b95c4?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_23379" id="a14383366_23379"><a class="email " href="user_profile?user_id=23379" > <span class="fna">brightice</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a14383366_23379">-</button>
        </td>
      </tr>
      <tr id="ar-a14383366_23379">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a14383366_23379">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-02-18 06:10 PST" data-time="1014041415">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: brightice</div></div></div><div class="change-set cc-only" id="a15347819_45298" style="display:none"><div class="change" id="aa15347819_45298">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_45298" id="a15347819_45298"><img src="https://secure.gravatar.com/avatar/ff67b37ecf5f283e768a415907098351?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_45298" id="a15347819_45298"><a class="email " href="user_profile?user_id=45298" > <span class="fna">Paul Kronenwetter</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a15347819_45298">-</button>
        </td>
      </tr>
      <tr id="ar-a15347819_45298">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a15347819_45298">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-03-01 10:04 PST" data-time="1015005868">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: kronenpj</div></div></div><div class="change-set cc-only" id="a17734957_44700" style="display:none"><div class="change" id="aa17734957_44700">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_44700" id="a17734957_44700"><img src="https://secure.gravatar.com/avatar/8adc9ff68ba383dcfc0d0a24064863e7?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_44700" id="a17734957_44700"><a class="email " href="user_profile?user_id=44700" > <span class="fna">Igor Jese</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a17734957_44700">-</button>
        </td>
      </tr>
      <tr id="ar-a17734957_44700">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a17734957_44700">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-03-29 01:10 PST" data-time="1017393006">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: ijese</div></div></div><div class="change-set cc-only" id="a21411231_34938" style="display:none"><div class="change" id="aa21411231_34938">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_34938" id="a21411231_34938"><img src="https://secure.gravatar.com/avatar/b9892f39a333a229b6276d5208e1d0d9?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_34938" id="a21411231_34938"><a class="email " href="user_profile?user_id=34938" > <span class="fna">Cdric Caron</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a21411231_34938">-</button>
        </td>
      </tr>
      <tr id="ar-a21411231_34938">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a21411231_34938">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-05-10 15:21 PDT" data-time="1021069280">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: cedric.caron</div></div></div><div class="change-set cc-only" id="a21549602_17698" style="display:none"><div class="change" id="aa21549602_17698">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17698" id="a21549602_17698"><img src="https://secure.gravatar.com/avatar/59bb54dfb20da7cb7df19c400d5de588?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_17698" id="a21549602_17698"><a class="email " href="user_profile?user_id=17698" > <span class="fna">Damien Miller</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a21549602_17698">-</button>
        </td>
      </tr>
      <tr id="ar-a21549602_17698">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a21549602_17698">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-05-12 05:47 PDT" data-time="1021207651">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: djm</div></div></div><div class="change-set cc-only" id="a21592817_45620" style="display:none"><div class="change" id="aa21592817_45620">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_45620" id="a21592817_45620"><img src="https://secure.gravatar.com/avatar/802d6901c111008359c9b59a1998213f?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_45620" id="a21592817_45620"><a class="email " href="user_profile?user_id=45620" > <span class="fna">Sergey Lipnevich</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a21592817_45620">-</button>
        </td>
      </tr>
      <tr id="ar-a21592817_45620">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a21592817_45620">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-05-12 17:47 PDT" data-time="1021250866">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: sergeyli</div></div></div><div class="change-set cc-only" id="a21609427_43662" style="display:none"><div class="change" id="aa21609427_43662">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_43662" id="a21609427_43662"><img src="https://secure.gravatar.com/avatar/943f7819aa50e2c0f679f3732bbf24c4?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_43662" id="a21609427_43662"><a class="email " href="user_profile?user_id=43662" > <span class="fna">Jouni Heikniemi</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a21609427_43662">-</button>
        </td>
      </tr>
      <tr id="ar-a21609427_43662">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a21609427_43662">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-05-12 22:24 PDT" data-time="1021267476">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: jouni</div></div></div><div class="change-set cc-only" id="a26502115_4366" style="display:none"><div class="change" id="aa26502115_4366">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4366" id="a26502115_4366"><img src="https://secure.gravatar.com/avatar/eb11f536431b5b02901e491117ba6800?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4366" id="a26502115_4366"><a class="email " href="user_profile?user_id=4366" > <span class="fna">Andreas Otte</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a26502115_4366">-</button>
        </td>
      </tr>
      <tr id="ar-a26502115_4366">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a26502115_4366">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-07-08 13:29 PDT" data-time="1026160164">16 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: andreas.otte</div></div></div><div class="change-set" id="c29"><div class="comment" data-id="1515067" data-no="29">
    
    <table class="layout-table change-head " id="ch-29">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_40200" id="a26502115_4366"><img src="https://secure.gravatar.com/avatar/8898fbd2a71fa487b30a80573b96c490?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_40200" id="a26502115_4366"><a class="email " href="user_profile?user_id=40200" > <span class="fna">Joel Peshkin</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-29">-</button>
        </td>
      </tr>

      <tr id="cr-29" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c29">Comment 29</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-08-27 09:14 PDT" data-time="1030464857">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-29">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-29">
Note to pgSQL implementers...
When running a query that relies on the ordering of NULL values in SELECTS
versus non-NULL values, MySQL and PgSQL follow opposite conventions. 
MySQL 3.23 puts NULL first if ascending, last if descending
MySQL 4.0 documentation claims NULL is first regardless
pgSQL documentation claims NULL is last if ascending and first if descending.

Since doing JOINS with ISNULL is vital to get decent performance out of all of
the maps Bugzilla is getting, it is a good idea to make a provision for
portability on this.  ORDER BY statements that are relying on this behavior
should be able to do somthing like &quot;ORDER BY fieldname $::NullFirst&quot; where
NullFirst would be defined according to the database in use.

</pre></div><div class="change-set cc-only" id="a31452920_65560" style="display:none"><div class="change" id="aa31452920_65560">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_65560" id="a31452920_65560"><img src="https://secure.gravatar.com/avatar/8dd013d0ff2696e2a649c9a5b68f7c19?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_65560" id="a31452920_65560"><a class="email " href="user_profile?user_id=65560" > <span class="fna">Slava Buhtiarov</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a31452920_65560">-</button>
        </td>
      </tr>
      <tr id="ar-a31452920_65560">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a31452920_65560">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-03 20:42 PDT" data-time="1031110969">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: slava</div></div></div><div class="change-set cc-only" id="a33160648_5898" style="display:none"><div class="change" id="aa33160648_5898">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a33160648_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a33160648_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a33160648_5898">-</button>
        </td>
      </tr>
      <tr id="ar-a33160648_5898">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a33160648_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-23 15:04 PDT" data-time="1032818697">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: bugreport</div></div></div><div class="change-set" id="a33160715_5898"><div class="change" id="aa33160715_5898">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a33160715_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a33160715_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a33160715_5898">-</button>
        </td>
      </tr>
      <tr id="ar-a33160715_5898">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a33160715_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-23 15:06 PDT" data-time="1032818764">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=55101&amp;action=edit"
           title="PostgreSQL first pass patch to current Mozilla CVS (v0.1)"
           class=""
        >Attachment #55101</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a33160752_5898"><div class="change" id="aa33160752_5898">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a33160752_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a33160752_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a33160752_5898">-</button>
        </td>
      </tr>
      <tr id="ar-a33160752_5898">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a33160752_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-23 15:06 PDT" data-time="1032818801">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=55518&amp;action=edit"
           title="PostgreSQL second pass patch to current Mozilla CVS (v0.2)"
           class=""
        >Attachment #55518</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a33160838_5898"><div class="change" id="aa33160838_5898">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a33160838_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a33160838_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a33160838_5898">-</button>
        </td>
      </tr>
      <tr id="ar-a33160838_5898">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a33160838_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-23 15:08 PDT" data-time="1032818887">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=55523&amp;action=edit"
           title="Setup utility similar to checksetup.pl except for PostgreSQL"
           class=""
        >Attachment #55523</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c30"><div class="comment" data-id="1557367" data-no="30">
    
    <table class="layout-table change-head " id="ch-30">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a33160838_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a33160838_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-30">-</button>
        </td>
      </tr>

      <tr id="cr-30" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c30">Comment 30</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-23 15:10 PDT" data-time="1032819007">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-30">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-30">Created <span class="bz_obsolete"><a href="attachment.cgi?id=100290" name="attach_100290" title="PostgreSQL configuration utility similar to checksetup.pl v(1)">attachment 100290</a> <a href="attachment.cgi?id=100290&amp;action=edit" title="PostgreSQL configuration utility similar to checksetup.pl v(1)">[details]</a></span>
PostgreSQL configuration utility similar to checksetup.pl v(1)</pre></div><div class="change-set" id="c31"><div class="comment" data-id="1557389" data-no="31">
    
    <table class="layout-table change-head " id="ch-31">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a33160838_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a33160838_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-31">-</button>
        </td>
      </tr>

      <tr id="cr-31" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c31">Comment 31</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-23 15:14 PDT" data-time="1032819286">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-31">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-31">Created <span class="bz_obsolete"><a href="attachment.cgi?id=100291" name="attach_100291" title="Port CVS Head to PostgreSQL (v1)">attachment 100291</a> <a href="attachment.cgi?id=100291&amp;action=edit" title="Port CVS Head to PostgreSQL (v1)">[details]</a> <a href="attachment.cgi?id=100291&amp;action=diff" title="Port CVS Head to PostgreSQL (v1)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=100291'>[review]</a>
Port CVS Head to PostgreSQL (v1)

This is initial first pass at making the new cvs head with integrated group
schema changed to work with PostgreSQL. Still needs work:

1. regular expression searches in Search.pm
2. buglist.cgi has permission checking turned off to allow it to work. Probable

cause of error is different JOIN syntax with Pg.
3. Attachments are large text fields for now. Need to be converted to support
Pg's large binary object interface.
4. Some substring searches are probably borken too in Search.pm but have not
tried it yet.

Most of this stuff just needs for me to bring over my changed from the previous
PostgreSQL port which had most of these working.</pre></div><div class="change-set" id="c32"><div class="comment" data-id="1557475" data-no="32">
    
    <table class="layout-table change-head " id="ch-32">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a33160838_5898"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a33160838_5898"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-32">-</button>
        </td>
      </tr>

      <tr id="cr-32" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c32">Comment 32</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-23 16:00 PDT" data-time="1032822052">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-32">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-32">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=100291" name="attach_100291" title="Port CVS Head to PostgreSQL (v1)">attachment 100291</a> <a href="attachment.cgi?id=100291&amp;action=edit" title="Port CVS Head to PostgreSQL (v1)">[details]</a> <a href="attachment.cgi?id=100291&amp;action=diff" title="Port CVS Head to PostgreSQL (v1)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=100291'>[review]</a>
Port CVS Head to PostgreSQL (v1)

This diff has a whole lot of other changes - I suspect it wasn't diffed against
the correct base tag.

A lot of the conditionaly stuff shouldn't be there, since its valid for mysql
too (eg the 'delete from logincookes' stuff)

What mode does |LOCK TABLE| w/o an expicit mode use?

Can't you handle the LOCK stuff in SendSQL, like you do UNLOCK? Also, unless
you lock the tables in the same order (eg alphabetical), Pg will end up in a
deadlock state eventually.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=100291&amp;action=edit"
           title="Port CVS Head to PostgreSQL (v1)"
           class=""
        >Attachment #100291</a> -
        Flags: review-</div></div></div><div class="change-set" id="a33340895_5898"><div class="change" id="aa33340895_5898">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a33340895_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a33340895_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a33340895_5898">-</button>
        </td>
      </tr>
      <tr id="ar-a33340895_5898">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a33340895_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-25 17:09 PDT" data-time="1032998944">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=100291&amp;action=edit"
           title="Port CVS Head to PostgreSQL (v1)"
           class=""
        >Attachment #100291</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c33"><div class="comment" data-id="1561302" data-no="33">
    
    <table class="layout-table change-head " id="ch-33">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a33340895_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a33340895_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-33">-</button>
        </td>
      </tr>

      <tr id="cr-33" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c33">Comment 33</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-25 17:14 PDT" data-time="1032999292">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-33">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-33">Created <span class="bz_obsolete"><a href="attachment.cgi?id=100656" name="attach_100656" title="Port CVS Head to PostgreSQL (v2)">attachment 100656</a> <a href="attachment.cgi?id=100656&amp;action=edit" title="Port CVS Head to PostgreSQL (v2)">[details]</a> <a href="attachment.cgi?id=100656&amp;action=diff" title="Port CVS Head to PostgreSQL (v2)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=100656'>[review]</a>
Port CVS Head to PostgreSQL (v2)

Second attempt. Made changes based on bbaetz suggestions. 

Transactions seem to work properly now the AutoCommit set to off.
No if/else for LOCK TABLES. Handled now in SendSQL.
Added support functions for SqlRegEx() and CurrId().
Changed occurences of INSTR() to POSITION() which both Mysql and PgSQL seem to
like.</pre></div><div class="change-set" id="c34"><div class="comment" data-id="1561362" data-no="34">
    
    <table class="layout-table change-head " id="ch-34">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a33340895_5898"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a33340895_5898"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-34">-</button>
        </td>
      </tr>

      <tr id="cr-34" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c34">Comment 34</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-25 17:40 PDT" data-time="1033000805">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-34">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-34">Your REPLACE changes are subject to races - for pg, you need to LOCK the table
in share row exclusive (I think) mode, then SELECT FOR UPDATE the row.

You need the lock in case the entry doesn't exist, and the FOR UPDATE in case it
does.

HandleError shoud really be a die, but I've handled that separately. Implicty
rolling back won't help, because then you'd have subseqeunt statments eecuting.

Please do not use an END sub - thast just going to stuff mod_perl up. What you
should do instead is to have the LOCK commands change autocommit, then call
-&gt;begin, and have unlock do -&gt;commit. YEs, this isn't safe, but its the best
you're going to get for the moment.</pre></div><div class="change-set" id="c35"><div class="comment" data-id="1561443" data-no="35">
    
    <table class="layout-table change-head " id="ch-35">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a33340895_5898"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a33340895_5898"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-35">-</button>
        </td>
      </tr>

      <tr id="cr-35" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c35">Comment 35</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-25 18:31 PDT" data-time="1033003907">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-35">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-35">Actually, after a bit of google seraching, the best replacment for REPLACE in
this case is:

BEGIN
LOCK TABLE foo IN SHARE ROW EXCLUSIVE MODE
DELETE FROM foo where (unique_key=val);
INSERT INTO foo (unique_key,a,b) values (unique_key,new_a_val,new_b_val);
COMMIT

This allows concurrent processes to access the old value until this is committed
(inlcuding other select for updates on other rows), but blocks any updates (to
any row). Given the shortness/non-perf-ciritcal nature of this, I don't think
its a problem. (It also means that we don't need to SELECT first, and then test
the result)

For mysql, just use a write lock on the table.

I do note that query.cgi's use of replace looks racy, because there aren't any
locks on the namedquery table...</pre></div><div class="change-set cc-only" id="a33792676_5500" style="display:none"><div class="change" id="aa33792676_5500">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5500" id="a33792676_5500"><img src="https://secure.gravatar.com/avatar/6d75c016bbdd76ede4974844bf5da50f?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5500" id="a33792676_5500"><a class="email " href="user_profile?user_id=5500" > <span class="fna">Stephen Rasku</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a33792676_5500">-</button>
        </td>
      </tr>
      <tr id="ar-a33792676_5500">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a33792676_5500">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-09-30 22:38 PDT" data-time="1033450725">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: stephen &rarr; bugzilla</div></div></div><div class="change-set" id="c36"><div class="comment" data-id="1578027" data-no="36">
    
    <table class="layout-table change-head " id="ch-36">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27300" id="a33792676_5500"><img src="https://secure.gravatar.com/avatar/c8a27f1c79d0e7fafc8faa2c5ab6df3a?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_27300" id="a33792676_5500"><a class="email " href="user_profile?user_id=27300" > <span class="fna">Myk Melez [:myk] [&#64;mykmelez]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-36">-</button>
        </td>
      </tr>

      <tr id="cr-36" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c36">Comment 36</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-10-07 14:16 PDT" data-time="1034025397">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-36">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-36">Correcting summary to make bug easier to find.</pre><div class="activity"><div class="change">Summary: Allow Bugzilla to work with Postgres SQL (PgSQL) &rarr; Allow Bugzilla to work with PostgresSQL (PgSQL)</div></div></div><div class="change-set" id="c37"><div class="comment" data-id="1578136" data-no="37">
    
    <table class="layout-table change-head " id="ch-37">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_15823" id="a33792676_5500"><img src="https://secure.gravatar.com/avatar/5bf694c95fcaee1050ac9757d827a1ec?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_15823" id="a33792676_5500"><a class="email " href="user_profile?user_id=15823" > <span class="fna">Bill McGonigle (not currently reading bugmail; please contact directly)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-37">-</button>
        </td>
      </tr>

      <tr id="cr-37" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c37">Comment 37</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-10-07 14:58 PDT" data-time="1034027891">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-37">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-37">PostgresSQL -&gt; PostgreSQL

If you're going to be pendantic... :) 

'postgres' should still hit as a case-insensitive substring.</pre><div class="activity"><div class="change">Summary: Allow Bugzilla to work with PostgresSQL (PgSQL) &rarr; Allow Bugzilla to work with PostgreSQL (PgSQL)</div></div></div><div class="change-set" id="c38"><div class="comment" data-id="1581705" data-no="38">
    
    <table class="layout-table change-head " id="ch-38">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a33792676_5500"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a33792676_5500"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-38">-</button>
        </td>
      </tr>

      <tr id="cr-38" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c38">Comment 38</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-10-09 15:08 PDT" data-time="1034201281">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-38">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-38">Created <span class="bz_obsolete"><a href="attachment.cgi?id=102377" name="attach_102377" title="Port CVS Head to PostgreSQL (v3)">attachment 102377</a> <a href="attachment.cgi?id=102377&amp;action=edit" title="Port CVS Head to PostgreSQL (v3)">[details]</a> <a href="attachment.cgi?id=102377&amp;action=diff" title="Port CVS Head to PostgreSQL (v3)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=102377'>[review]</a>
Port CVS Head to PostgreSQL (v3)

Various bug fixes. 
Better locking/transaction support for PostgreSQL.
Much testing needs to be done.</pre></div><div class="change-set" id="a34543273_5898"><div class="change" id="aa34543273_5898">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a34543273_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a34543273_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a34543273_5898">-</button>
        </td>
      </tr>
      <tr id="ar-a34543273_5898">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a34543273_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-10-09 15:08 PDT" data-time="1034201322">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=100656&amp;action=edit"
           title="Port CVS Head to PostgreSQL (v2)"
           class=""
        >Attachment #100656</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c39"><div class="comment" data-id="1581904" data-no="39">
    
    <table class="layout-table change-head " id="ch-39">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a34543273_5898"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a34543273_5898"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-39">-</button>
        </td>
      </tr>

      <tr id="cr-39" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c39">Comment 39</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-10-09 17:03 PDT" data-time="1034208219">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-39">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-39">I really really really think that you're going to want to use checksetup. With
other db support coming along, having to update the schema in 5 different places
is just going to be a nightmare.

Also, you probably want to create tables WITHOUT OIDS, to save space.</pre></div><div class="change-set" id="a34622513_40200"><div class="change" id="aa34622513_40200">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_40200" id="a34622513_40200"><img src="https://secure.gravatar.com/avatar/8898fbd2a71fa487b30a80573b96c490?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_40200" id="a34622513_40200"><a class="email " href="user_profile?user_id=40200" > <span class="fna">Joel Peshkin</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a34622513_40200">-</button>
        </td>
      </tr>
      <tr id="ar-a34622513_40200">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a34622513_40200">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-10-10 13:09 PDT" data-time="1034280562">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Permission checking in queries not optimal"
   href="show_bug.cgi?id=114696">114696</a></div></div></div><div class="change-set cc-only" id="a36159395_21652" style="display:none"><div class="change" id="aa36159395_21652">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_21652" id="a36159395_21652"><img src="https://secure.gravatar.com/avatar/8f7e75e7fa1a86d8f18fb90cb10576ab?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_21652" id="a36159395_21652"><a class="email " href="user_profile?user_id=21652" > <span class="fna">db</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a36159395_21652">-</button>
        </td>
      </tr>
      <tr id="ar-a36159395_21652">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a36159395_21652">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-10-28 07:04 PST" data-time="1035817444">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: db</div></div></div><div class="change-set" id="c40"><div class="comment" data-id="1626034" data-no="40">
    
    <table class="layout-table change-head reporter" id="ch-40">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a36159395_21652"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a36159395_21652"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-40">-</button>
        </td>
      </tr>

      <tr id="cr-40" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c40">Comment 40</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-07 20:38 PST" data-time="1036730326">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-40">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-40">Created <span class="bz_obsolete"><a href="attachment.cgi?id=105532" name="attach_105532" title="Port CVS Head to PostgreSQL (v4)">attachment 105532</a> <a href="attachment.cgi?id=105532&amp;action=edit" title="Port CVS Head to PostgreSQL (v4)">[details]</a> <a href="attachment.cgi?id=105532&amp;action=diff" title="Port CVS Head to PostgreSQL (v4)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=105532'>[review]</a>
Port CVS Head to PostgreSQL (v4)

I felt the need to sync this patch because I'm basing the Sybase conversion on
it.

globals.pl had a conflict with the E|A|R patch that I had a hard time figuring
out (postgres removed a column from a query and added another one, and E|A|R
added the same new column, but didn't remove the other one)

I wiped out reports.cgi from this patch.  It got *completely* rewritten
recently, so we're better off starting over with that than trying to resolve
the 450-line conflict :-)

pgsetup.pl is groussly out of date.  We've had a lot of schema changes in the
last month.

I *will* be doing some more work on this in the next few days, since I have a
deadline to meet with the Sybase conversion.

I have postgresql 7.2.2 installed on Landfill, and an installation running this
patch there also.  I'll publish the URL as soon as I get pgsetup.pl up-to-date
and run it. :-)</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=102377&amp;action=edit"
           title="Port CVS Head to PostgreSQL (v3)"
           class=""
        >Attachment #102377</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set cc-only" id="a37278540_74708" style="display:none"><div class="change" id="aa37278540_74708">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_74708" id="a37278540_74708"><img src="https://secure.gravatar.com/avatar/12932e053053ded2fabca9fffcb675ff?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_74708" id="a37278540_74708"><a class="email " href="user_profile?user_id=74708" > <span class="fna">Patrick J. LoPresti</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a37278540_74708">-</button>
        </td>
      </tr>
      <tr id="ar-a37278540_74708">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a37278540_74708">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-10 05:56 PST" data-time="1036936589">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: patl</div></div></div><div class="change-set cc-only" id="a37310140_8340" style="display:none"><div class="change" id="aa37310140_8340">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_8340" id="a37310140_8340"><img src="https://secure.gravatar.com/avatar/87e2a0e5d7e2067a42ab082c391363fa?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_8340" id="a37310140_8340"><a class="email " href="user_profile?user_id=8340" > <span class="fna">Jan Varga [:janv]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a37310140_8340">-</button>
        </td>
      </tr>
      <tr id="ar-a37310140_8340">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a37310140_8340">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-10 14:43 PST" data-time="1036968189">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: varga</div></div></div><div class="change-set" id="a37606511_10297"><div class="change" id="aa37606511_10297">
    <table class="layout-table change-head reporter">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a37606511_10297"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_10297" id="a37606511_10297"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a37606511_10297">-</button>
        </td>
      </tr>
      <tr id="ar-a37606511_10297">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a37606511_10297">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-14 01:02 PST" data-time="1037264560">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Remove timestamp fields"
   href="show_bug.cgi?id=156834">156834</a></div></div></div><div class="change-set" id="a37606646_10297"><div class="change" id="aa37606646_10297">
    <table class="layout-table change-head reporter">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a37606646_10297"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_10297" id="a37606646_10297"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a37606646_10297">-</button>
        </td>
      </tr>
      <tr id="ar-a37606646_10297">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a37606646_10297">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-14 01:04 PST" data-time="1037264695">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">No longer depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WONTFIX - bit column name in groups table not good for database independence"
   href="show_bug.cgi?id=120980">120980</a></div></div></div><div class="change-set cc-only" id="a38254494_28949" style="display:none"><div class="change" id="aa38254494_28949">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_28949" id="a38254494_28949"><img src="https://secure.gravatar.com/avatar/93475d30552b7ba9f4fc1a3b24569e98?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_28949" id="a38254494_28949"><a class="email " href="user_profile?user_id=28949" > <span class="fna">Didier Moens</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a38254494_28949">-</button>
        </td>
      </tr>
      <tr id="ar-a38254494_28949">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a38254494_28949">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-21 13:02 PST" data-time="1037912543">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: Didier.Moens</div></div></div><div class="change-set" id="c41"><div class="comment" data-id="1648048" data-no="41">
    
    <table class="layout-table change-head " id="ch-41">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a38254494_28949"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a38254494_28949"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-41">-</button>
        </td>
      </tr>

      <tr id="cr-41" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c41">Comment 41</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-22 17:49 PST" data-time="1038016171">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-41">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-41">Created <span class="bz_obsolete"><a href="attachment.cgi?id=107199" name="attach_107199" title="105532: Port CVS Head to PostgreSQL (v5)">attachment 107199</a> <a href="attachment.cgi?id=107199&amp;action=edit" title="105532: Port CVS Head to PostgreSQL (v5)">[details]</a> <a href="attachment.cgi?id=107199&amp;action=diff" title="105532: Port CVS Head to PostgreSQL (v5)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=107199'>[review]</a>
105532: Port CVS Head to PostgreSQL (v5)

Updated patch with PostgreSQL changes ported to current CVS. WIll post new
patch soon with merged checksetup.pl that I worked on while on my road tour ;)</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=105532&amp;action=edit"
           title="Port CVS Head to PostgreSQL (v4)"
           class=""
        >Attachment #105532</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c42"><div class="comment" data-id="1648049" data-no="42">
    
    <table class="layout-table change-head " id="ch-42">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a38254494_28949"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a38254494_28949"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-42">-</button>
        </td>
      </tr>

      <tr id="cr-42" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c42">Comment 42</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-22 17:49 PST" data-time="1038016196">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-42">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-42">Created <span class="bz_obsolete"><a href="attachment.cgi?id=107200" name="attach_107200" title="Port CVS Head to PostgreSQL (v5)">attachment 107200</a> <a href="attachment.cgi?id=107200&amp;action=edit" title="Port CVS Head to PostgreSQL (v5)">[details]</a> <a href="attachment.cgi?id=107200&amp;action=diff" title="Port CVS Head to PostgreSQL (v5)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=107200'>[review]</a>
Port CVS Head to PostgreSQL (v5)

Updated patch with PostgreSQL changes ported to current CVS. WIll post new
patch soon with merged checksetup.pl that I worked on while on my road tour ;)</pre></div><div class="change-set cc-only" id="a38783481_33620" style="display:none"><div class="change" id="aa38783481_33620">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_33620" id="a38783481_33620"><img src="https://secure.gravatar.com/avatar/88cf4d5149f4e19200f08d611f1818c9?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_33620" id="a38783481_33620"><a class="email " href="user_profile?user_id=33620" > <span class="fna">David D. Kilzer (ddk)</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a38783481_33620">-</button>
        </td>
      </tr>
      <tr id="ar-a38783481_33620">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a38783481_33620">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-27 15:58 PST" data-time="1038441530">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: ddkilzer</div></div></div><div class="change-set cc-only" id="a38867670_29992" style="display:none"><div class="change" id="aa38867670_29992">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29992" id="a38867670_29992"><img src="https://secure.gravatar.com/avatar/5c77c66305b0cade99fc1ac00a2d6695?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_29992" id="a38867670_29992"><a class="email " href="user_profile?user_id=29992" > <span class="fna">Tom M. Schenkenberg</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a38867670_29992">-</button>
        </td>
      </tr>
      <tr id="ar-a38867670_29992">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a38867670_29992">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-11-28 15:21 PST" data-time="1038525719">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: tom</div></div></div><div class="change-set" id="a39858411_10297"><div class="change" id="aa39858411_10297">
    <table class="layout-table change-head reporter">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a39858411_10297"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_10297" id="a39858411_10297"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a39858411_10297">-</button>
        </td>
      </tr>
      <tr id="ar-a39858411_10297">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a39858411_10297">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-12-10 02:34 PST" data-time="1039516460">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Alias: bz-postgres</div></div></div><div class="change-set" id="a39858435_10297"><div class="change" id="aa39858435_10297">
    <table class="layout-table change-head reporter">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a39858435_10297"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_10297" id="a39858435_10297"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a39858435_10297">-</button>
        </td>
      </tr>
      <tr id="ar-a39858435_10297">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a39858435_10297">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-12-10 02:34 PST" data-time="1039516484">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - ANSI SQL requires all columns in SELECT to be in GROUP BY, unless they are in &quot;aggregate&quot; functions"
   href="show_bug.cgi?id=174295">174295</a></div></div></div><div class="change-set cc-only" id="a40515847_62569" style="display:none"><div class="change" id="aa40515847_62569">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_62569" id="a40515847_62569"><img src="https://secure.gravatar.com/avatar/2c4d0e9693cd867310cdf4855849fa8e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_62569" id="a40515847_62569"><a class="email " href="user_profile?user_id=62569" > <span class="fna">Carlos Alves</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a40515847_62569">-</button>
        </td>
      </tr>
      <tr id="ar-a40515847_62569">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a40515847_62569">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2002-12-17 17:11 PST" data-time="1040173896">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: cocomole</div></div></div><div class="change-set" id="a43741723_10297"><div class="change" id="aa43741723_10297">
    <table class="layout-table change-head reporter">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a43741723_10297"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_10297" id="a43741723_10297"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a43741723_10297">-</button>
        </td>
      </tr>
      <tr id="ar-a43741723_10297">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a43741723_10297">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-01-24 01:16 PST" data-time="1043399772">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - saving a named query uses REPLACE INTO (not ANSI)"
   href="show_bug.cgi?id=190432">190432</a></div></div></div><div class="change-set" id="c43"><div class="comment" data-id="1721282" data-no="43">
    
    <table class="layout-table change-head " id="ch-43">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a43741723_10297"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a43741723_10297"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-43">-</button>
        </td>
      </tr>

      <tr id="cr-43" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c43">Comment 43</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-01-24 04:11 PST" data-time="1043410304">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-43">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-43">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=107200" name="attach_107200" title="Port CVS Head to PostgreSQL (v5)">attachment 107200</a> <a href="attachment.cgi?id=107200&amp;action=edit" title="Port CVS Head to PostgreSQL (v5)">[details]</a> <a href="attachment.cgi?id=107200&amp;action=diff" title="Port CVS Head to PostgreSQL (v5)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=107200'>[review]</a>
Port CVS Head to PostgreSQL (v5)

This has bitrotted. A few quick comments:

Some of the mysql vs pg differences don't need to be there. Date arithmatic can
be mostly done wthe same way with mysql 3.23, I think. (ie foo + interval '1
day'). However, pg requires quotes arround the '1 day', and mysql doesn't allow
it. Sigh. Anyway, we can abstract that, which is probably better/easier/etc.

The CurrId stuff should take two arguments, rather than a : separate string
which is split.

Would it be worth installing sql functions for the mysql IF function?
Similarlly for IFNULL.

For attachment.cgi, use a recent DBD::Pg version, and bind the var as a blob.
See dbi-dev/pg-interfaces disucussions froma couple of months back for details.

Avoid extra indentation - it just makes stuff hard to follow.

Since you have presumably found all of the places delta_ts needs to be updates
(because pg doesn't have an auto-updating timestamp type), its probably worht
splitting that out, making it a 'normal' time val on the mysql side, and then
you can drop the date format stuff.

Can the security stuff be rewtitten to use EXISTS for pg, and thgus be faster?</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=107200&amp;action=edit"
           title="Port CVS Head to PostgreSQL (v5)"
           class=""
        >Attachment #107200</a> -
        Flags: review-</div></div></div><div class="change-set cc-only" id="a46432821_56971" style="display:none"><div class="change" id="aa46432821_56971">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_56971" id="a46432821_56971"><img src="https://secure.gravatar.com/avatar/e001f6e6f6eb8d77a489f413e51ad1df?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_56971" id="a46432821_56971"><a class="email " href="user_profile?user_id=56971" > <span class="fna">Ralf Hauser</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a46432821_56971">-</button>
        </td>
      </tr>
      <tr id="ar-a46432821_56971">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a46432821_56971">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-02-24 04:47 PST" data-time="1046090870">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: hauser</div></div></div><div class="change-set cc-only" id="a47805026_25874" style="display:none"><div class="change" id="aa47805026_25874">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_25874" id="a47805026_25874"><img src="https://secure.gravatar.com/avatar/3c6479a9de8f5e6b80a35f28457ea66f?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_25874" id="a47805026_25874"><a class="email " href="user_profile?user_id=25874" > <span class="fna">Robert Pollak</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a47805026_25874">-</button>
        </td>
      </tr>
      <tr id="ar-a47805026_25874">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a47805026_25874">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-03-12 01:57 PST" data-time="1047463075">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: robert.pollak</div></div></div><div class="change-set cc-only" id="a51553884_95142" style="display:none"><div class="change" id="aa51553884_95142">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_95142" id="a51553884_95142"><img src="https://secure.gravatar.com/avatar/9b78d9b70c0ab836c87203d52623bf8e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_95142" id="a51553884_95142"><a class="email " href="user_profile?user_id=95142" > <span class="fna">Simon Yuen</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a51553884_95142">-</button>
        </td>
      </tr>
      <tr id="ar-a51553884_95142">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a51553884_95142">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-04-24 12:18 PDT" data-time="1051211933">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: simonyuen1999</div></div></div><div class="change-set cc-only" id="a51651955_95271" style="display:none"><div class="change" id="aa51651955_95271">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_95271" id="a51651955_95271"><img src="https://secure.gravatar.com/avatar/2d1b4be1e12b412b16b1c3bb985b7df2?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_95271" id="a51651955_95271"><a class="email " href="user_profile?user_id=95271" > <span class="fna">Jeff Woods</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a51651955_95271">-</button>
        </td>
      </tr>
      <tr id="ar-a51651955_95271">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a51651955_95271">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-04-25 15:33 PDT" data-time="1051310004">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: Kazrak+bz</div></div></div><div class="change-set cc-only" id="a51951210_46638" style="display:none"><div class="change" id="aa51951210_46638">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_46638" id="a51951210_46638"><img src="https://secure.gravatar.com/avatar/f6e24e3ce1dd5a3175b8c3fb51114eb5?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_46638" id="a51951210_46638"><a class="email " href="user_profile?user_id=46638" > <span class="fna">Andreas Kuckartz</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a51951210_46638">-</button>
        </td>
      </tr>
      <tr id="ar-a51951210_46638">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a51951210_46638">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-04-29 02:40 PDT" data-time="1051609259">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: A.Kuckartz</div></div></div><div class="change-set cc-only" id="a51965249_44700" style="display:none"><div class="change" id="aa51965249_44700">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_44700" id="a51965249_44700"><img src="https://secure.gravatar.com/avatar/8adc9ff68ba383dcfc0d0a24064863e7?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_44700" id="a51965249_44700"><a class="email " href="user_profile?user_id=44700" > <span class="fna">Igor Jese</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a51965249_44700">-</button>
        </td>
      </tr>
      <tr id="ar-a51965249_44700">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a51965249_44700">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-04-29 06:34 PDT" data-time="1051623298">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: <span class="activity-deleted">ijese</span></div></div></div><div class="change-set cc-only" id="a53028065_79006" style="display:none"><div class="change" id="aa53028065_79006">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_79006" id="a53028065_79006"><img src="https://secure.gravatar.com/avatar/e4324495fb769b0293c056ac48fbddac?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_79006" id="a53028065_79006"><a class="email " href="user_profile?user_id=79006" > <span class="fna">Anders Hellstrm</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a53028065_79006">-</button>
        </td>
      </tr>
      <tr id="ar-a53028065_79006">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a53028065_79006">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-05-11 13:48 PDT" data-time="1052686114">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: anders</div></div></div><div class="change-set" id="c44"><div class="comment" data-id="1852643" data-no="44">
    
    <table class="layout-table change-head " id="ch-44">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17698" id="a53028065_79006"><img src="https://secure.gravatar.com/avatar/59bb54dfb20da7cb7df19c400d5de588?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17698" id="a53028065_79006"><a class="email " href="user_profile?user_id=17698" > <span class="fna">Damien Miller</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-44">-</button>
        </td>
      </tr>

      <tr id="cr-44" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c44">Comment 44</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-05-16 20:23 PDT" data-time="1053141828">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-44">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-44">I'd like to try out and help debug PgSQL support. Given that the most recent
patch has bitrot, where can I obtain the latest code? Is there a branch in CVS?</pre></div><div class="change-set cc-only" id="a54981541_1064" style="display:none"><div class="change" id="aa54981541_1064">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1064" id="a54981541_1064"><img src="https://secure.gravatar.com/avatar/3bbe3497c91da997fc1aea10ef106d82?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1064" id="a54981541_1064"><a class="email " href="user_profile?user_id=1064" > <span class="fna">Teemu Mannermaa (:wicked)</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a54981541_1064">-</button>
        </td>
      </tr>
      <tr id="ar-a54981541_1064">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a54981541_1064">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-03 04:26 PDT" data-time="1054639590">15 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: wicked</div></div></div><div class="change-set" id="c45"><div class="comment" data-id="1874735" data-no="45">
    
    <table class="layout-table change-head " id="ch-45">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_18220" id="a54981541_1064"><img src="https://secure.gravatar.com/avatar/8057bbb87b788b62e626b8fb66656c1f?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_18220" id="a54981541_1064"><a class="email " href="user_profile?user_id=18220" > <span class="fna">Antonis Christofides</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-45">-</button>
        </td>
      </tr>

      <tr id="cr-45" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c45">Comment 45</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-09 10:44 PDT" data-time="1055180666">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-45">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-45">The attachment has code like this in several places:

  if ($::db_driver eq 'mysql') {
    do it the mysql way
  } elsif ($::db_driver eq 'Pg') {
    do it the pg way
  }

And, of course, my imagination extends it like this:

  if ($::db_driver eq 'mysql') {
    do it the mysql way
  } elsif ($::db_driver eq 'Pg') {
    do it the pg way
  } elsif ($::db_driver eq 'oracle') {
    do it the oracle way
  } elsif ($::db_driver eq 'informix') {
    do it the informix way
  } elsif ($::db_driver eq 'sybase') {
    do it the sybase way
  } elsif ($::db_driver eq 'ehm... msaccess' ) {
    whatever
  }

All this in numerous places around numerous files. Do we really want it like
this? How about creating an abstract database interface? (Don't hit me!)
</pre><div class="activity cc-only" style="display:none"><div class="change">CC: anthony</div></div></div><div class="change-set" id="c46"><div class="comment" data-id="1874742" data-no="46">
    
    <table class="layout-table change-head " id="ch-46">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_40200" id="a54981541_1064"><img src="https://secure.gravatar.com/avatar/8898fbd2a71fa487b30a80573b96c490?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_40200" id="a54981541_1064"><a class="email " href="user_profile?user_id=40200" > <span class="fna">Joel Peshkin</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-46">-</button>
        </td>
      </tr>

      <tr id="cr-46" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c46">Comment 46</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-09 10:59 PDT" data-time="1055181540">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-46">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-46">WRT <a href="show_bug.cgi?id=98304#c45">comment 45</a>,

  The lowest common denominator between all those DBs is really low.  Hopefully,
*MOST* places where DB operations are done can be common to all the DBs.

</pre></div><div class="change-set" id="c47"><div class="comment" data-id="1874876" data-no="47">
    
    <table class="layout-table change-head " id="ch-47">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17091" id="a54981541_1064"><img src="https://secure.gravatar.com/avatar/3942977db553ec48ce11c9ca6c5357e9?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17091" id="a54981541_1064"><a class="email " href="user_profile?user_id=17091" > <span class="fna">Taral</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-47">-</button>
        </td>
      </tr>

      <tr id="cr-47" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c47">Comment 47</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-09 12:16 PDT" data-time="1055186182">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-47">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-47">I think <a href="show_bug.cgi?id=98304#c45">comment 45</a> was asking if we could consolidate all of the
database-specific stuff into one file for better tracking...</pre></div><div class="change-set" id="c48"><div class="comment" data-id="1874891" data-no="48">
    
    <table class="layout-table change-head reporter" id="ch-48">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a54981541_1064"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a54981541_1064"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-48">-</button>
        </td>
      </tr>

      <tr id="cr-48" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c48">Comment 48</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-09 12:28 PDT" data-time="1055186886">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-48">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-48">Yeah, we did a Bugzilla/DBCompat.pm for the Sybase port that contains stuff like:

sub SQLNow {
    if ($::db_driver eq 'mysql') {
        return 'NOW()';
    }
    elsif ($::db_driver eq 'Sybase') {
        return 'GETDATE()';
    }
}

So then when we need to get the current time, we can do this:

SendSQL(&quot;SELECT &#64;{[SQLNow()]}&quot;);

(just a simple example, there's worse ones, like date formatting and date math
and so forth).

It's on my long list of things to get contributed one of these days.</pre></div><div class="change-set" id="c49"><div class="comment" data-id="1880669" data-no="49">
    
    <table class="layout-table change-head reporter" id="ch-49">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a54981541_1064"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a54981541_1064"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-49">-</button>
        </td>
      </tr>

      <tr id="cr-49" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c49">Comment 49</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-06-12 17:26 PDT" data-time="1055464010">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-49">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-49">Just FYI, I just posted the DBCompat.pm to <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Allow Bugzilla to work with Sybase"
   href="show_bug.cgi?id=173130">bug 173130</a></pre></div><div class="change-set" id="c50"><div class="comment" data-id="1901134" data-no="50">
    
    <table class="layout-table change-head " id="ch-50">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_18220" id="a54981541_1064"><img src="https://secure.gravatar.com/avatar/8057bbb87b788b62e626b8fb66656c1f?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_18220" id="a54981541_1064"><a class="email " href="user_profile?user_id=18220" > <span class="fna">Antonis Christofides</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-50">-</button>
        </td>
      </tr>

      <tr id="cr-50" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c50">Comment 50</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-07-05 03:33 PDT" data-time="1057401225">15 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-50">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-50">With <a href="show_bug.cgi?id=98304#c45">comment 45</a> I was actually suggesting what I just now filed as <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Create a database abstraction layer"
   href="show_bug.cgi?id=211769">bug 211769</a>,
but there are also less extreme solutions, such as <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED WONTFIX - putting all SQL-statements into one file"
   href="show_bug.cgi?id=131136">bug 131136</a> or Dave's
DBCompat.pm file.</pre></div><div class="change-set cc-only" id="a62331184_69802" style="display:none"><div class="change" id="aa62331184_69802">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_69802" id="a62331184_69802"><img src="https://secure.gravatar.com/avatar/06aa113786047604c4c2f78d5e7d6d80?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_69802" id="a62331184_69802"><a class="email " href="user_profile?user_id=69802" > <span class="fna">Luke Ross</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a62331184_69802">-</button>
        </td>
      </tr>
      <tr id="ar-a62331184_69802">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a62331184_69802">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-27 06:00 PDT" data-time="1061989233">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: lukeross</div></div></div><div class="change-set" id="c51"><div class="comment" data-id="1945618" data-no="51">
    
    <table class="layout-table change-head " id="ch-51">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27566" id="a62331184_69802"><img src="https://secure.gravatar.com/avatar/00667ee267700ed98ab980a87931e5d6?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_27566" id="a62331184_69802"><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-51">-</button>
        </td>
      </tr>

      <tr id="cr-51" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c51">Comment 51</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-28 14:45 PDT" data-time="1062107110">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-51">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-51">Created <span class="bz_obsolete"><a href="attachment.cgi?id=130562" name="attach_130562" title="Schema for Bugzilla">attachment 130562</a> <a href="attachment.cgi?id=130562&amp;action=edit" title="Schema for Bugzilla">[details]</a></span>
Schema for Bugzilla

This is a schema based on CVS Bugzilla's database creation as per
checksetup.pl.	I think the way to go would be to rip all database specifics
from the checksetup.pl and make files like: schema.pgsql, schema.mysql,
schema.oracle, etc.  I have some work on that which I hope to post soon.</pre></div><div class="change-set cc-only" id="a62449286_27566" style="display:none"><div class="change" id="aa62449286_27566">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27566" id="a62449286_27566"><img src="https://secure.gravatar.com/avatar/00667ee267700ed98ab980a87931e5d6?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_27566" id="a62449286_27566"><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a62449286_27566">-</button>
        </td>
      </tr>
      <tr id="ar-a62449286_27566">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a62449286_27566">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-08-28 14:48 PDT" data-time="1062107335">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: asmodai</div></div></div><div class="change-set" id="c52"><div class="comment" data-id="1948007" data-no="52">
    
    <table class="layout-table change-head " id="ch-52">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27566" id="a62449286_27566"><img src="https://secure.gravatar.com/avatar/00667ee267700ed98ab980a87931e5d6?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_27566" id="a62449286_27566"><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-52">-</button>
        </td>
      </tr>

      <tr id="cr-52" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c52">Comment 52</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-01 15:02 PDT" data-time="1062453748">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-52">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-52">Created <span class="bz_obsolete"><a href="attachment.cgi?id=130751" name="attach_130751" title="Compatibility layer for PostgreSQL">attachment 130751</a> <a href="attachment.cgi?id=130751&amp;action=edit" title="Compatibility layer for PostgreSQL">[details]</a></span>
Compatibility layer for PostgreSQL

Based on Dave Miller's DBCompat.pm for Sybase/MySQL I added PostgreSQL code to
the file.</pre></div><div class="change-set" id="c53"><div class="comment" data-id="1950543" data-no="53">
    
    <table class="layout-table change-head " id="ch-53">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27566" id="a62449286_27566"><img src="https://secure.gravatar.com/avatar/00667ee267700ed98ab980a87931e5d6?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_27566" id="a62449286_27566"><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-53">-</button>
        </td>
      </tr>

      <tr id="cr-53" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c53">Comment 53</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-04 13:50 PDT" data-time="1062708604">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-53">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-53">Created <span class="bz_obsolete"><a href="attachment.cgi?id=130925" name="attach_130925" title="Updated and partially rewritten pgsetup.pl file">attachment 130925</a> <a href="attachment.cgi?id=130925&amp;action=edit" title="Updated and partially rewritten pgsetup.pl file">[details]</a></span>
Updated and partially rewritten pgsetup.pl file

This is an updated pgsetup.pl file.  It creates the database, sets things up. 
All without problems and using a schema which benefits pgsql.</pre></div><div class="change-set" id="a63050556_27566"><div class="change" id="aa63050556_27566">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27566" id="a63050556_27566"><img src="https://secure.gravatar.com/avatar/00667ee267700ed98ab980a87931e5d6?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_27566" id="a63050556_27566"><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a63050556_27566">-</button>
        </td>
      </tr>
      <tr id="ar-a63050556_27566">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a63050556_27566">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-04 13:50 PDT" data-time="1062708605">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=130562&amp;action=edit"
           title="Schema for Bugzilla"
           class=""
        >Attachment #130562</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a63095137_9105"><div class="change" id="aa63095137_9105">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_9105" id="a63095137_9105"><img src="https://secure.gravatar.com/avatar/cbc7f16e099351c1fab3ca6d51c05c50?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_9105" id="a63095137_9105"><a class="email " href="user_profile?user_id=9105" > <span class="fna">Tobias Burnus</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a63095137_9105">-</button>
        </td>
      </tr>
      <tr id="ar-a63095137_9105">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a63095137_9105">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-05 02:13 PDT" data-time="1062753186">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=130925&amp;action=edit"
           title="Updated and partially rewritten pgsetup.pl file"
           class=""
        >Attachment #130925</a> -
        Attachment mime type: text/html &rarr; text/plain</div></div></div><div class="change-set" id="c54"><div class="comment" data-id="1951566" data-no="54">
    
    <table class="layout-table change-head " id="ch-54">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27566" id="a63095137_9105"><img src="https://secure.gravatar.com/avatar/00667ee267700ed98ab980a87931e5d6?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_27566" id="a63095137_9105"><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-54">-</button>
        </td>
      </tr>

      <tr id="cr-54" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c54">Comment 54</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-05 15:22 PDT" data-time="1062800534">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-54">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-54">Created <span class="bz_obsolete"><a href="attachment.cgi?id=130979" name="attach_130979" title="PostgreSQL compatibility layer, revision 1">attachment 130979</a> <a href="attachment.cgi?id=130979&amp;action=edit" title="PostgreSQL compatibility layer, revision 1">[details]</a></span>
PostgreSQL compatibility layer, revision 1

This new compatibility layer replaces the previous one I submitted.  It has
stubs for Oracle, introduces a DBConnect function/method (which needs to be
fixed wrt db_user and db_pass, I can get them from Bugzilla::Config, but it is
not picking them up, help appreciated), and some more fleshed out skeleton
documentation.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=130751&amp;action=edit"
           title="Compatibility layer for PostgreSQL"
           class=""
        >Attachment #130751</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c55"><div class="comment" data-id="1951664" data-no="55">
    
    <table class="layout-table change-head " id="ch-55">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a63095137_9105"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a63095137_9105"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-55">-</button>
        </td>
      </tr>

      <tr id="cr-55" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c55">Comment 55</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-05 18:01 PDT" data-time="1062810070">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-55">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-55">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=130979" name="attach_130979" title="PostgreSQL compatibility layer, revision 1">attachment 130979</a> <a href="attachment.cgi?id=130979&amp;action=edit" title="PostgreSQL compatibility layer, revision 1">[details]</a></span>
PostgreSQL compatibility layer, revision 1

People should use the Bugzilla::DB connect method instead.</pre></div><div class="change-set" id="c56"><div class="comment" data-id="1966650" data-no="56">
    
    <table class="layout-table change-head " id="ch-56">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_56971" id="a63095137_9105"><img src="https://secure.gravatar.com/avatar/e001f6e6f6eb8d77a489f413e51ad1df?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_56971" id="a63095137_9105"><a class="email " href="user_profile?user_id=56971" > <span class="fna">Ralf Hauser</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-56">-</button>
        </td>
      </tr>

      <tr id="cr-56" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c56">Comment 56</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-26 00:29 PDT" data-time="1064561377">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-56">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-56">How does this effort relate to the
<a rel="nofollow" href="http://bugzilla.redhat.com/download/rh-bugzilla-pg-LATEST.tar.gz">http://bugzilla.redhat.com/download/rh-bugzilla-pg-LATEST.tar.gz</a> that can be
found on <a rel="nofollow" href="https://bugzilla.redhat.com/bugzilla/index.cgi">https://bugzilla.redhat.com/bugzilla/index.cgi</a>?</pre></div><div class="change-set" id="c57"><div class="comment" data-id="1968015" data-no="57">
    
    <table class="layout-table change-head " id="ch-57">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27566" id="a63095137_9105"><img src="https://secure.gravatar.com/avatar/00667ee267700ed98ab980a87931e5d6?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_27566" id="a63095137_9105"><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-57">-</button>
        </td>
      </tr>

      <tr id="cr-57" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c57">Comment 57</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-09-28 02:47 PDT" data-time="1064742470">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-57">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-57">The Red Hat guys did a quick 'n dirty port.  It works, but doesn't quite make 
use of the best of PostgreSQL.  Also, their tarball is out of date with the 
current schema used by Bugzilla.</pre></div><div class="change-set cc-only" id="a65377928_114242" style="display:none"><div class="change" id="aa65377928_114242">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_114242" id="a65377928_114242"><img src="https://secure.gravatar.com/avatar/cb703ccf6fc08ee39764f2742f02d056?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_114242" id="a65377928_114242"><a class="email " href="user_profile?user_id=114242" > <span class="fna">Jean-Sbastien Pdron</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a65377928_114242">-</button>
        </td>
      </tr>
      <tr id="ar-a65377928_114242">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a65377928_114242">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-10-01 12:19 PDT" data-time="1065035977">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: jspedron</div></div></div><div class="change-set" id="c58"><div class="comment" data-id="2000984" data-no="58">
    
    <table class="layout-table change-head reporter" id="ch-58">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a65377928_114242"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a65377928_114242"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-58">-</button>
        </td>
      </tr>

      <tr id="cr-58" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c58">Comment 58</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-09 05:38 PST" data-time="1068385080">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-58">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-58">dkl:  in two weeks it will have been one year since the last time you touched
this bug.  Is there any chance at all of you being able to work on this again to
get it landed, or should we allow someone else to take it over and drive it in?</pre></div><div class="change-set" id="c59"><div class="comment" data-id="2000992" data-no="59">
    
    <table class="layout-table change-head reporter" id="ch-59">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a65377928_114242"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a65377928_114242"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-59">-</button>
        </td>
      </tr>

      <tr id="cr-59" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c59">Comment 59</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-09 05:53 PST" data-time="1068386005">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-59">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-59">Going with bbaetz's <a href="show_bug.cgi?id=98304#c39">comment 39</a>:

One thing that really needs doing is a unified way of doing checksetup.pl so
that it works with all the databases.  having a separate schema file for each
database is going to get out of sync fast, and people who add a feature that
requires schema changes are going to forget to update the schema files other
than the one they're using.  It would be best if we had some generic way to
describe the schema that all of them used, but could easily be adjusted to suit
the individial databases.

A Perl hash which describes the schema would probably work well for this.  The
database could be a single object which contains an array of table objects,
which contains an array of column objects, index objects, references to other
tables, etc.  We should have our own definitions for table types that are a
superset of everything available on the different databases, and let the actual
setup code pick the best type for that database based on that.  Using specific
hash keys also allows database-specific keys to be added where needed without
interfering with things the setup scripts for other databases expect to find,
but keeping it all in the same place.</pre></div><div class="change-set" id="c60"><div class="comment" data-id="2002088" data-no="60">
    
    <table class="layout-table change-head " id="ch-60">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_118839" id="a65377928_114242"><img src="https://secure.gravatar.com/avatar/d438b256de7b28895c1d0db249969dd8?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_118839" id="a65377928_114242"><a class="email " href="user_profile?user_id=118839" > <span class="fna">Andrew Dunstan</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-60">-</button>
        </td>
      </tr>

      <tr id="cr-60" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c60">Comment 60</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-10 13:01 PST" data-time="1068498084">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-60">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-60">
I've start something along these lines today, which I think could work well,
except for the enumerated fields. It is quite possible to constrain these values
within a text field, but this will lead to some nasty bloatage. If I were doing
this in PostgreSQL (or almost anything but MySQL) from scratch I would put these
values in a table (or one per enumeration) with a code for each value and then
use a foreign key constraint on the code in the referencing table, possibly
adding functions to encode/decode values. But you can only do FKs with MySQL
3.23.44 and up and then only using InnoDB, and you can only define functions in
C, as I understand it. 

I'm sure there are many other wrinkles (e.g. fulltext) but that's what I came
across first up.

So although a super-schema sounds nice in theory, ISTM in practice that it might
not work so well, and a better way would be to have a schema per RDBMS
supported, and functions to go along with it that hide the actual implementation
from most of the code.</pre></div><div class="change-set" id="c61"><div class="comment" data-id="2002113" data-no="61">
    
    <table class="layout-table change-head reporter" id="ch-61">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a65377928_114242"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a65377928_114242"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-61">-</button>
        </td>
      </tr>

      <tr id="cr-61" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c61">Comment 61</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-10 13:34 PST" data-time="1068500053">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-61">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-61">The problem with multiple schema documents is who is going to maintain them? 
Anyone maintaining a database schema will have to monitor all changes to any of
the other schemas and make changes to match.  With the generic scheme it's
likely someone with knowledge of only one database could add to that schema (if
we have limitations such as &quot;no enums&quot; spelled out) and have a reasonable
certainty that it would still work on the other databases.</pre></div><div class="change-set" id="c62"><div class="comment" data-id="2002131" data-no="62">
    
    <table class="layout-table change-head " id="ch-62">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_18220" id="a65377928_114242"><img src="https://secure.gravatar.com/avatar/8057bbb87b788b62e626b8fb66656c1f?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_18220" id="a65377928_114242"><a class="email " href="user_profile?user_id=18220" > <span class="fna">Antonis Christofides</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-62">-</button>
        </td>
      </tr>

      <tr id="cr-62" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c62">Comment 62</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-10 13:54 PST" data-time="1068501280">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-62">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-62">I mostly agree with <a href="show_bug.cgi?id=98304#c60">comment 60</a>, and I've made some additional comments
supporting this in my disillusioned <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Create a database abstraction layer"
   href="show_bug.cgi?id=211769#c1">bug 211769 comment 1</a>. A lowest common
denominator schema may be possible, however, although it might be better to use
lowest common denominator CREATE TABLE statements instead of Perl data structures.</pre></div><div class="change-set" id="c63"><div class="comment" data-id="2002143" data-no="63">
    
    <table class="layout-table change-head reporter" id="ch-63">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a65377928_114242"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a65377928_114242"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-63">-</button>
        </td>
      </tr>

      <tr id="cr-63" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c63">Comment 63</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-10 14:09 PST" data-time="1068502151">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-63">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-63">There's no such thing as a lowest-common-denominator TABLE CREATE statement,
especially because of data types.  Although a lot of databases claim to be
&quot;ANSI-compatible&quot; a lot of them (like Sybase) suck at it in practice.  Sure, the
table create works, but you wind up with crappy performance.  It would be better
for performance reasons to declare our own datatypes for each column which
explicitly defines the type of use we have for that column, and let each
database driver translate that to the most effective datatype for that database.

There may be cases where 3 different columns might have the same datatype in the
MySQL schema, but the most effective schema in some other database might use
different types for each of the three.

For example, there are a number of tables that have what are essentially boolean
columns in them (attachments.ispatch, groups.isbuggroup, bugs.cc_accessible,
etc).  MySQL doesn't have booleans, so they're TINYINT in our schema.  Postgres
and Sybase both have boolean types, and in most cases it would make better sense
to actually use them.

Other differences (like how many digits versus how many bytes for integers, and
how many characters vs how many bytes in unicode fields, etc) could come into
play, too.</pre></div><div class="change-set" id="c64"><div class="comment" data-id="2002159" data-no="64">
    
    <table class="layout-table change-head " id="ch-64">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_118839" id="a65377928_114242"><img src="https://secure.gravatar.com/avatar/d438b256de7b28895c1d0db249969dd8?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_118839" id="a65377928_114242"><a class="email " href="user_profile?user_id=118839" > <span class="fna">Andrew Dunstan</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-64">-</button>
        </td>
      </tr>

      <tr id="cr-64" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c64">Comment 64</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-10 14:27 PST" data-time="1068503276">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-64">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-64">
I expect to have something along the lines of Dave's suggestion in a day or two.

If we are fine saying &quot;no enums&quot; etc. then we might get somewhere. Can we also
say MySQL &gt;= 3.23.44 and InnoDb?

In any case it will mean major surgery, but it it the Right Thing (tm).</pre></div><div class="change-set" id="c65"><div class="comment" data-id="2002168" data-no="65">
    
    <table class="layout-table change-head reporter" id="ch-65">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a65377928_114242"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a65377928_114242"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-65">-</button>
        </td>
      </tr>

      <tr id="cr-65" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c65">Comment 65</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-10 14:37 PST" data-time="1068503847">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-65">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-65">Databases like the older versions of MySQL could even ignore the foreign key
references, just like we do now.  And if the schema is in a perl module file
which can be loaded by other scripts than just checksetup.pl, then sanitycheck
can use those reference definitions to test for it on the databases that don't
enforce it themselves.</pre></div><div class="change-set" id="c66"><div class="comment" data-id="2002425" data-no="66">
    
    <table class="layout-table change-head " id="ch-66">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_33620" id="a65377928_114242"><img src="https://secure.gravatar.com/avatar/88cf4d5149f4e19200f08d611f1818c9?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_33620" id="a65377928_114242"><a class="email " href="user_profile?user_id=33620" > <span class="fna">David D. Kilzer (ddk)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-66">-</button>
        </td>
      </tr>

      <tr id="cr-66" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c66">Comment 66</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-10 21:03 PST" data-time="1068526982">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-66">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-66">Before anyone goes off to write their own generic database schema module,
please take a look at DBIx::DBSchema.  It currently supports MySQL,
PostgreSQL and (partially) Sybase.  It's being actively updated, and I'm
sure the author would welcome patches.

<a rel="nofollow" href="http://search.cpan.org/~ivan/DBIx-DBSchema-0.22/">http://search.cpan.org/~ivan/DBIx-DBSchema-0.22/</a>

As far as making database connections more transparent, the DBIx::AnyDBD
module may help with that.

<a rel="nofollow" href="http://search.cpan.org/~msergeant/DBIx-AnyDBD-2.01/">http://search.cpan.org/~msergeant/DBIx-AnyDBD-2.01/</a>
</pre></div><div class="change-set" id="c67"><div class="comment" data-id="2002464" data-no="67">
    
    <table class="layout-table change-head " id="ch-67">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27566" id="a65377928_114242"><img src="https://secure.gravatar.com/avatar/00667ee267700ed98ab980a87931e5d6?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_27566" id="a65377928_114242"><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-67">-</button>
        </td>
      </tr>

      <tr id="cr-67" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c67">Comment 67</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-10 23:02 PST" data-time="1068534122">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-67">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-67">Having spent a few weeks hacking on the PostgreSQL support before I got pulled 
into migrating the office to a new building over the course of a month I can 
tell you that not only the schema is important to fix.  The entire code as it is 
is good for MySQL, but pretty braindead if you want to use a real RDBMS.  The 
way MySQL locks tables is unacceptable for (most) other databases.  So real 
transactions need to be introduced in order to solve these things.  Doing that 
also requires a lot of rewrites on the source level.  I am not sure this is 2.18 
material.  Also, a lot of the backwards compatibility cruft isn't helping 
rewriting the code.  Yes, I understand the importance, but man, it is a LOT of 
additional stuff you have to worry about.</pre></div><div class="change-set cc-only" id="a68877918_118839" style="display:none"><div class="change" id="aa68877918_118839">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_118839" id="a68877918_118839"><img src="https://secure.gravatar.com/avatar/d438b256de7b28895c1d0db249969dd8?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_118839" id="a68877918_118839"><a class="email " href="user_profile?user_id=118839" > <span class="fna">Andrew Dunstan</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a68877918_118839">-</button>
        </td>
      </tr>
      <tr id="ar-a68877918_118839">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a68877918_118839">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-10 23:32 PST" data-time="1068535967">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: andrew</div></div></div><div class="change-set" id="c68"><div class="comment" data-id="2003063" data-no="68">
    
    <table class="layout-table change-head " id="ch-68">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_15823" id="a68877918_118839"><img src="https://secure.gravatar.com/avatar/5bf694c95fcaee1050ac9757d827a1ec?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_15823" id="a68877918_118839"><a class="email " href="user_profile?user_id=15823" > <span class="fna">Bill McGonigle (not currently reading bugmail; please contact directly)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-68">-</button>
        </td>
      </tr>

      <tr id="cr-68" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c68">Comment 68</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-11 14:57 PST" data-time="1068591427">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-68">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-68">Usually when you have to rip everything out and rewrite it, the project just
never gets done.  That might be where this bug is.  &quot;baby-steps&quot; is my motto.

Would it be possible to divide this project up in to smaller bits and work away
at it over a few releases?  For instance, get DBIx::DBSchema and
DBIx-AnyDBD-2.01 supported in spirit for optional use.  Then when somebody
touched a bit of code they could opt to use DBIx::DBSchema instead of writing
mysql-compatible code directly.  Helpers could port small bits as they have
time.  For a while, you'd have the overhead of the abstraction to still only
support one databse, but eventually enough would get done that one final slog
could pick up the leftover bits and complete the transition.

Even though the bug is for pgsql support, database independence is the nicer
goal.  Comments show some conflicts though: independence (mysql,pgsql,sybase),
ease of coding, and speed (write 1 SQL statement vs n optimized SQL statements).
 I think it's a 'pick any two' situation.  It would be helpful to pick the two
before embarking on the solution.

If all the SQL were sql-standard, that would be a good start.  There are
probably several queries that are not taking advantage of any mysql tricks that
could be brought up to standard which would help get the ball rolling.  There's
a web validator here:  <a rel="nofollow" href="http://developer.mimer.com/validator/">http://developer.mimer.com/validator/</a>  Maybe helpers
could pick off some of those queries to chip away at the problem?

Of course, to even do that, we'd have to pick the standard first (92?), which is
a balancing of trade-offs.  [aside: The only reason vendors get away with shoddy
standards support is because the customers let them...]   Mozilla.org stuff
_tends_ towards supporting standards on principle.  I'd be happy to file some
breakout bugs if any of this sounds reasonable.</pre></div><div class="change-set" id="c69"><div class="comment" data-id="2003107" data-no="69">
    
    <table class="layout-table change-head " id="ch-69">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_118839" id="a68877918_118839"><img src="https://secure.gravatar.com/avatar/d438b256de7b28895c1d0db249969dd8?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_118839" id="a68877918_118839"><a class="email " href="user_profile?user_id=118839" > <span class="fna">Andrew Dunstan</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-69">-</button>
        </td>
      </tr>

      <tr id="cr-69" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c69">Comment 69</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-11 16:32 PST" data-time="1068597134">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-69">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-69">
Some things can be done in baby steps, some can't - they just require big jumps.

I tried getting DBIx::DBSchema working, but it wanted a version of DBD::Pg that
isn't even on CPAN, so I gave up. 

I now have a sort of abstract database structure and some database dependent
stuff that will now generate DDL for both MySQL and PostgreSQL and is easily
extensible to other Dbs. It has the whole Bugzilla schema down. It even has
rules for emulating MySQL's hokey auto-update-timestamp thingy in PostgreSQL.
The one MySQL thing that is gone is the enums in the bugs table - replaced by FK
references to tables holding the allowed values. It still has some testing to go
but appears to work. The aim is to have something that doesn't bitrot when the
schema changes.

However - and this is really where the non-baby steps come in - what I think is
really needed is to provide a layer between the cgi code and the database, so
that the cgi code did no SQL construction and the database layer does no
presentation. It just becomes procedural - make a call, get back a hash. I've
done quite a few Perl webapps (in the commercial world) using this architecture,
and ported them with minimal fuss between MySQL, PostgreSQL and Oracle. *BUT* it
is a big job, and before I can get started on it I need to know the code far
more intimately.

I would like very much to get this done for 2.18, but I have no idea of the
timeframe involved. If anyone can enlighten me a bit on that it would help me to
prioritize (WAGs OK). </pre></div><div class="change-set" id="c70"><div class="comment" data-id="2003241" data-no="70">
    
    <table class="layout-table change-head " id="ch-70">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_100977" id="a68877918_118839"><img src="https://secure.gravatar.com/avatar/f9b13c0e59441802a1cbba1b1c091132?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_100977" id="a68877918_118839"><a class="email " href="user_profile?user_id=100977" > <span class="fna">Michael Evans</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-70">-</button>
        </td>
      </tr>

      <tr id="cr-70" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c70">Comment 70</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-11 21:47 PST" data-time="1068616023">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-70">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-70">Excuse an amateur, but could the &quot;layer between the cgi code and the database&quot; 
referred to in #69 be ODBC?

* Almost all databases have ODBC support
* there is a DBI interface
    <a rel="nofollow" href="http://search.cpan.org/~jurl/DBD-ODBC-1.06/ODBC.pm">http://search.cpan.org/~jurl/DBD-ODBC-1.06/ODBC.pm</a>
* there is plenty of experience in using ODBC on th eWin platform
* there are free ODBC drivers for non-Windows platforms, for example unixODBC

/Mike (don't reinvent the wheel)</pre></div><div class="change-set" id="c71"><div class="comment" data-id="2003252" data-no="71">
    
    <table class="layout-table change-head " id="ch-71">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_40200" id="a68877918_118839"><img src="https://secure.gravatar.com/avatar/8898fbd2a71fa487b30a80573b96c490?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_40200" id="a68877918_118839"><a class="email " href="user_profile?user_id=40200" > <span class="fna">Joel Peshkin</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-71">-</button>
        </td>
      </tr>

      <tr id="cr-71" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c71">Comment 71</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-11 22:19 PST" data-time="1068617987">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-71">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-71">
The key issue is not how one communicates the SQL itself to the server or even
the exact syntax of the table creation commnads.

The key issue is that the various databases have fundamental differrences in
their approach.  MySQL (MyISAM) require table locking.  PgSQL and Oracle support
transactions (as does MySQL InnoDB).  Some databases support boolean operations
while others do not.  The behavior of NULL values varies by database. There are
differrences in the degree of support for foreign keys and enumerated datatypes.
 Some DBs handle LEFT JOINs very efficiently while others demand that they be
avoided.  Some DBs have POSIX regular expression support while others lack it.

All of those issues currently have driven design decisions that are captured in
the very way that Bugzilla is structured.  Moving to a DB-agnostic structure
will require some rather dramatic changes.  

My suggestion is we start by evaluating....
a) Moving recommended MySQL version to 4.something
b) Migrating from MyISAM to InnoDB table types
c) Replacement of MySQL-specific SQL with more generic SQL
d) Freeze of checksetup.pl (upgrade to final MySQL-only version)
e) Creation of new checksetup.pl replacement that abstracts multiple databases.
(No need to port old conversion code.... existing installations can be presumed
to have MySQL, so they can be upgraded to final state of checksetup.pl.  Only
the new checksetup.pl replacement needs to be maintained beyond that point.)
</pre></div><div class="change-set" id="c72"><div class="comment" data-id="2004561" data-no="72">
    
    <table class="layout-table change-head " id="ch-72">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_118839" id="a68877918_118839"><img src="https://secure.gravatar.com/avatar/d438b256de7b28895c1d0db249969dd8?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_118839" id="a68877918_118839"><a class="email " href="user_profile?user_id=118839" > <span class="fna">Andrew Dunstan</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-72">-</button>
        </td>
      </tr>

      <tr id="cr-72" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c72">Comment 72</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-11-13 12:09 PST" data-time="1068754176">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-72">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-72">Created <span class="bz_obsolete"><a href="attachment.cgi?id=135422" name="attach_135422" title="Proof of Concept code for DB independant schema generation">attachment 135422</a> <a href="attachment.cgi?id=135422&amp;action=edit" title="Proof of Concept code for DB independant schema generation">[details]</a></span>
Proof of Concept code for DB independant schema generation

This is some proof of concept code that aims at the 'single schema - multiple
database engines' idea that Dave proposed.

I haven't worked on integrating it yet with the bugzilla code, and
unfortunately a large project has just landed on my plate, so it might be a
while before I can get back to it.</pre></div><div class="change-set" id="c73"><div class="comment" data-id="2031016" data-no="73">
    
    <table class="layout-table change-head assignee" id="ch-73">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a68877918_118839"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a68877918_118839"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-73">-</button>
        </td>
      </tr>

      <tr id="cr-73" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c73">Comment 73</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-18 18:46 PST" data-time="1071801999">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-73">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-73">That proof-of-concept code looks nice. However, arrays might not be the way to go.

I'm almost sure that the way to go is something like DBCompat.pm, overriding it.
I'd like to see Bugzilla::DB::Pg, Bugzilla::DB::MySQL, Bugzilla::DB::Sybase,
etc. (In fact, I thought this _was_ the way we were going -- I thought I talked
about this with somebody already, who expressed this.)

Impractical Theoretical Solution:
In an ideal world, I'd have every bug as an object, and have every object load
itself into memory with all of its fields initialized by reading the DB, and
have it write itself back out to the database when needed. I'd abstract out
every DB read/write to getters and setters. :-) Basically, under most
circumstances, I'd have to have an object in memory for every bug in a database.
(The database just becomes a persistence layer.) However, I've implemented
solutions like this before, and the memory usage is larger than most Bugzilla
administrators would be likely to accept.

[Note: There are other ways to implement this that _would_ be practical in
Bugzilla, using memcached and lazy reads.]

Though that's impractical, there is something to be gained from it. It
demonstrates that the root of the problem lies in abstraction of database reads
and writes. (I think this is what justdave was getting at.)

So, the general, ideal, practical solution is just more abstraction, one way or
another.

I think a good first step would be to have checksetup call functions in
DBCompat.pm, just like the rest of Bugzilla should.

Possibly, it would mean a LOT of functions in DBCompat.pm. I think that's okay.

DB-independent schema are are really cool idea, and they're a lot of fun to
think about.

By the way, another posibility would be to take that proof-of-concept code and
make it more modular, using objects.

I'm very willing to work on this.

-M</pre></div><div class="change-set" id="a72144308_73187"><div class="change" id="aa72144308_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a72144308_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a72144308_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a72144308_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a72144308_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a72144308_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-18 18:52 PST" data-time="1071802357">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Flags uses DB-dependent SQL"
   href="show_bug.cgi?id=228917">228917</a></div></div></div><div class="change-set" id="c74"><div class="comment" data-id="2031481" data-no="74">
    
    <table class="layout-table change-head " id="ch-74">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_118839" id="a72144308_73187"><img src="https://secure.gravatar.com/avatar/d438b256de7b28895c1d0db249969dd8?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_118839" id="a72144308_73187"><a class="email " href="user_profile?user_id=118839" > <span class="fna">Andrew Dunstan</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-74">-</button>
        </td>
      </tr>

      <tr id="cr-74" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c74">Comment 74</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-19 11:24 PST" data-time="1071861894">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-74">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-74">Regarding use of arrays: it was done deliberately where order could be important
- namely tables (for FK dependencies) and fields (to preserve field order).

Regardless of how OO it is made, ITSM it will only be maintainable if a Db
independent schema is kept in *one* place. Otherwise it will be far to easy to
forget to update some Db's schema and break things. That's what I tried to do.
Wrapping some OO-ness around that would be hard.</pre></div><div class="change-set" id="c75"><div class="comment" data-id="2031678" data-no="75">
    
    <table class="layout-table change-head " id="ch-75">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a72144308_73187"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a72144308_73187"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-75">-</button>
        </td>
      </tr>

      <tr id="cr-75" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c75">Comment 75</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-19 17:02 PST" data-time="1071882178">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-75">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-75">We need to name all of our indexes,so that we can drop them in the schema change
code.

How will teh schema change stuff happen independantly?</pre></div><div class="change-set" id="c76"><div class="comment" data-id="2031770" data-no="76">
    
    <table class="layout-table change-head " id="ch-76">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_33620" id="a72144308_73187"><img src="https://secure.gravatar.com/avatar/88cf4d5149f4e19200f08d611f1818c9?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_33620" id="a72144308_73187"><a class="email " href="user_profile?user_id=33620" > <span class="fna">David D. Kilzer (ddk)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-76">-</button>
        </td>
      </tr>

      <tr id="cr-76" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c76">Comment 76</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-19 19:45 PST" data-time="1071891945">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-76">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-76"><span class="quote">&gt;How will the schema change stuff happen independently?</span >

I think DBIx::AnyDB could handle that.  You'd have to write methods like
addColumn(&quot;table&quot;, &quot;colname&quot;, &quot;coltype&quot;), deleteColumn(&quot;table&quot;, &quot;colname&quot;),
etc. for each supported database, then checksetup.pl (or its replacment)
could then call the &quot;generic&quot; method, which would then call the appropriate
database-specific method depending on the current Bugzilla configuration
(which would determine which database is being used).

See also <a href="show_bug.cgi?id=98304#c66">Comment #66</a>.</pre></div><div class="change-set" id="c77"><div class="comment" data-id="2036396" data-no="77">
    
    <table class="layout-table change-head assignee" id="ch-77">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a72144308_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a72144308_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-77">-</button>
        </td>
      </tr>

      <tr id="cr-77" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c77">Comment 77</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-29 14:58 PST" data-time="1072738710">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-77">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-77">By the way, I'm not sure that DBIx::AnyDBD is really what we're interested in,
anyhow. That's what DBI is for.

I think that DBIx::DBSchema and DBIx::Abstract are what's interesting.

-M</pre></div><div class="change-set" id="c78"><div class="comment" data-id="2036711" data-no="78">
    
    <table class="layout-table change-head " id="ch-78">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_118839" id="a72144308_73187"><img src="https://secure.gravatar.com/avatar/d438b256de7b28895c1d0db249969dd8?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_118839" id="a72144308_73187"><a class="email " href="user_profile?user_id=118839" > <span class="fna">Andrew Dunstan</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-78">-</button>
        </td>
      </tr>

      <tr id="cr-78" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c78">Comment 78</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2003-12-30 06:51 PST" data-time="1072795893">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-78">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-78">Be careful about loading up more module dependencies - I had troubler getting
DBIx::DBSchema installed. Your (Max K-A's) earlier suggestion of taking my POC
code and OOiffying it might be a better way to go.</pre></div><div class="change-set cc-only" id="a74623378_46480" style="display:none"><div class="change" id="aa74623378_46480">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_46480" id="a74623378_46480"><img src="https://secure.gravatar.com/avatar/fce8671a806b2f676d1c3973a7fefb13?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_46480" id="a74623378_46480"><a class="email " href="user_profile?user_id=46480" > <span class="fna">Steve Simms</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a74623378_46480">-</button>
        </td>
      </tr>
      <tr id="ar-a74623378_46480">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a74623378_46480">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-16 11:30 PST" data-time="1074281427">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: steve</div></div></div><div class="change-set cc-only" id="a74980315_125026" style="display:none"><div class="change" id="aa74980315_125026">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_125026" id="a74980315_125026"><img src="https://secure.gravatar.com/avatar/01520609613f0bda490e21ed45d654a2?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_125026" id="a74980315_125026"><a class="email " href="user_profile?user_id=125026" > <span class="fna">Josh T</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a74980315_125026">-</button>
        </td>
      </tr>
      <tr id="ar-a74980315_125026">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a74980315_125026">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-20 14:39 PST" data-time="1074638364">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: josh_tooker</div></div></div><div class="change-set cc-only" id="a75342698_125424" style="display:none"><div class="change" id="aa75342698_125424">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_125424" id="a75342698_125424"><img src="https://secure.gravatar.com/avatar/db4a94582e324c8e4f1136d625f40e03?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_125424" id="a75342698_125424"><a class="email " href="user_profile?user_id=125424" > <span class="fna">josh</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a75342698_125424">-</button>
        </td>
      </tr>
      <tr id="ar-a75342698_125424">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a75342698_125424">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-24 19:19 PST" data-time="1075000747">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: josh</div></div></div><div class="change-set" id="c79"><div class="comment" data-id="2056839" data-no="79">
    
    <table class="layout-table change-head " id="ch-79">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_33620" id="a75342698_125424"><img src="https://secure.gravatar.com/avatar/88cf4d5149f4e19200f08d611f1818c9?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_33620" id="a75342698_125424"><a class="email " href="user_profile?user_id=33620" > <span class="fna">David D. Kilzer (ddk)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-79">-</button>
        </td>
      </tr>

      <tr id="cr-79" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c79">Comment 79</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-26 11:38 PST" data-time="1075145887">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-79">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-79">Regarding <a href="show_bug.cgi?id=98304#c58">Comment #58</a>:

I noticed that Red Hat has a new download on their Bugzilla index.cgi
page (dated 2003-11-20) for a version of Bugzilla that uses PostgreSQL.
I have no idea if this is DKL's work, or someone else's.

  <a rel="nofollow" href="https://bugzilla.redhat.com/bugzilla/index.cgi">https://bugzilla.redhat.com/bugzilla/index.cgi</a>

Here's the direct download link:

  <a rel="nofollow" href="http://bugzilla.redhat.com/download/bugzilla-redhat-20031120.tar.gz">http://bugzilla.redhat.com/download/bugzilla-redhat-20031120.tar.gz</a></pre></div><div class="change-set" id="c80"><div class="comment" data-id="2057022" data-no="80">
    
    <table class="layout-table change-head " id="ch-80">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_125424" id="a75342698_125424"><img src="https://secure.gravatar.com/avatar/db4a94582e324c8e4f1136d625f40e03?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_125424" id="a75342698_125424"><a class="email " href="user_profile?user_id=125424" > <span class="fna">josh</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-80">-</button>
        </td>
      </tr>

      <tr id="cr-80" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c80">Comment 80</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-26 14:10 PST" data-time="1075155043">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-80">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-80">According to Dave Lawrence at RedHat, the version that you see on their website
is based on version 2.17.1:

It is based on 2.17.1 which is available at <a rel="nofollow" href="http://www.bugzilla.org">http://www.bugzilla.org</a>.

On Mon, 2004-01-26 at 15:34 -0500, Joshua Kramer wrote:

<span class="quote">&gt;&gt; Hello,
&gt;&gt; 
&gt;&gt; I see you have a PostgreSQL version of Bugzilla at
&gt;&gt; <a rel="nofollow" href="https://bugzilla.redhat.com/bugzilla/index.cgi">https://bugzilla.redhat.com/bugzilla/index.cgi</a>.  What version of Bugzilla
&gt;&gt; is this based on - does it have all of the features and fixes of 2.16?
&gt;&gt; 
&gt;&gt; Thanks,
&gt;&gt; --Josh
&gt;&gt; </span ></pre></div><div class="change-set" id="c81"><div class="comment" data-id="2058426" data-no="81">
    
    <table class="layout-table change-head assignee" id="ch-81">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a75342698_125424"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a75342698_125424"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-81">-</button>
        </td>
      </tr>

      <tr id="cr-81" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c81">Comment 81</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-27 21:48 PST" data-time="1075268904">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-81">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-81">Okay, so there are two actual bugs here -- one for schema, and one for the SQL
that Bugzilla uses. Since all the docs for PG integration point to this bug,
let's make this the SQL bug. I'll file another bug for DB-independent schema,
and move the important attachments and CC's there. When it's all made, I'll post
the bug number here.

Also, dkl hasn't worked on this in a while, I'll assign it to nobody for now.

-M</pre><div class="activity"><div class="change">Assignee: dkl &rarr; nobody</div><div class="change">Status: ASSIGNED &rarr; NEW</div><div class="change cc-only" style="display:none">CC: mkanat, dkl</div><div class="change">Summary: Allow Bugzilla to work with PostgreSQL (PgSQL) &rarr; Make Bugzilla's SQL compatible with PostgreSQL (PgSQL)</div></div></div><div class="change-set" id="c82"><div class="comment" data-id="2058444" data-no="82">
    
    <table class="layout-table change-head assignee" id="ch-82">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a75342698_125424"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a75342698_125424"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-82">-</button>
        </td>
      </tr>

      <tr id="cr-82" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c82">Comment 82</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-27 22:19 PST" data-time="1075270765">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-82">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-82">All right, it turns out that <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Reusable, structured, database-independent schema"
   href="show_bug.cgi?id=146679">bug 146679</a> was close enough to what we were talking
about that our ideas could be merged over there. DB Schema conversation goes
there. For this bug, let's focus on the actual SQL that Bugzilla sends, outside
of checksetup.pl.

What I suggest is to use this as a tracking bug. Find little points within
Bugzilla where you could make the SQL DB-independent, and then file a bug
against that part, blocking this bug.

Once that is complete, we can file another bug for &quot;use DBCompat.pm&quot;, which I
think is what we should do for the differences between databases that can't be
resolved.

This means that certain bugs actually now block the new bug, not this one, so
those blockers will be moved there, to <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Reusable, structured, database-independent schema"
   href="show_bug.cgi?id=146679">bug 146679</a>, and that bug will be marked
as blocking this one.

-Max</pre><div class="activity"><div class="change">Blocks: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Reusable, structured, database-independent schema"
   href="show_bug.cgi?id=146679">146679</a></div><div class="change">No longer depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Enumerators in Bugzilla are not cross-DB compatible"
   href="show_bug.cgi?id=17453">17453</a></div></div></div><div class="change-set" id="a75612777_73187"><div class="change" id="aa75612777_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a75612777_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a75612777_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a75612777_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a75612777_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a75612777_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-27 22:20 PST" data-time="1075270826">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">No longer blocks: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Reusable, structured, database-independent schema"
   href="show_bug.cgi?id=146679">146679</a></div></div></div><div class="change-set cc-only" id="a75813553_73336" style="display:none"><div class="change" id="aa75813553_73336">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73336" id="a75813553_73336"><img src="https://secure.gravatar.com/avatar/9456d1964241bab6960eb12c27c113eb?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73336" id="a75813553_73336"><a class="email " href="user_profile?user_id=73336" > <span class="fna">Constantin Stefanov</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a75813553_73336">-</button>
        </td>
      </tr>
      <tr id="ar-a75813553_73336">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a75813553_73336">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-01-30 06:06 PST" data-time="1075471602">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: cstef</div></div></div><div class="change-set" id="c83"><div class="comment" data-id="2076765" data-no="83">
    
    <table class="layout-table change-head " id="ch-83">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a75813553_73336"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a75813553_73336"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-83">-</button>
        </td>
      </tr>

      <tr id="cr-83" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c83">Comment 83</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-16 15:56 PST" data-time="1076975806">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-83">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-83">Created <span class="bz_obsolete"><a href="attachment.cgi?id=141569" name="attach_141569" title="Port CVS Head to PostgreSQL (v6)">attachment 141569</a> <a href="attachment.cgi?id=141569&amp;action=edit" title="Port CVS Head to PostgreSQL (v6)">[details]</a> <a href="attachment.cgi?id=141569&amp;action=diff" title="Port CVS Head to PostgreSQL (v6)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=141569'>[review]</a>
Port CVS Head to PostgreSQL (v6)

Another stab at creating a better patch against CVS head. I just noticed the
compat layer created earlier by another person. I have also create a
DBcompat.pm module which I will look at merging the better of the two into one
and upload a new patch soon. Couple of things to note, FlagType matches are
commented out in Bug.pm until I figure out what is wrong. Also I have included
a pgsetup.sql script for database creation until I or someone else can create a
unified checksetup.pl in order to get rid of pgsetup.pl. Please let me know
what you all think about the latest patch.</pre></div><div class="change-set" id="a77317758_5898"><div class="change" id="aa77317758_5898">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a77317758_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a77317758_5898">-</button>
        </td>
      </tr>
      <tr id="ar-a77317758_5898">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a77317758_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-16 15:56 PST" data-time="1076975807">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=107200&amp;action=edit"
           title="Port CVS Head to PostgreSQL (v5)"
           class=""
        >Attachment #107200</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c84"><div class="comment" data-id="2076872" data-no="84">
    
    <table class="layout-table change-head assignee" id="ch-84">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a77317758_5898"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-84">-</button>
        </td>
      </tr>

      <tr id="cr-84" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c84">Comment 84</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-16 19:02 PST" data-time="1076986929">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-84">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-84">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=141569" name="attach_141569" title="Port CVS Head to PostgreSQL (v6)">attachment 141569</a> <a href="attachment.cgi?id=141569&amp;action=edit" title="Port CVS Head to PostgreSQL (v6)">[details]</a> <a href="attachment.cgi?id=141569&amp;action=diff" title="Port CVS Head to PostgreSQL (v6)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=141569'>[review]</a>
Port CVS Head to PostgreSQL (v6)

Hrm, this is a big hulking patch. I'll look over DBCompat first.

My first note is that I'm *really* happy about the subroutine docs. :-)

<span class="quote">&gt;+# Contributor(s): Terry Weissman &lt;<a href="mailto:terry&#64;mozilla.org">terry&#64;mozilla.org</a>&gt;</span >

   Hrm... aren't *you* actually the contributor for this one? :-)

<span class="quote">&gt;+sub GetLastInsertID {
&gt;+    my ($table, $column) = &#64;_;
&gt;+    if ($db_driver eq 'mysql') {
&gt;+        return &quot;SELECT LAST_INSERT_ID()&quot;;</span >

     Is this actually guaranteed to do what the documentation above says? If I
insert into table A, and then insert into table B, and I call this on table A,
I get...?

     You might also want to note in the subroutine doc that this should always
be called inside of a transaction, so there aren't threading issues. (Thread1:
INSERT Thread2: INSERT Thread1: GetLastInsertID())

<span class="quote">&gt;+# subroutine:  RegExp
&gt;+# description: Outputs SQL syntax for doing regular expressions searches in format
&gt;+#              suitable for a given database.
&gt;[snip]</span >

    An example of how this works would be useful to me, and probably to others.
I don't fully understand how that function is used, looking at the code of it.
(Is it actually complete?)

<span class="quote">&gt;+sub DateFormat {
&gt;[snip]</span >

   I like this because it allows us to keep the MySQL syntax we have there
already.

<span class="quote">&gt;+sub ToDays {
&gt;+    my ($column) = &#64;_;
&gt;+    if ($db_driver eq 'mysql') {
&gt;+        return &quot; TO_DAYS($column) &quot;;
&gt;+    } elsif ($db_driver eq 'Pg') {
&gt;+        return &quot; $column &quot;;
&gt;+    }
&gt;+}</span >

     For Pg, I think that should actually be to_char($column, 'J')::int, based
on some code I've fixed in our local Pg Bugzilla. That returns the
date/timestamp as # of Julian days, which can be added/subtracted from other
numbers of the same type.

<span class="quote">&gt;+sub Rand {
&gt;+    return &quot; RAND() &quot; if $db_driver eq 'mysql';
&gt;+    return &quot; RANDOM() &quot; if $db_driver eq 'Pg';</span >

Nit: The Pg idiom seems to be lowercase function names. (At least in the docs.)

-M</pre></div><div class="change-set" id="c85"><div class="comment" data-id="2076889" data-no="85">
    
    <table class="layout-table change-head assignee" id="ch-85">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a77317758_5898"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-85">-</button>
        </td>
      </tr>

      <tr id="cr-85" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c85">Comment 85</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-16 19:25 PST" data-time="1076988302">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-85">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-85">I see that have some dummy code in DB.pm, too, for handling LOCK TABLES and
UNLOCK TABLES. Is there a reason that you added the &quot;return;&quot;?

I think a better solution than this would be to add a Lock($table, $row) and
Unlock($table, $row) function to DBCompat.pm, or even to DB.pm. Then, change all
the LOCK TABLES and UNLOCK TABLES statements to that (which would be a simple
grep-then-edit). That way, for MySQL you could ignore the $table and $row, and
for PgSQL you could get more granular locks.</pre></div><div class="change-set" id="c86"><div class="comment" data-id="2076939" data-no="86">
    
    <table class="layout-table change-head assignee" id="ch-86">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a77317758_5898"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-86">-</button>
        </td>
      </tr>

      <tr id="cr-86" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c86">Comment 86</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-16 20:21 PST" data-time="1076991663">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-86">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-86">I hope you can forgive the spam. There's just no way to digest that whole patch
at once. :-)

Further comments:

+ You have a few if(db_driver) statements that do two whole chunks of SQL for
only a difference between (e.g.) &quot;INTERVAL 3 DAY&quot; and &quot;INTERVAL '3 days'&quot;. (See
userprefs.cgi for an example.) 
     I think that a TimeInterval($num, $type) function in DBCompat would do the
trick. You could do a switch statement on $type, which would be either &quot;D&quot; or
&quot;days&quot; or something like that, depending on your (dkl) personal preference.

+ There's a lot of DateFormat that goes on in the patch. I would think that we
should do the DateFormat on the presentation side, and let the databases handle
their own date types internally. I think it makes it simpler overall. The
double-comment bug over on the RH BZ
&lt;<a rel="nofollow" href="https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=114353">https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=114353</a>&gt; is example of what
can go wrong.

+ In query.cgi, you changed a REPLACE into an INSERT. If there's a PRIMARY KEY
on that table (I didn't check), then those two won't actually be the same.

+ In process_bug.cgi:

<span class="quote">&gt;                detaint_natural($::FORM{&quot;$field&quot;});
&gt;                SendSQL(&quot;UPDATE longdescs SET isprivate = $private
&gt; 	
&gt;                        WHERE bug_id = $::FORM{'id'} AND &quot; .</span >
&gt;
<span class="quote">&gt; Bugzilla::DB::DateFormat('bug_when','%Y%m%d%H%i%s') . 
&gt;                        &quot; = &quot; . SqlQuote($::FORM{&quot;$field&quot;}));</span >

  You don't need to SqlQuote that field, since detaint_natural assures that it's
an integer. (However, now that I'm thinking about it, why in the world is
bug_when being compared to an integer??)

+ In long_list.cgi, you changed a &quot;IFNULL(bugs.alias, '')&quot; to just &quot;bugs.alias&quot;
-- are you certain that that is safe?

+ In buglist.cgi
   * You manually limited the buglist to 2000 results. Is that a Red
Hat-specific thing, or a PgSQL limitation?
   * Another change of REPLACE to INSERT for namedqueries.
   * I don't understand why &quot;SELECT DISTINCT  groups.id, name, description,
isactive&quot; was changed to &quot;SELECT DISTINCT  groups.id, name, description, isactive&quot;

+ For attachment.cgi, A brief explanation of why attachments need to be coded
into Base64 for PostgreSQL might be useful for those who aren't initiates. (In
fact, I'm not sure, myself.)</pre></div><div class="change-set" id="c87"><div class="comment" data-id="2076942" data-no="87">
    
    <table class="layout-table change-head assignee" id="ch-87">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a77317758_5898"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-87">-</button>
        </td>
      </tr>

      <tr id="cr-87" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c87">Comment 87</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-16 20:27 PST" data-time="1076992050">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-87">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-87">(In reply to <a href="show_bug.cgi?id=98304#c86">comment #86</a>)
<span class="quote">&gt;    * You manually limited the buglist to 2000 results. Is that a Red
&gt; Hat-specific thing, or a PgSQL limitation?</span >

  Oh, slight correction. You limited *something* having to do with bug group
privacy to 2000 bug ids.</pre></div><div class="change-set" id="c88"><div class="comment" data-id="2077006" data-no="88">
    
    <table class="layout-table change-head " id="ch-88">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27566" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/00667ee267700ed98ab980a87931e5d6?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_27566" id="a77317758_5898"><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-88">-</button>
        </td>
      </tr>

      <tr id="cr-88" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c88">Comment 88</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-16 22:00 PST" data-time="1076997611">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-88">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-88">Hi David,

yeah the code resembles mine so it seems we're at least on the same track.

However, I see you kept the MySQL locking stuff in there.  I am still not 
convinced this is the way to go since it effectively limits the throughput of 
Bugzilla on a PostgreSQL or other transactions-able database.

I'll do a compare on it all and see what we do and do not agree about and then 
we'll hash it out Tekken-style.  (Nah, just kidding. ;) We'll do some discussion 
back and forth.)</pre></div><div class="change-set" id="c89"><div class="comment" data-id="2078997" data-no="89">
    
    <table class="layout-table change-head " id="ch-89">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a77317758_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-89">-</button>
        </td>
      </tr>

      <tr id="cr-89" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c89">Comment 89</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-18 15:19 PST" data-time="1077146397">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-89">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-89">Created <span class="bz_obsolete"><a href="attachment.cgi?id=141703" name="attach_141703" title="Port CVS Head to PostgreSQL (v7)">attachment 141703</a> <a href="attachment.cgi?id=141703&amp;action=edit" title="Port CVS Head to PostgreSQL (v7)">[details]</a> <a href="attachment.cgi?id=141703&amp;action=diff" title="Port CVS Head to PostgreSQL (v7)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=141703'>[review]</a>
Port CVS Head to PostgreSQL (v7)

Many changes. Will comment further in replies to bug comments.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=141569&amp;action=edit"
           title="Port CVS Head to PostgreSQL (v6)"
           class=""
        >Attachment #141569</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c90"><div class="comment" data-id="2079004" data-no="90">
    
    <table class="layout-table change-head " id="ch-90">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a77317758_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-90">-</button>
        </td>
      </tr>

      <tr id="cr-90" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c90">Comment 90</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-18 15:25 PST" data-time="1077146731">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-90">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-90">

(In reply to <a href="show_bug.cgi?id=98304#c88">comment #88</a>)
<span class="quote">&gt; Hi David,
&gt; 
&gt; yeah the code resembles mine so it seems we're at least on the same track.
&gt; 
&gt; However, I see you kept the MySQL locking stuff in there.  I am still not 
&gt; convinced this is the way to go since it effectively limits the throughput of 
&gt; Bugzilla on a PostgreSQL or other transactions-able database.
&gt; 
&gt; I'll do a compare on it all and see what we do and do not agree about and then 
&gt; we'll hash it out Tekken-style.  (Nah, just kidding. ;) We'll do some discussion 
&gt; back and forth.)</span >


In the v7 patch, I merged alot of your stuff in with that I had. I removed the
SQL from the function names since I thought it was redundant and without made
the names shorter and easier to type ;) I can add them back if everyone thinks
we need that level of description. Let me know what you think. As for the
locking, I agree that could remove them, at least PostgreSQL does not need them
per say since it does it's own level of locking. I am not familiar with what is
required with the new MySQL that has transaction support. It may be the same
situation there.</pre></div><div class="change-set" id="c91"><div class="comment" data-id="2079025" data-no="91">
    
    <table class="layout-table change-head " id="ch-91">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a77317758_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-91">-</button>
        </td>
      </tr>

      <tr id="cr-91" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c91">Comment 91</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-18 15:44 PST" data-time="1077147889">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-91">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-91">(In reply to <a href="show_bug.cgi?id=98304#c84">comment #84</a>)
<span class="quote">&gt; (From update of <span class="bz_obsolete"><a href="attachment.cgi?id=141569" name="attach_141569" title="Port CVS Head to PostgreSQL (v6)">attachment 141569</a> <a href="attachment.cgi?id=141569&amp;action=edit" title="Port CVS Head to PostgreSQL (v6)">[details]</a> <a href="attachment.cgi?id=141569&amp;action=diff" title="Port CVS Head to PostgreSQL (v6)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=141569'>[review]</a>)
&gt; Hrm, this is a big hulking patch. I'll look over DBCompat first.
&gt; 
&gt; My first note is that I'm *really* happy about the subroutine docs. :-)
&gt; 
&gt; &gt;+# Contributor(s): Terry Weissman &lt;<a href="mailto:terry&#64;mozilla.org">terry&#64;mozilla.org</a>&gt;
&gt; 
&gt;    Hrm... aren't *you* actually the contributor for this one? :-)
&gt; </span >

Heh, fixed that.

<span class="quote">&gt; &gt;+sub GetLastInsertID {
&gt; &gt;+    my ($table, $column) = &#64;_;
&gt; &gt;+    if ($db_driver eq 'mysql') {
&gt; &gt;+        return &quot;SELECT LAST_INSERT_ID()&quot;;
&gt; 
&gt;      Is this actually guaranteed to do what the documentation above says? If I
&gt; insert into table A, and then insert into table B, and I call this on table A,
&gt; I get...?
&gt; 
&gt;      You might also want to note in the subroutine doc that this should always
&gt; be called inside of a transaction, so there aren't threading issues. (Thread1:
&gt; INSERT Thread2: INSERT Thread1: GetLastInsertID())</span >
&gt;

It does make the assumption that you are running it after the insert that you
meant to retrieve the current value from. I admit that it is not the most ideal
solution but it is not really that much different than the way it happens now.
 
<span class="quote">&gt; &gt;+# subroutine:  RegExp
&gt; &gt;+# description: Outputs SQL syntax for doing regular expressions searches in</span >
format
<span class="quote">&gt; &gt;+#              suitable for a given database.
&gt; &gt;[snip]
&gt; 
&gt;     An example of how this works would be useful to me, and probably to others.
&gt; I don't fully understand how that function is used, looking at the code of it.
&gt; (Is it actually complete?)</span >
&gt;

It is complete and I added some more description to the code in comments.
 
<span class="quote">&gt; &gt;+sub DateFormat {
&gt; &gt;[snip]
&gt; 
&gt;    I like this because it allows us to keep the MySQL syntax we have there
&gt; already.
&gt; 
&gt; &gt;+sub ToDays {
&gt; &gt;+    my ($column) = &#64;_;
&gt; &gt;+    if ($db_driver eq 'mysql') {
&gt; &gt;+        return &quot; TO_DAYS($column) &quot;;
&gt; &gt;+    } elsif ($db_driver eq 'Pg') {
&gt; &gt;+        return &quot; $column &quot;;
&gt; &gt;+    }
&gt; &gt;+}
&gt; 
&gt;      For Pg, I think that should actually be to_char($column, 'J')::int, based
&gt; on some code I've fixed in our local Pg Bugzilla. That returns the
&gt; date/timestamp as # of Julian days, which can be added/subtracted from other
&gt; numbers of the same type.</span >
&gt;

Fixed
 
<span class="quote">&gt; &gt;+sub Rand {
&gt; &gt;+    return &quot; RAND() &quot; if $db_driver eq 'mysql';
&gt; &gt;+    return &quot; RANDOM() &quot; if $db_driver eq 'Pg';
&gt; 
&gt; Nit: The Pg idiom seems to be lowercase function names. (At least in the docs.)
&gt; </span >

I like to keep column names and values in lower case and SQL keywords in
UPPERCASE. Helps me see things better.

<span class="quote">&gt;+ You have a few if(db_driver) statements that do two whole chunks of SQL for
&gt;only a difference between (e.g.) &quot;INTERVAL 3 DAY&quot; and &quot;INTERVAL '3 days'&quot;. (See
&gt;userprefs.cgi for an example.) 
&gt;     I think that a TimeInterval($num, $type) function in DBCompat would do the
&gt;trick. You could do a switch statement on $type, which would be either &quot;D&quot; or
&gt;&quot;days&quot; or something like that, depending on your (dkl) personal preference.</span >

I added a function called Interval to DBcompat.pm that does that now.

<span class="quote">&gt;+ There's a lot of DateFormat that goes on in the patch. I would think that we
&gt;should do the DateFormat on the presentation side, and let the databases handle
&gt;their own date types internally. I think it makes it simpler overall. The
&gt;double-comment bug over on the RH BZ
&gt;&lt;<a rel="nofollow" href="https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=114353">https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=114353</a>&gt; is example of &gt;what
&gt;can go wrong.</span >

I think I see what you are saying. Can you provide some code examples to further
explain this?

<span class="quote">&gt;+ In query.cgi, you changed a REPLACE into an INSERT. If there's a PRIMARY KEY
&gt;on that table (I didn't check), then those two won't actually be the same.</span >

Well there isnt a primary key per say in namedqueries but there is a unique
constraint on (userid, name) which may cause a problem possibly. I did this
originally since PostgreSQL did not have a REPLACE statement.

<span class="quote">&gt;+ In process_bug.cgi:</span >
&gt;
<span class="quote">&gt;                detaint_natural($::FORM{&quot;$field&quot;});
&gt;                SendSQL(&quot;UPDATE longdescs SET isprivate = $private
&gt; 	
&gt;                        WHERE bug_id = $::FORM{'id'} AND &quot; .</span >
&gt;
<span class="quote">&gt; Bugzilla::DB::DateFormat('bug_when','%Y%m%d%H%i%s') . 
&gt;                        &quot; = &quot; . SqlQuote($::FORM{&quot;$field&quot;}));</span >
&gt;
<span class="quote">&gt;  You don't need to SqlQuote that field, since detaint_natural assures that &gt;it's
&gt;an integer. (However, now that I'm thinking about it, why in the world is
&gt;bug_when being compared to an integer??)</span >

Took the SqlQuote off.

<span class="quote">&gt;+ In long_list.cgi, you changed a &quot;IFNULL(bugs.alias, '')&quot; to just &quot;bugs.alias&quot;
&gt;-- are you certain that that is safe?</span >

Wrapped it with Bugzilla::DB::IfNull()

<span class="quote">&gt;+ In buglist.cgi
&gt;   * You manually limited the buglist to 2000 results. Is that a Red
&gt;Hat-specific thing, or a PgSQL limitation?</span >

At the time I was having problems with putting more that 2000 integers inside of
the IN() clause. It was causing PostgreSQL to generate an error. It may have
something do with a statement length limitation or something else. If the number
of bug_ids was more than 2000 it just didnt do the check and there wasn't any
color highlighting showing private bugs. That may have been an older problem
with PostgreSQL and might be fixed now. I will try it out sometime.

<span class="quote">&gt;+ For attachment.cgi, A brief explanation of why attachments need to be coded
&gt;into Base64 for PostgreSQL might be useful for those who aren't initiates. (In
&gt;fact, I'm not sure, myself.)</span >

Was a quick fix at the time to allow binary attachments with little code change
to the main bugzilla code. What needs to be done eventually is to utilize the
built in binary object data types that PostgreSQL uses. I am going to work on
something like that soon.

P.S. Changes to this bug report sure take a long time with the number of Cc
addresses attach to this ;)</pre></div><div class="change-set" id="c92"><div class="comment" data-id="2079034" data-no="92">
    
    <table class="layout-table change-head " id="ch-92">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a77317758_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-92">-</button>
        </td>
      </tr>

      <tr id="cr-92" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c92">Comment 92</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-18 15:50 PST" data-time="1077148204">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-92">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-92">One additional comment. I added two new functions to DBcompat.pm called
LockTable and UnlockTable. Please comment on those as well. I have only added
the functions into votes.cgi so far so people comment before changing every LOCK
TABLES to the new format and wasting time. You will notice that I send dummy
args in the if condition first before actually sending the real LOCK TABLES
since on certain databases that don't need it, LockTable() will just return an
empty value and the statement will be skipped instead of SendSQL sending
something invalid.</pre></div><div class="change-set" id="c93"><div class="comment" data-id="2079107" data-no="93">
    
    <table class="layout-table change-head assignee" id="ch-93">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a77317758_5898"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-93">-</button>
        </td>
      </tr>

      <tr id="cr-93" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c93">Comment 93</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-18 17:33 PST" data-time="1077154382">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-93">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-93">(In reply to <a href="show_bug.cgi?id=98304#c91">comment #91</a>)
<span class="quote">&gt;&gt;+ There's a lot of DateFormat that goes on in the patch. [snip]
&gt; 
&gt; I think I see what you are saying. Can you provide some code examples to further
&gt; explain this?</span >

  Okay, I suppose the basic idea that I'm proposing is that at some point,
DATE_FORMAT() shouldn't happen at all in SQL, and instead should happen in perl. :-)

  There's an example in this patch, though, that I can give, from process_bug.cgi:

-                SendSQL(&quot;UPDATE longdescs SET isprivate = $private 
-                    WHERE bug_id = $::FORM{'id'} AND bug_when = &quot; .
$::FORM{&quot;$field&quot;});
+                SendSQL(&quot;UPDATE longdescs SET isprivate = $private
+                        WHERE bug_id = $::FORM{'id'} AND &quot; .
+                        Bugzilla::DB::DateFormat('bug_when','%Y%m%d%H%i%s') . 
+                        &quot; = $::FORM{$field}&quot;);

  As you can see here, every time we touch bug_when, we have to remember to
DateFormat the value we insert, and DateFormat it when we take it out again,
before the comparison. This is a sort of &quot;hidden requirement&quot; that programmers
have to remember without any way to enforce the requirement in code (that I know
of). 

  Otherwise, we end up with various hidden inconsistencies as a result of the
fact that PostgreSQL is actually tracking microseconds in every date/time type.
If we hide the microseconds, we have two choices: we can round off the
microseconds, or we can truncate them. Either way, this means that 10:10:10 and
10:10:10 aren't guaranteed to have *actually* been simultaneous, and 10:10:10
and 10:10:11 aren't guaranteed to have *actually* been one second apart.

  This is the worst when you're dealing with delta_ts and lastdiffed, which are
almost always a half-second apart. One way or another, if we don't keep
microseconds in them, we'll end up in trouble. When I was working on the patch
for the double-comment bug in the Red Hat Bugzilla, I tried a *lot* of different
ways to work around this. The only viable long-term solution was to keep the
microseconds.

  But, if you keep microseconds on one field, you have to keep microseconds on
all of them, since you *might* at some point compare a date-with-microseconds to
a date-without-microseconds and get an invalid answer. (Even if Bugzilla doesn't
compare two specific date fields now, it may in the future.)

  So, all storing and comparison of dates in Bugzilla has to be done in the
native format of the database being used. Otherwise, it's a headache and hidden
bugs waiting to happen. It's okay to SELECT them with DateFormat, but *only* if
you're not going to use that as a comparison argument.

  What about moving bugs from MySQL to PgSQL? Well, that's not a problem, since
the MySQL dates will all be correct relevant to each other, and the new PgSQL
dates will all *become* correct relevant to each other on the first update. I'm
not sure that moving between databases is something that we even want to think
about right now, though. :-)

-M</pre><div class="activity"><div class="change">Assignee: nobody &rarr; dkl</div></div></div><div class="change-set" id="c94"><div class="comment" data-id="2079129" data-no="94">
    
    <table class="layout-table change-head assignee" id="ch-94">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a77317758_5898"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-94">-</button>
        </td>
      </tr>

      <tr id="cr-94" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c94">Comment 94</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-18 18:27 PST" data-time="1077157634">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-94">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-94">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=141703" name="attach_141703" title="Port CVS Head to PostgreSQL (v7)">attachment 141703</a> <a href="attachment.cgi?id=141703&amp;action=edit" title="Port CVS Head to PostgreSQL (v7)">[details]</a> <a href="attachment.cgi?id=141703&amp;action=diff" title="Port CVS Head to PostgreSQL (v7)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=141703'>[review]</a>
Port CVS Head to PostgreSQL (v7)

  Okay, going over DBCompat.pm first, again.

  You might want to put a comment at the top of the file about the fact that
not all of these functions are currently used in every SendSQL, but should be
if they can be. Also, that Oracle support is nonexistent, currently, but
perhaps give them a bug number to contribute to.

<span class="quote">&gt;+# Sybase:   Dave Miller &lt;<a href="mailto:justdave&#64;netscape.com">justdave&#64;netscape.com</a>&gt;
&gt;+#       Gayathri Swaminath &lt;<a href="mailto:gayathrik00&#64;netscape.com">gayathrik00&#64;netscape.com</a>&gt;</span >

  I think that justdave is at bugzilla.org, now.

<span class="quote">&gt;+sub LastKey {
&gt;+    my ($table, $column) = &#64;_;
&gt;+    if ($db_driver eq 'mysql') {
&gt;+        return &quot;SELECT LAST_INSERT_ID()&quot;;
&gt;+    } elsif ($db_driver eq 'Pg') {
&gt;+        my $seq = $table . &quot;_&quot; . $column . &quot;_seq&quot;;
&gt;+        return &quot;SELECT currval('$seq')&quot;;</span >

  I think that this shouldn't include the SELECT, so that people can use the
function as part of a larger SendSQL statement, if they want.

<span class="quote">&gt;+sub RegExp {</span >

   My only concern with this function is that someday we might run into a
database that doesn't do RegExps the same way as other DBs do, and we have to
actually mangle the pattern itself. Honestly, I can't say if this will ever
happen, since I don't know how databases do RegExps besides PgSQL and MySQL.

<span class="quote">&gt;+# subroutine:   ToDays
&gt; [snip]
&gt;+# returns:      formatted SQL for TO_DAYS function. TO_DAYS($column)
&gt; for Mysql and just $column for Postgresql. (scalar)</span >

  What it returns changed for PgSQL. :-)

<span class="quote">&gt;+sub If {
&gt; [snip]
&gt;+    elsif ($db_driver eq &quot;Oracle&quot;) {
&gt;+        # Stub
&gt;+    }</span >

  If you're going to do the Stub for this one, you probably ought to do it for
the rest of them, too. :-) In fact, instead of doing a Stub here, you might
want to see if there's a ThrowCodeError for &quot;not_implemented&quot; or something.

<span class="quote">&gt;+# description:  Returns list of values from the enum data in Mysql 
&gt;                 or a particular table in PostgreSQL and others.
&gt;+#               Assumes that enums don't ever contain an apostrophe!</span >

  Is that a safe assumption? (Did we actually make it before and it just wasn't
documented?)

<span class="quote">&gt;+# subroutine:   Interval
&gt; [snip]</span >

  This looks great.

<span class="quote">&gt;+sub DBConnect {</span >

  Hrm, is this supposed to be called by ConnectToDatabase? (That is, what's it
for?)


<span class="quote">&gt;+sub DaysDiff {
&gt;+    my ($lowdate, $highdate) = &#64;_;
&gt;+    if ($db_driver eq &quot;mysql&quot;) {</span >

  For the MySQL and PgSQL versions, it might make more sense to implement this
using the ToDays function that you wrote above instead of manually using the
TO_DAYS SQL. (It's too bad that we have to have this function at all -- I see
why, for Sybase, though.)

<span class="quote">&gt;+    elsif ($db_driver eq &quot;Pg&quot;) {
&gt;+        return &quot;COALESCE($one,'$two')&quot;;</span >

  Why does this have a space before the $two?

<span class="quote">&gt;+# subroutine:   IfNullString
&gt;+# description:  Outputs SQL syntax for the Mysql IFNULL function based on database type</span >

   You might want to describe when this should be used instead of good ol'
IfNull.

<span class="quote">&gt;+sub IsNullString {</span >

  Also, this sub is called &quot;IsNullString&quot; but the docs are for &quot;IfNullString&quot;

<span class="quote">&gt;+sub Limit {
&gt; [snip]
&gt;+    elsif ($db_driver eq &quot;Sybase&quot;) {
&gt;+        # Sybase doesn't support LIMIT, but we have a hack in SendSQL
&gt;+        # to remove it from the SQL string and emulate it from there
&gt;+        # using $::db-&gt;{rowcount}
&gt;+        return &quot;LIMIT $limit&quot;;</span >

  Hrm, I think that hack is only in justdave's version. I think that Sybase
support in general requires a *lot* of hacks, and that justdave was of the
opinion that upstream Bugzilla will never need to support it. If you removed
all of the if...sybase, I don't think anybody would complain.

<span class="quote">&gt;+sub DateFormat {
&gt;+    my ($data) = &#64;_;
&gt;+    # For compatibility reasons, we force the format to
&gt;+    my $format = &quot;%Y.%m.%d %H:%i:%s&quot;;
&gt;+    # for everyone.  Use Date::Parse and friends after retrieving it if you
&gt;+    # need to convert it to another format.</span >

  Eek. I can see why you do this, but I think that it is maybe not such a good
idea (see my previous comment for my reasoning). If Sybase support is the
reason, then I think we should scrap Sybase support.

<span class="quote">&gt;+# subroutine:   LockTable
&gt; [snip]
&gt;+# params:       $tables = hash structure containing table names and type of lock needed
&gt;+#               { 'foo' =&gt; 'WRITE', 'bar' =&gt; 'READ', 'foo2 AS bar2' =&gt; 'READ' } </span >

  Is this a necessary syntax? Is it possible to just call LockTable() multiple
times in a row, or does that Not Work?

<span class="quote">&gt;+    if ($db_driver eq 'mysql') {
&gt;+        $str = &quot;LOCK TABLES &quot;;</span >

  If it's possible, I'd tend to think that this function should just *do* the
table locking, the SendSQL and everything. Is there a situation where LOCK
TABLE needs to be part of a larger statement? Other than that, I think it's a
really good idea and it looks. :-)

<span class="quote">&gt;+    } elsif ($db_driver eq 'Pg') {
&gt;+       $str = &quot;LOCK TABLE &quot;;
&gt;+        foreach my $key (keys %{$tablesref}) {
&gt;+            push (&#64;tables, &quot;$key&quot;);
&gt;+        }
&gt;+        $str .= join(', ', &#64;tables);
&gt;+        return $str; </span >

  This LOCK mode will default to ACCESS EXCLUSIVE for PgSQL, which is a global
lock on that table. It means that nobody else can even *access* that table
while the lock is being held. I think that MySQL WRITE locks are close to PgSQL
EXCLUSIVE MODE and READ locks are close to PgSQL ACCESS SHARE MODE. I don't
know a lot about MySQL's locking. For PgSQL, I'd like to see people just use
PgSQL's inherent locking, except for when they need a guarantee that LastKey
won't change during their write. (In which case I think they should be using
transactions instead of locking, anyway.) However, for now you might want to
use the MODE statements.

  Also, does Bugzilla ever try to do a LOCK TABLES outside of a transaction? If
it does, that won't work for Pg.

  Man, that ol' DBCompat is getting pretty big. :-) It sure is impressive,
though.</pre></div><div class="change-set" id="c95"><div class="comment" data-id="2079469" data-no="95">
    
    <table class="layout-table change-head " id="ch-95">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_118839" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/d438b256de7b28895c1d0db249969dd8?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_118839" id="a77317758_5898"><a class="email " href="user_profile?user_id=118839" > <span class="fna">Andrew Dunstan</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-95">-</button>
        </td>
      </tr>

      <tr id="cr-95" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c95">Comment 95</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-19 06:34 PST" data-time="1077201269">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-95">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-95">(In reply to <a href="show_bug.cgi?id=98304#c94">comment #94</a>)
<span class="quote">&gt; For PgSQL, I'd like to see people just use
&gt; PgSQL's inherent locking, except for when they need a guarantee that LastKey
&gt; won't change during their write. (In which case I think they should be using
&gt; transactions instead of locking, anyway.) However, for now you might want to
&gt; use the MODE statements.
&gt; </span >

LastKey appears to be calling currval() for Pg. This should be safe without any
special locking - see the Pg docs for currval(), which state:

&quot;Return the value most recently obtained by nextval for this sequence in the
current session. (An error is reported if nextval has never been called for this
sequence in this session.) Notice that because this is returning a session-local
value, it gives a predictable answer even if other sessions are executing
nextval meanwhile.&quot;

and nextval() states:

&quot;Advance the sequence object to its next value and return that value. This is
done atomically: even if multiple sessions execute nextval concurrently, each
will safely receive a distinct sequence value.&quot;


(I hope I haven't misunderstood what you said).</pre></div><div class="change-set" id="c96"><div class="comment" data-id="2079661" data-no="96">
    
    <table class="layout-table change-head " id="ch-96">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a77317758_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-96">-</button>
        </td>
      </tr>

      <tr id="cr-96" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c96">Comment 96</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-19 11:18 PST" data-time="1077218303">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-96">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-96">(In reply to <a href="show_bug.cgi?id=98304#c94">comment #94</a>)
<span class="quote">&gt; (From update of <span class="bz_obsolete"><a href="attachment.cgi?id=141703" name="attach_141703" title="Port CVS Head to PostgreSQL (v7)">attachment 141703</a> <a href="attachment.cgi?id=141703&amp;action=edit" title="Port CVS Head to PostgreSQL (v7)">[details]</a> <a href="attachment.cgi?id=141703&amp;action=diff" title="Port CVS Head to PostgreSQL (v7)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=141703'>[review]</a>)
&gt;   Okay, going over DBCompat.pm first, again.
&gt; 
&gt;   You might want to put a comment at the top of the file about the fact that
&gt; not all of these functions are currently used in every SendSQL, but should be
&gt; if they can be. Also, that Oracle support is nonexistent, currently, but
&gt; perhaps give them a bug number to contribute to.
&gt; 
&gt; &gt;+# Sybase:   Dave Miller &lt;<a href="mailto:justdave&#64;netscape.com">justdave&#64;netscape.com</a>&gt;
&gt; &gt;+#       Gayathri Swaminath &lt;<a href="mailto:gayathrik00&#64;netscape.com">gayathrik00&#64;netscape.com</a>&gt;
&gt; 
&gt;   I think that justdave is at bugzilla.org, now.
&gt; </span >

Will fix.

<span class="quote">&gt; &gt;+sub LastKey {
&gt; &gt;+    my ($table, $column) = &#64;_;
&gt; &gt;+    if ($db_driver eq 'mysql') {
&gt; &gt;+        return &quot;SELECT LAST_INSERT_ID()&quot;;
&gt; &gt;+    } elsif ($db_driver eq 'Pg') {
&gt; &gt;+        my $seq = $table . &quot;_&quot; . $column . &quot;_seq&quot;;
&gt; &gt;+        return &quot;SELECT currval('$seq')&quot;;
&gt; 
&gt;   I think that this shouldn't include the SELECT, so that people can use the
&gt; function as part of a larger SendSQL statement, if they want.
&gt; </span >

Good point. Easy change.

<span class="quote">&gt; &gt;+sub RegExp {
&gt; 
&gt;    My only concern with this function is that someday we might run into a
&gt; database that doesn't do RegExps the same way as other DBs do, and we have to
&gt; actually mangle the pattern itself. Honestly, I can't say if this will ever
&gt; happen, since I don't know how databases do RegExps besides PgSQL and MySQL.
&gt; </span >

Well in the past I have not been able to find a way to do it with Oracle without
 using sort of external procedures. And then the syntax would be something like
Regex(column, pattern) which would then again be incompatible. So not that I
think of it having just the operator broken out would break if someone was using
Oracle if it returned and empty string. 

<span class="quote">&gt; &gt;+# subroutine:   ToDays
&gt; &gt; [snip]
&gt; &gt;+# returns:      formatted SQL for TO_DAYS function. TO_DAYS($column)
&gt; &gt; for Mysql and just $column for Postgresql. (scalar)
&gt; 
&gt;   What it returns changed for PgSQL. :-)
&gt; </span >

Will fix.

<span class="quote">&gt; &gt;+sub If {
&gt; &gt; [snip]
&gt; &gt;+    elsif ($db_driver eq &quot;Oracle&quot;) {
&gt; &gt;+        # Stub
&gt; &gt;+    }
&gt; 
&gt;   If you're going to do the Stub for this one, you probably ought to do it for
&gt; the rest of them, too. :-) In fact, instead of doing a Stub here, you might
&gt; want to see if there's a ThrowCodeError for &quot;not_implemented&quot; or something.
&gt; </span >

Will change.

<span class="quote">&gt; &gt;+# description:  Returns list of values from the enum data in Mysql 
&gt; &gt;                 or a particular table in PostgreSQL and others.
&gt; &gt;+#               Assumes that enums don't ever contain an apostrophe!
&gt; 
&gt;   Is that a safe assumption? (Did we actually make it before and it just wasn't
&gt; documented?)
&gt; </span >

I pulled the SplitEnumType straight out of globals.pl so I used the same
comment that was already there.

<span class="quote">&gt; &gt;+# subroutine:   Interval
&gt; &gt; [snip]
&gt; 
&gt;   This looks great.
&gt; </span >

Cool

<span class="quote">&gt; &gt;+sub DBConnect {
&gt; 
&gt;   Hrm, is this supposed to be called by ConnectToDatabase? (That is, what's it
&gt; for?)
&gt; </span >

This was part of the merge of Jeroen's DBCompat.pm code so eventually it can be
called from within DB.pm to form the dsn line correctly. I hadn't implimented
that far yet.

<span class="quote">&gt; &gt;+sub DaysDiff {
&gt; &gt;+    my ($lowdate, $highdate) = &#64;_;
&gt; &gt;+    if ($db_driver eq &quot;mysql&quot;) {
&gt; 
&gt;   For the MySQL and PgSQL versions, it might make more sense to implement this
&gt; using the ToDays function that you wrote above instead of manually using the
&gt; TO_DAYS SQL. (It's too bad that we have to have this function at all -- I see
&gt; why, for Sybase, though.)</span >

Ok, will change. 

<span class="quote">&gt; &gt;+    elsif ($db_driver eq &quot;Pg&quot;) {
&gt; &gt;+        return &quot;COALESCE($one,'$two')&quot;;
&gt; 
&gt;   Why does this have a space before the $two?
&gt; 
&gt; &gt;+# subroutine:   IfNullString
&gt; &gt;+# description:  Outputs SQL syntax for the Mysql IFNULL function based on</span >
database type
<span class="quote">&gt; 
&gt;    You might want to describe when this should be used instead of good ol'
&gt; IfNull.
&gt; </span >

Yeah, documentation incomplete. Will fix.

<span class="quote">&gt; &gt;+sub IsNullString {
&gt; 
&gt;   Also, this sub is called &quot;IsNullString&quot; but the docs are for &quot;IfNullString&quot;</span >
&gt;

ditto
 
<span class="quote">&gt; &gt;+sub Limit {
&gt; &gt; [snip]
&gt; &gt;+    elsif ($db_driver eq &quot;Sybase&quot;) {
&gt; &gt;+        # Sybase doesn't support LIMIT, but we have a hack in SendSQL
&gt; &gt;+        # to remove it from the SQL string and emulate it from there
&gt; &gt;+        # using $::db-&gt;{rowcount}
&gt; &gt;+        return &quot;LIMIT $limit&quot;;
&gt; 
&gt;   Hrm, I think that hack is only in justdave's version. I think that Sybase
&gt; support in general requires a *lot* of hacks, and that justdave was of the
&gt; opinion that upstream Bugzilla will never need to support it. If you removed
&gt; all of the if...sybase, I don't think anybody would complain.
&gt; </span >

I can remove the Sybase conditions if Dave doesn't think it will ever be merged
in. Dave?

<span class="quote">&gt; &gt;+sub DateFormat {
&gt; &gt;+    my ($data) = &#64;_;
&gt; &gt;+    # For compatibility reasons, we force the format to
&gt; &gt;+    my $format = &quot;%Y.%m.%d %H:%i:%s&quot;;
&gt; &gt;+    # for everyone.  Use Date::Parse and friends after retrieving it if you
&gt; &gt;+    # need to convert it to another format.
&gt; 
&gt;   Eek. I can see why you do this, but I think that it is maybe not such a good
&gt; idea (see my previous comment for my reasoning). If Sybase support is the
&gt; reason, then I think we should scrap Sybase support.</span >

If we pull out DateFormat altogether then this wont be a problem anymore.

<span class="quote">&gt; &gt;+# subroutine:   LockTable
&gt; &gt; [snip]
&gt; &gt;+# params:       $tables = hash structure containing table names and type of</span >
lock needed
<span class="quote">&gt; &gt;+#               { 'foo' =&gt; 'WRITE', 'bar' =&gt; 'READ', 'foo2 AS bar2' =&gt; 'READ' } 
&gt; 
&gt;   Is this a necessary syntax? Is it possible to just call LockTable() multiple
&gt; times in a row, or does that Not Work?</span >

First stab. I think it is more efficient on the database side to just call it
altogether in one statement but I have not looked into whether it could be
separated out. Anyone tried this before?
 
<span class="quote">&gt; &gt;+    if ($db_driver eq 'mysql') {
&gt; &gt;+        $str = &quot;LOCK TABLES &quot;;
&gt; 
&gt;   If it's possible, I'd tend to think that this function should just *do* the
&gt; table locking, the SendSQL and everything. Is there a situation where LOCK
&gt; TABLE needs to be part of a larger statement? Other than that, I think it's a
&gt; really good idea and it looks. :-)
&gt; </span >

It could, but I was trying to refrain from actually doing any real SQL calls
within DBcompat.pm and have it purely only return SQL strings. 

<span class="quote">&gt; &gt;+    } elsif ($db_driver eq 'Pg') {
&gt; &gt;+       $str = &quot;LOCK TABLE &quot;;
&gt; &gt;+        foreach my $key (keys %{$tablesref}) {
&gt; &gt;+            push (&#64;tables, &quot;$key&quot;);
&gt; &gt;+        }
&gt; &gt;+        $str .= join(', ', &#64;tables);
&gt; &gt;+        return $str; 
&gt; 
&gt;   This LOCK mode will default to ACCESS EXCLUSIVE for PgSQL, which is a global
&gt; lock on that table. It means that nobody else can even *access* that table
&gt; while the lock is being held. I think that MySQL WRITE locks are close to PgSQL
&gt; EXCLUSIVE MODE and READ locks are close to PgSQL ACCESS SHARE MODE. I don't
&gt; know a lot about MySQL's locking. For PgSQL, I'd like to see people just use
&gt; PgSQL's inherent locking, except for when they need a guarantee that LastKey
&gt; won't change during their write. (In which case I think they should be using
&gt; transactions instead of locking, anyway.) However, for now you might want to
&gt; use the MODE statements.
&gt; </span >

Will look into that.

<span class="quote">&gt;   Also, does Bugzilla ever try to do a LOCK TABLES outside of a transaction? If
&gt; it does, that won't work for Pg.
&gt; </span >

Right, you need to be in a transaction to do table locks in Pg. I should
implement some sort of BeginWork(), Commit(), Rollback() functions also in
DBcompat.pm. These would need to be added in almost every CGI that does DB access.
 </pre></div><div class="change-set" id="c97"><div class="comment" data-id="2079789" data-no="97">
    
    <table class="layout-table change-head reporter" id="ch-97">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a77317758_5898"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-97">-</button>
        </td>
      </tr>

      <tr id="cr-97" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c97">Comment 97</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-19 13:30 PST" data-time="1077226233">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-97">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-97">(In reply to <a href="show_bug.cgi?id=98304#c96">comment #96</a>)
<span class="quote">&gt; &gt; &gt;+# Sybase:   Dave Miller &lt;<a href="mailto:justdave&#64;netscape.com">justdave&#64;netscape.com</a>&gt;
&gt; &gt; &gt;+#       Gayathri Swaminath &lt;<a href="mailto:gayathrik00&#64;netscape.com">gayathrik00&#64;netscape.com</a>&gt;
&gt; &gt; 
&gt; &gt;   I think that justdave is at bugzilla.org, now.
&gt; 
&gt; Will fix.</span >

Actually, make those &lt;<a href="mailto:davem00&#64;aol.com">davem00&#64;aol.com</a>&gt; and &lt;<a href="mailto:gayathrik00&#64;aol.com">gayathrik00&#64;aol.com</a>&gt;.  Neither
address will work after next week (Gayathri's has been gone for a year already),
but AOL owns the copyright, so any relicensing issues would need to go through
them unless I can get them to reassign copyright on it to MF like they did with
the Mozilla stuff (I'll work on that).

<span class="quote">&gt; &gt; &gt;+# description:  Returns list of values from the enum data in Mysql 
&gt; &gt; &gt;                 or a particular table in PostgreSQL and others.
&gt; &gt; &gt;+#               Assumes that enums don't ever contain an apostrophe!
&gt; &gt; 
&gt; &gt;   Is that a safe assumption? (Did we actually make it before and it just wasn't
&gt; &gt; documented?)
&gt; &gt; 
&gt; 
&gt; I pulled the SplitEnumType straight out of globals.pl so I used the same
&gt; comment that was already there.</span >

I would venture to say that we're intending for this to just go away in the
MySQL code as well.  However, if you've already got the compatibility hack for
it, there's no reason not to use this until then.

<span class="quote">&gt; &gt; &gt;+sub Limit {
&gt; &gt; &gt; [snip]
&gt; &gt; &gt;+    elsif ($db_driver eq &quot;Sybase&quot;) {
&gt; &gt; &gt;+        # Sybase doesn't support LIMIT, but we have a hack in SendSQL
&gt; &gt; &gt;+        # to remove it from the SQL string and emulate it from there
&gt; &gt; &gt;+        # using $::db-&gt;{rowcount}
&gt; &gt; &gt;+        return &quot;LIMIT $limit&quot;;
&gt; &gt; 
&gt; &gt;   Hrm, I think that hack is only in justdave's version. I think that Sybase
&gt; &gt; support in general requires a *lot* of hacks, and that justdave was of the
&gt; &gt; opinion that upstream Bugzilla will never need to support it. If you removed
&gt; &gt; all of the if...sybase, I don't think anybody would complain.
&gt; &gt; 
&gt; 
&gt; I can remove the Sybase conditions if Dave doesn't think it will ever be
&gt; merged in. Dave?</span >

I don't think we'll ever have Sybase support out of the box.  However, I have no
objection to including code that will make the hacking easier to do.

<span class="quote">&gt; &gt; &gt;+sub DateFormat {
&gt; &gt; &gt;+    # For compatibility reasons, we force the format to
&gt; &gt; &gt;+    my $format = &quot;%Y.%m.%d %H:%i:%s&quot;;
&gt; &gt; &gt;+    # for everyone.  Use Date::Parse and friends after retrieving it if you
&gt; &gt; &gt;+    # need to convert it to another format.
&gt; &gt; 
&gt; &gt;   Eek. I can see why you do this, but I think that it is maybe not such a
&gt; &gt; good idea (see my previous comment for my reasoning). If Sybase support is
&gt; &gt; the reason, then I think we should scrap Sybase support.
&gt; 
&gt; If we pull out DateFormat altogether then this wont be a problem anymore.</span >

You have to date format on Sybase in order to get accurate resolution, because
it'll format it for you if you don't ask it to, and the default format doesn't
even include seconds.  But yes, if Sybase is the only reason we need it, skip
it.  I still think there's a bit to be gained by using a common format to
retrieve the timestamps and letting the display code deal with formatting it. 
Date formatting tends to be someone people like to localize anyway.

<span class="quote">&gt; &gt;   Is this a necessary syntax? Is it possible to just call LockTable() multiple
&gt; &gt; times in a row, or does that Not Work?
&gt; 
&gt; First stab. I think it is more efficient on the database side to just call it
&gt; altogether in one statement but I have not looked into whether it could be
&gt; separated out. Anyone tried this before?</span >

You can't in MySQL.  Any time you call LOCK TABLES in MySQL it unlocks anything
you already had locked previously that's not mentioned in the current lock
statement.

<span class="quote">&gt; &gt;   If it's possible, I'd tend to think that this function should just *do* the
&gt; &gt; table locking, the SendSQL and everything. Is there a situation where LOCK
&gt; &gt; TABLE needs to be part of a larger statement? Other than that, I think it's a
&gt; &gt; really good idea and it looks. :-)
&gt; &gt; 
&gt; 
&gt; It could, but I was trying to refrain from actually doing any real SQL calls
&gt; within DBcompat.pm and have it purely only return SQL strings. </span >

Maybe LockTables should be a function in Bugzilla::DB.pm.  It should in turn
retrieve the SQL from DBCompat. :)  (just throwing ideas out, don't feel like
you have to follow it)

<span class="quote">&gt; &gt;   Also, does Bugzilla ever try to do a LOCK TABLES outside of a transaction?
&gt; &gt; If it does, that won't work for Pg.
&gt; 
&gt; Right, you need to be in a transaction to do table locks in Pg. I should
&gt; implement some sort of BeginWork(), Commit(), Rollback() functions also in
&gt; DBcompat.pm. These would need to be added in almost every CGI that does DB
&gt; access.  </span >

Yes, MySQL (at the time all of Bugzilla was originally written) didn't have
transactions.  Using locks is how you create a transaction type environment in
MySQL (except that you don't get rollback).  We have autocommit turned on in the
DBI handle.</pre></div><div class="change-set" id="c98"><div class="comment" data-id="2079838" data-no="98">
    
    <table class="layout-table change-head " id="ch-98">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_54482" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/84a6da24d0a4da801a4ba23ff0ba9ce7?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_54482" id="a77317758_5898"><a class="email " href="user_profile?user_id=54482" > <span class="fna">Ed Sabol</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-98">-</button>
        </td>
      </tr>

      <tr id="cr-98" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c98">Comment 98</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-19 14:49 PST" data-time="1077230945">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-98">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-98">Frankly, I don't like what I'm reading in the recent comments here. Please don't
throw out any of the existing Sybase stuff in DBCompat.pm or limit your solution
in such a way that it would make adding Sybase support more difficult. The
appropriate solution to this bug should make Bugzilla work with virtually any
RDBMS, not just PostgreSQL and MySQL. Don't throw the baby out with the bath
water just because all you are personally concerned about is PostgreSQL.</pre></div><div class="change-set" id="c99"><div class="comment" data-id="2079976" data-no="99">
    
    <table class="layout-table change-head assignee" id="ch-99">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a77317758_5898"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-99">-</button>
        </td>
      </tr>

      <tr id="cr-99" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c99">Comment 99</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-19 17:49 PST" data-time="1077241791">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-99">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-99">(In reply to <a href="show_bug.cgi?id=98304#c98">comment #98</a>)
<span class="quote">&gt; Frankly, I don't like what I'm reading in the recent comments here. Please don't
&gt; throw out any of the existing Sybase stuff in DBCompat.pm or limit your solution
&gt; in such a way that it would make adding Sybase support more difficult.</span >

  Ed --

  It's good to know that there are users interested in Sybase support. For right
now, I think our focus is to push out a version that supports *any* other
database, *at all*. :-) To that effect, I'd like to make the port to that
platform (Postgres) as easy as possible, and possibly grease other ports along
the way. 

Sybase implemented its database in a way that made sense at the time, but
doesn't make as much sense in the modern world. That doesn't mean that I think
that we should make life hard for people who want to port Bugzilla to Sybase --
quite the contrary. :-) I'd love to see Bugzilla work on every database in
existence. I'd also like to see a Postgres version get out the door, a version
with as few potential bugs as possible, that doesn't break the MySQL version. 

We're been waiting for PostgreSQL support for over two years, now. At this
point, if Sybase support will delay PostgreSQL support, then I think that we
should skip it. However, I don't see anything wrong with Sybase support in 2.20
or 2.22.

-M</pre></div><div class="change-set" id="c100"><div class="comment" data-id="2079985" data-no="100">
    
    <table class="layout-table change-head assignee" id="ch-100">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a77317758_5898"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-100">-</button>
        </td>
      </tr>

      <tr id="cr-100" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c100">Comment 100</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-19 18:03 PST" data-time="1077242586">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-100">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-100">dkl -- In regard to REPLACE, I just noticed <a href="show_bug.cgi?id=98304#c35">comment 35</a> and <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - saving a named query uses REPLACE INTO (not ANSI)"
   href="show_bug.cgi?id=190432">bug 190432</a> -- I think
one of those has the fix.</pre></div><div class="change-set" id="c101"><div class="comment" data-id="2080033" data-no="101">
    
    <table class="layout-table change-head " id="ch-101">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a77317758_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-101">-</button>
        </td>
      </tr>

      <tr id="cr-101" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c101">Comment 101</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-19 18:56 PST" data-time="1077245807">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-101">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-101">(In reply to <a href="show_bug.cgi?id=98304#c100">comment #100</a>)
<span class="quote">&gt; dkl -- In regard to REPLACE, I just noticed <a href="show_bug.cgi?id=98304#c35">comment 35</a> and <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - saving a named query uses REPLACE INTO (not ANSI)"
   href="show_bug.cgi?id=190432">bug 190432</a> -- I think
&gt; one of those has the fix.</span >

When transactions are in place for both PostgreSQL and MySQL with proper table
locking then this should no longer be a problem with race conditions right?
Probably will defer worrying about this one til the bigger picture is solved.
</pre></div><div class="change-set" id="c102"><div class="comment" data-id="2080101" data-no="102">
    
    <table class="layout-table change-head " id="ch-102">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27566" id="a77317758_5898"><img src="https://secure.gravatar.com/avatar/00667ee267700ed98ab980a87931e5d6?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_27566" id="a77317758_5898"><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-102">-</button>
        </td>
      </tr>

      <tr id="cr-102" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c102">Comment 102</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-19 22:14 PST" data-time="1077257660">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-102">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-102">For those we are interested in MySQL &lt;&gt; PostgreSQL SQL differences, please see:

<a rel="nofollow" href="http://www.in-nomine.org/~asmodai/mysql-to-pgsql.txt">http://www.in-nomine.org/~asmodai/mysql-to-pgsql.txt</a>

I need to update it again and rework it though.</pre></div><div class="change-set cc-only" id="a77610361_29992" style="display:none"><div class="change" id="aa77610361_29992">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29992" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/5c77c66305b0cade99fc1ac00a2d6695?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_29992" id="a77610361_29992"><a class="email " href="user_profile?user_id=29992" > <span class="fna">Tom M. Schenkenberg</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a77610361_29992">-</button>
        </td>
      </tr>
      <tr id="ar-a77610361_29992">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a77610361_29992">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-20 01:13 PST" data-time="1077268410">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: <span class="activity-deleted">tom</span></div></div></div><div class="change-set" id="c103"><div class="comment" data-id="2080507" data-no="103">
    
    <table class="layout-table change-head " id="ch-103">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a77610361_29992"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-103">-</button>
        </td>
      </tr>

      <tr id="cr-103" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c103">Comment 103</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-20 11:27 PST" data-time="1077305220">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-103">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-103">(In reply to <a href="show_bug.cgi?id=98304#c99">comment #99</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=98304#c98">comment #98</a>)
&gt; &gt; Frankly, I don't like what I'm reading in the recent comments here. Please don't
&gt; &gt; throw out any of the existing Sybase stuff in DBCompat.pm or limit your solution
&gt; &gt; in such a way that it would make adding Sybase support more difficult.
&gt; 
&gt;   Ed --
&gt; 
&gt;   It's good to know that there are users interested in Sybase support. For right
&gt; now, I think our focus is to push out a version that supports *any* other
&gt; database, *at all*. :-) To that effect, I'd like to make the port to that
&gt; platform (Postgres) as easy as possible, and possibly grease other ports along
&gt; the way. 
&gt; 
&gt; Sybase implemented its database in a way that made sense at the time, but
&gt; doesn't make as much sense in the modern world. That doesn't mean that I think
&gt; that we should make life hard for people who want to port Bugzilla to Sybase --
&gt; quite the contrary. :-) I'd love to see Bugzilla work on every database in
&gt; existence. I'd also like to see a Postgres version get out the door, a version
&gt; with as few potential bugs as possible, that doesn't break the MySQL version. 
&gt; 
&gt; We're been waiting for PostgreSQL support for over two years, now. At this
&gt; point, if Sybase support will delay PostgreSQL support, then I think that we
&gt; should skip it. However, I don't see anything wrong with Sybase support in 2.20
&gt; or 2.22.
&gt; 
&gt; -M</span >


No worries, ed. I am not going to remove any previous Sybase work that is
currently there. But it has been a long time goal of mine to get Pg support into
the main code base so I think we should focus on Mysql and Pg for the time being
and worry about other support in future releases. If anyone is actively using
Sybase for Bugzilla (Dave?) and would be interested in testing then that would
be great. Otherwise I don't have access to a server myself.

-d</pre></div><div class="change-set" id="c104"><div class="comment" data-id="2080551" data-no="104">
    
    <table class="layout-table change-head reporter" id="ch-104">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a77610361_29992"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-104">-</button>
        </td>
      </tr>

      <tr id="cr-104" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c104">Comment 104</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-20 12:26 PST" data-time="1077308806">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-104">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-104">(In reply to <a href="show_bug.cgi?id=98304#c103">comment #103</a>)
<span class="quote">&gt; If anyone is actively using
&gt; Sybase for Bugzilla (Dave?) and would be interested in testing then that would
&gt; be great. Otherwise I don't have access to a server myself.</span >

I lose access to mine in a week.

I do have the &quot;developers edition&quot; of Sybase ASE on my laptop, but I don't have
enough hard drive space to actually run it :)  So I could probably test again at
some point in the future when I come up with a bigger hard drive.</pre></div><div class="change-set" id="c105"><div class="comment" data-id="2080615" data-no="105">
    
    <table class="layout-table change-head " id="ch-105">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_54482" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/84a6da24d0a4da801a4ba23ff0ba9ce7?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_54482" id="a77610361_29992"><a class="email " href="user_profile?user_id=54482" > <span class="fna">Ed Sabol</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-105">-</button>
        </td>
      </tr>

      <tr id="cr-105" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c105">Comment 105</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-20 14:00 PST" data-time="1077314417">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-105">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-105">(In reply to <a href="show_bug.cgi?id=98304#c103">comment #103</a>)
<span class="quote">&gt; No worries, ed. I am not going to remove any previous Sybase work that is
&gt; currently there. But it has been a long time goal of mine to get Pg support into
&gt; the main code base so I think we should focus on Mysql and Pg for the time being
&gt; and worry about other support in future releases. If anyone is actively using
&gt; Sybase for Bugzilla (Dave?) and would be interested in testing then that would
&gt; be great. Otherwise I don't have access to a server myself.</span >

I've got no problems with focusing on PostgreSQL first, and I applaud the
efforts so far. My main concerns were about a couple of comments that &quot;Bugzilla
would never support Sybase&quot; (or words to that effect) followed by suggestions to
rip out the Sybase support that was already present. I'm glad to hear that that
will not be happening, Dave. Although I do have a particular interest in using
Bugzilla on Sybase, I would hope that I'm not speaking only for the prospective
Sybase Bugzilla users, but also for users of Oracle and other popular DBMSes.
The goal should be make Bugzilla as DBMS-agnostic as possible.

As far as date/time fields go, I strongly feel that you should consider NOT
using DBMS-specific date/time field types at all. I would strongly advocate
using char fields or float fields. I've been writing DBMS-agnostic database
applications for years, specifically Sybase, Oracle, INGRES, and MySQL, and, if
you steer clear of the things that the various DBMS implementations disagree
upon from the beginning, then you save yourself a lot of work. A char field
containing a date/time in ISO 8601 format (YYYY-MM-DD hh:mm:ss.ssss) is just as
effective (alphabetical sorting results in chronological sorting) and it will
work with every DBMS out there guaranteed. For some applications, to save on
storage space, I convert date/times to MJDs (Modified Julian Dates) and store
them as floats. Anyway, those are a couple of options that I feel should be
considered.</pre></div><div class="change-set" id="c106"><div class="comment" data-id="2080637" data-no="106">
    
    <table class="layout-table change-head " id="ch-106">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a77610361_29992"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-106">-</button>
        </td>
      </tr>

      <tr id="cr-106" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c106">Comment 106</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-20 14:29 PST" data-time="1077316156">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-106">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-106">Created <span class="bz_obsolete"><a href="attachment.cgi?id=141854" name="attach_141854" title="Changes to implement Table Locking in PostgreSQL using DBcompat.pm">attachment 141854</a> <a href="attachment.cgi?id=141854&amp;action=edit" title="Changes to implement Table Locking in PostgreSQL using DBcompat.pm">[details]</a> <a href="attachment.cgi?id=141854&amp;action=diff" title="Changes to implement Table Locking in PostgreSQL using DBcompat.pm">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=141854'>[review]</a>
Changes to implement Table Locking in PostgreSQL using DBcompat.pm

Here is my latest changes to DBcompat.pm so that people could chew on it over
the weekend. I have implemented LockTable and UnlockTable differently in that I
am performing the actual locks inside instead of simply returning the SQL
string.
This allows me to format it specifically for the database or return nothing if
we don't need it. I have only converted votes.cgi so far and it seems to work.
You can look at that file to see how the function is called.

Also cleaned up some things, added some more docs, throws code error for
functions not yet supported for a particular database.

More to come!</pre></div><div class="change-set" id="c107"><div class="comment" data-id="2080768" data-no="107">
    
    <table class="layout-table change-head " id="ch-107">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a77610361_29992"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-107">-</button>
        </td>
      </tr>

      <tr id="cr-107" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c107">Comment 107</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-20 18:30 PST" data-time="1077330633">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-107">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-107">I will look at this, at some point. One comment is that it may be better off
going to transactions for everything, since we're going to have to audit all the
LOCK TABLE commands anyway to do this.

That requires innodb for mysql, though, and that is very, very, very, very slow.
Maybe they've improved it recently - anyone know?

Re Sybase, there was a whole lot of uglyness required, starting at the fact that
the DBD driver doesn't let you have two open statements at once. That one is a
killer. MySQL does support that (although by default it reads all the data into
RAM at once) Postgres &lt; 7.4 doesn't support it at all, but DBD hides it by
storing all the data internally as a buffer. Or you could use cursors, but thats
an invasive change. I don't know if DBD for postgres &gt;= 7.4 uses the max row
count option to fetch bits of a portal, rather than the entire thing at once.
Starting up a seccond DBI connection for Sybase doesn't work becaus you then
don't have LOCKs/transactions from the first.</pre></div><div class="change-set" id="c108"><div class="comment" data-id="2080775" data-no="108">
    
    <table class="layout-table change-head reporter" id="ch-108">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a77610361_29992"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-108">-</button>
        </td>
      </tr>

      <tr id="cr-108" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c108">Comment 108</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-20 18:38 PST" data-time="1077331091">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-108">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-108">(In reply to <a href="show_bug.cgi?id=98304#c107">comment #107</a>)
<span class="quote">&gt; Re Sybase, there was a whole lot of uglyness required, starting at the fact
&gt; that the DBD driver doesn't let you have two open statements at once. That
&gt; one is a killer.</span >

Actually, the DBD does let you have multiple open statements.  But the core
C-level driver for Sybase doesn't.  The DBD will emulate it by opening
additional connections behind the scenes and not telling you (which of course
kills all hopes of maintaining locks and transactions).  You can, of course,
disable that behavior, and force it to only have one open connection, but then
you have all kinds of problems when you're dealing with looping over data in
hopes of doing something with it, unless you can afford to load all of said data
into RAM first.</pre></div><div class="change-set" id="c109"><div class="comment" data-id="2080779" data-no="109">
    
    <table class="layout-table change-head " id="ch-109">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a77610361_29992"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-109">-</button>
        </td>
      </tr>

      <tr id="cr-109" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c109">Comment 109</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-20 18:45 PST" data-time="1077331520">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-109">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-109">I didn't realise that DBD did the multiple conenctions thing for you. Its still
silly and broken, though. Like I said, other DBs have DBD pretend to support this...</pre></div><div class="change-set" id="c110"><div class="comment" data-id="2087038" data-no="110">
    
    <table class="layout-table change-head " id="ch-110">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a77610361_29992"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-110">-</button>
        </td>
      </tr>

      <tr id="cr-110" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c110">Comment 110</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-27 15:16 PST" data-time="1077923815">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-110">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-110">Created <span class="bz_obsolete"><a href="attachment.cgi?id=142476" name="attach_142476" title="Port CVS Head to PostgreSQL (v8)">attachment 142476</a> <a href="attachment.cgi?id=142476&amp;action=edit" title="Port CVS Head to PostgreSQL (v8)">[details]</a> <a href="attachment.cgi?id=142476&amp;action=diff" title="Port CVS Head to PostgreSQL (v8)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=142476'>[review]</a>
Port CVS Head to PostgreSQL (v8)

Change all table locking to use new LockTables() and UnlockTables in
DBcompat.pm. Added new subroutines StartTransaction() and EndTransaction() as a
first step towards transaction support. Seems to work correctly since DBI will
automatically switch over to AutoCommit=0 when a begin_work is called and back
to AutoCommit=1 when commited. Also changed LIMIT to support Mysql and
Postgresql style OFFSET.</pre><div class="activity"><div class="change">
        <a href="attachment.cgi?id=141703&amp;action=edit"
           title="Port CVS Head to PostgreSQL (v7)"
           class=""
        >Attachment #141703</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="c111"><div class="comment" data-id="2087070" data-no="111">
    
    <table class="layout-table change-head " id="ch-111">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_17856" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/b94c6c1cc7e904117169d10ccf615583?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_17856" id="a77610361_29992"><a class="email " href="user_profile?user_id=17856" > <span class="fna">Christian Reis</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-111">-</button>
        </td>
      </tr>

      <tr id="cr-111" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c111">Comment 111</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-27 15:41 PST" data-time="1077925301">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-111">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-111">If we want to move on with this, I'd suggest us making a landing plan, which
involves perhaps breaking up the patch into smaller bits and tying them into
separate bugs for review. If the patches are small enough, I volunteer to review
them.</pre><div class="activity cc-only" style="display:none"><div class="change">CC: kiko</div></div></div><div class="change-set" id="c112"><div class="comment" data-id="2087137" data-no="112">
    
    <table class="layout-table change-head reporter" id="ch-112">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a77610361_29992"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-112">-</button>
        </td>
      </tr>

      <tr id="cr-112" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c112">Comment 112</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-27 17:00 PST" data-time="1077930043">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-112">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-112">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=142476" name="attach_142476" title="Port CVS Head to PostgreSQL (v8)">attachment 142476</a> <a href="attachment.cgi?id=142476&amp;action=edit" title="Port CVS Head to PostgreSQL (v8)">[details]</a> <a href="attachment.cgi?id=142476&amp;action=diff" title="Port CVS Head to PostgreSQL (v8)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=142476'>[review]</a>
Port CVS Head to PostgreSQL (v8)

<span class="quote">&gt;Index: Attachment.pm
&gt;&#64;&#64; -76,9 +76,9 &#64;&#64;
&gt;-              SELECT attach_id, DATE_FORMAT(creation_ts, '%Y.%m.%d %H:%i'),
&gt;+              SELECT attach_id, &quot; . Bugzilla::DB::DateFormat('creation_ts', '%Y.%m.%d %H:%i') . &quot;, </span >

This was this way already, so we probably should fix it in another bug, but
shouldn't we be retrieving seconds on all our time retrievals?

<span class="quote">&gt;Index: Bug.pm
&gt;&#64;&#64; -148,7 +148,14 &#64;&#64;
&gt;     where bugs.bug_id = $bug_id
&gt;       AND products.id = bugs.product_id
&gt;       AND components.id = bugs.component_id
&gt;-    group by bugs.bug_id&quot;;
&gt;+    GROUP BY 
&gt;+      bugs.bug_id, alias, bugs.product_id, products.name, version, 
&gt;+      rep_platform, op_sys, bug_status, resolution, priority, 
&gt;+      bug_severity, bugs.component_id, components.name, assigned_to, 
&gt;+      reporter, bug_file_loc, short_desc, target_milestone, 
&gt;+      qa_contact, status_whiteboard, creation_ts, delta_ts,
&gt;+      reporter_accessible, cclist_accessible,
&gt;+      estimated_time, remaining_time&quot;;
&gt; 
&gt;   &amp;::SendSQL($query);
&gt;   my &#64;row = ();</span >

This completely toasted us on Sybase...  what does DISTINCT bug_id do if you
use that at the beginning of the query in place of the GROUP BY?  That's what
we ended up having to do for Sybase.

<span class="quote">&gt;&#64;&#64; -211,44 +218,43 &#64;&#64;
&gt;       $self-&gt;{'keywords'} = join(', ', &#64;list);
&gt;     }
&gt;   }
&gt;-
&gt;   $self-&gt;{'attachments'} = Attachment::query($self-&gt;{bug_id});
&gt; 
&gt;   # The types of flags that can be set on this bug.
&gt;   # If none, no UI for setting flags will be displayed.
&gt;-  my $flag_types = 
&gt;-    Bugzilla::FlagType::match({ 'target_type'  =&gt; 'bug', 
&gt;-                                'product_id'   =&gt; $self-&gt;{'product_id'}, 
&gt;-                                'component_id' =&gt; $self-&gt;{'component_id'} });
&gt;-  foreach my $flag_type (&#64;$flag_types) {
&gt;-      $flag_type-&gt;{'flags'} = 
&gt;-        Bugzilla::Flag::match({ 'bug_id'      =&gt; $self-&gt;{bug_id},
&gt;-                                'type_id'     =&gt; $flag_type-&gt;{'id'},
&gt;-                                'target_type' =&gt; 'bug' });
&gt;-  }
&gt;-  $self-&gt;{'flag_types'} = $flag_types;
&gt;-  $self-&gt;{'any_flags_requesteeble'} = grep($_-&gt;{'is_requesteeble'}, &#64;$flag_types);
&gt;+  #my $flag_types = 
&gt;+  #  Bugzilla::FlagType::match({ 'target_type'  =&gt; 'bug', 
&gt;+  #                              'product_id'   =&gt; $self-&gt;{'product_id'}, 
&gt;+  #                              'component_id' =&gt; $self-&gt;{'component_id'} });
&gt;+  #foreach my $flag_type (&#64;$flag_types) {
&gt;+  #    $flag_type-&gt;{'flags'} = 
&gt;+  #      Bugzilla::Flag::match({ 'bug_id'      =&gt; $self-&gt;{bug_id},
&gt;+  #                              'type_id'     =&gt; $flag_type-&gt;{'id'},
&gt;+  #                              'target_type' =&gt; 'bug' });
&gt;+  #}
&gt;+  #$self-&gt;{'flag_types'} = $flag_types;
&gt;+  #$self-&gt;{'any_flags_requesteeble'} = grep($_-&gt;{'is_requesteeble'}, &#64;$flag_types);
&gt; 
&gt;   # The number of types of flags that can be set on attachments to this bug
&gt;   # and the number of flags on those attachments.  One of these counts must be
&gt;   # greater than zero in order for the &quot;flags&quot; column to appear in the table
&gt;   # of attachments.
&gt;-  my $num_attachment_flag_types =
&gt;-    Bugzilla::FlagType::count({ 'target_type'  =&gt; 'attachment',
&gt;-                                'product_id'   =&gt; $self-&gt;{'product_id'},
&gt;-                                'component_id' =&gt; $self-&gt;{'component_id'},
&gt;-                                'is_active'    =&gt; 1 });
&gt;-  my $num_attachment_flags =
&gt;-    Bugzilla::Flag::count({ 'target_type'  =&gt; 'attachment',
&gt;-                            'bug_id'       =&gt; $self-&gt;{bug_id} });
&gt;-
&gt;-  $self-&gt;{'show_attachment_flags'}
&gt;-    = $num_attachment_flag_types || $num_attachment_flags;
&gt;+  #my $num_attachment_flag_types =
&gt;+  #  Bugzilla::FlagType::count({ 'target_type'  =&gt; 'attachment',
&gt;+  #                              'product_id'   =&gt; $self-&gt;{'product_id'},
&gt;+  #                              'component_id' =&gt; $self-&gt;{'component_id'},
&gt;+  #                              'is_active'    =&gt; 1 });
&gt;+  #my $num_attachment_flags =
&gt;+  #  Bugzilla::Flag::count({ 'target_type'  =&gt; 'attachment',
&gt;+  #                          'bug_id'       =&gt; $self-&gt;{bug_id} });
&gt;+  #
&gt;+  #$self-&gt;{'show_attachment_flags'}
&gt;+  #  = $num_attachment_flag_types || $num_attachment_flags;
&gt; 
&gt;-  $self-&gt;{'milestoneurl'} = $::milestoneurl{$self-&gt;{product}};
&gt;+  #$self-&gt;{'milestoneurl'} = $::milestoneurl{$self-&gt;{product}};
&gt; 
&gt;-  $self-&gt;{'isunconfirmed'} = ($self-&gt;{bug_status} eq $::unconfirmedstate);
&gt;-  $self-&gt;{'isopened'} = &amp;::IsOpenedState($self-&gt;{bug_status});
&gt;+  #$self-&gt;{'isunconfirmed'} = ($self-&gt;{bug_status} eq $::unconfirmedstate);
&gt;+  #$self-&gt;{'isopened'} = &amp;::IsOpenedState($self-&gt;{bug_status});
&gt;   
&gt;   my &#64;depends = EmitDependList(&quot;blocked&quot;, &quot;dependson&quot;, $bug_id);
&gt;   if (&#64;depends) {</span >

Why is the flag stuff all getting commented out?

<span class="quote">&gt;&#64;&#64; -340,11 +346,11 &#64;&#64;
&gt;              &quot; LEFT JOIN user_group_map&quot; .
&gt;              &quot; ON user_group_map.group_id = groups.id&quot; .
&gt;              &quot; AND user_id = $::userid&quot; .
&gt;-             &quot; AND NOT isbless&quot; .
&gt;+             &quot; AND isbless = 0&quot; .
&gt;              &quot; LEFT JOIN group_control_map&quot; .
&gt;              &quot; ON group_control_map.group_id = groups.id&quot; .
&gt;              &quot; AND group_control_map.product_id = &quot; . $self-&gt;{'product_id'} .
&gt;-             &quot; WHERE isbuggroup&quot;);
&gt;+             &quot; WHERE isbuggroup = 1&quot;);</span >

Heh, I see Postgres has the same problem with Booleans that Sybase does. :)

<span class="quote">&gt;Index: Bugzilla.pm
&gt;===================================================================
&gt;RCS file: /cvsroot/mozilla/webtools/bugzilla/Bugzilla.pm,v
&gt;retrieving revision 1.9
&gt;diff -u -r1.9 Bugzilla.pm
&gt;--- Bugzilla.pm	27 Nov 2003 01:00:59 -0000	1.9
&gt;+++ Bugzilla.pm	27 Feb 2004 23:08:45 -0000
&gt;&#64;&#64; -29,6 +29,7 &#64;&#64;
&gt; use Bugzilla::Config;
&gt; use Bugzilla::Constants;
&gt; use Bugzilla::DB;
&gt;+use Bugzilla::DBcompat;
&gt; use Bugzilla::Template;
&gt; use Bugzilla::User;</span >

Why are we adding Bugzilla::DBcompat here if we're not adding any references to
it?

<span class="quote">&gt;Index: CGI.pl
&gt;===================================================================
&gt;RCS file: /cvsroot/mozilla/webtools/bugzilla/CGI.pl,v
&gt;retrieving revision 1.209
&gt;diff -u -r1.209 CGI.pl
&gt;--- CGI.pl	30 Oct 2003 01:31:57 -0000	1.209
&gt;+++ CGI.pl	27 Feb 2004 23:08:45 -0000
&gt;&#64;&#64; -313,21 +313,22 &#64;&#64;
&gt;     die &quot;Invalid id: $id&quot; unless $id=~/^\s*\d+\s*$/;
&gt; 
&gt;     if (defined $starttime) {
&gt;-        $datepart = &quot;and bugs_activity.bug_when &gt; &quot; . SqlQuote($starttime);
&gt;+        $datepart = &quot;and bugs_activity.bug_when &gt; TO_TIMESTAMP(&quot; . SqlQuote($starttime) . &quot;, 'YYYYMMDDHH24MISS') &quot;;
&gt;     }</span >

Won't this break MySQL?  This should be a call into one of the compatibility
functions.  In fact, the entire date comparison should probably be a
compatibility function, since you have to do DATEDIFF() and check if the result
is positive or not on Sybase.

<span class="quote">&gt;&#64;&#64; -157,10 +157,10 &#64;&#64;
&gt; sub CleanTokenTable {
&gt;-    &amp;::SendSQL(&quot;LOCK TABLES tokens WRITE&quot;);
&gt;-    &amp;::SendSQL(&quot;DELETE FROM tokens 
&gt;-                WHERE TO_DAYS(NOW()) - TO_DAYS(issuedate) &gt;= &quot; . $maxtokenage);
&gt;-    &amp;::SendSQL(&quot;UNLOCK TABLES&quot;);
&gt;+    Bugzilla::DB::LockTables(&quot;LOCK TABLES tokens WRITE&quot;);
&gt;+    &amp;::SendSQL(&quot;DELETE FROM tokens WHERE &quot; . Bugzilla::DB::ToDays('NOW()') . &quot; - &quot; . 
&gt;+                Bugzilla::DB::ToDays('issuedate') . &quot; &gt;= &quot; . $maxtokenage);
&gt;+    Bugzilla::DB::UnlockTables();</span >

OK, I realize this was already here, but what's the point of a lock here? 
Isn't a single DELETE statement atomic on its own?

<span class="quote">&gt;&#64;&#64; -233,9 +233,9 &#64;&#64;
&gt;     close SENDMAIL;
&gt; 
&gt;     # Delete the token from the database.
&gt;-    &amp;::SendSQL(&quot;LOCK TABLES tokens WRITE&quot;);
&gt;+    Bugzilla::DB::LockTables(&quot;LOCK TABLES tokens WRITE&quot;);
&gt;     &amp;::SendSQL(&quot;DELETE FROM tokens WHERE token = $quotedtoken&quot;);
&gt;-    &amp;::SendSQL(&quot;UNLOCK TABLES&quot;);
&gt;+    Bugzilla::DB::UnlockTables();
&gt; }</span >

ditto here.

<span class="quote">&gt;Index: attachment.cgi
&gt;&#64;&#64; -476,6 +477,11 &#64;&#64;
&gt;+    if ($db_driver eq 'Pg') {
&gt;+        use MIME::Base64;
&gt;+        $thedata = decode_base64($thedata);
&gt;+    }</span >

Heh, this brings back memories.  We have to encode it as hexadecimal digits for
Sybase.

<span class="quote">&gt;&#64;&#64; -837,15 +843,23 &#64;&#64;
&gt;   $filename = SqlQuote($filename);
&gt;   my $description = SqlQuote($::FORM{'description'});
&gt;   my $contenttype = SqlQuote($::FORM{'contenttype'});
&gt;-  my $thedata = SqlQuote($data);
&gt;+  my $thedata = $::FORM{'data'};</span >

Where did we lose $data from that we've going back to the FORM to get it?  If
we need to do this, use $cgi-&gt;param('data').  $::FORM is going away, if it
hasn't already, and you'll have less cvs conflicts :)

<span class="quote">&gt;&#64;&#64; -961,15 +975,16 &#64;&#64;
&gt;   # Get a list of flag types that can be set for this attachment.
&gt;   SendSQL(&quot;SELECT product_id, component_id FROM bugs WHERE bug_id = $bugid&quot;);
&gt;   my ($product_id, $component_id) = FetchSQLData();
&gt;-  my $flag_types = Bugzilla::FlagType::match({ 'target_type'  =&gt; 'attachment' , 
&gt;-                                               'product_id'   =&gt; $product_id , 
&gt;-                                               'component_id' =&gt; $component_id });
&gt;-  foreach my $flag_type (&#64;$flag_types) {
&gt;-    $flag_type-&gt;{'flags'} = Bugzilla::Flag::match({ 'type_id'   =&gt; $flag_type-&gt;{'id'}, 
&gt;-                                                    'attach_id' =&gt; $::FORM{'id'} });
&gt;-  }
&gt;-  $vars-&gt;{'flag_types'} = $flag_types;
&gt;-  $vars-&gt;{'any_flags_requesteeble'} = grep($_-&gt;{'is_requesteeble'}, &#64;$flag_types);
&gt;+  # PGSQL
&gt;+#  my $flag_types = Bugzilla::FlagType::match({ 'target_type'  =&gt; 'attachment' , 
&gt;+#                                               'product_id'   =&gt; $product_id , 
&gt;+#                                               'component_id' =&gt; $component_id });
&gt;+#  foreach my $flag_type (&#64;$flag_types) {
&gt;+#    $flag_type-&gt;{'flags'} = Bugzilla::Flag::match({ 'type_id'   =&gt; $flag_type-&gt;{'id'}, 
&gt;+#                                                    'attach_id' =&gt; $::FORM{'id'} });
&gt;+#  }
&gt;+#  $vars-&gt;{'flag_types'} = $flag_types;
&gt;+#  $vars-&gt;{'any_flags_requesteeble'} = grep($_-&gt;{'is_requesteeble'}, &#64;$flag_types);</span >

Again we have flagtype stuff commented out.

<span class="quote">&gt;Index: buglist.cgi
&gt;&#64;&#64; -220,12 +220,12 &#64;&#64;
&gt;     return if !$userid;
&gt; 
&gt;     SendSQL(&quot;
&gt;-        SELECT DISTINCT  groups.id, name, description, isactive
&gt;-                   FROM  groups, user_group_map
&gt;-                  WHERE  user_id = $userid AND NOT isbless
&gt;-                    AND  user_group_map.group_id = groups.id
&gt;-                    AND  isbuggroup
&gt;-               ORDER BY  description &quot;);
&gt;+        SELECT  groups.id, name, description, isactive
&gt;+          FROM  groups, user_group_map
&gt;+         WHERE  user_id = $userid AND isbless = 0
&gt;+           AND  user_group_map.group_id = groups.id
&gt;+           AND  isbuggroup = 1
&gt;+      ORDER BY  description &quot;);</span >

Why did we lose the DISTINCT here?  Was it unnecessary to begin with?

<span class="quote">&gt;Index: collectstats.pl</span >

reminder for myself that I left off here. :)

More to come...</pre></div><div class="change-set" id="c113"><div class="comment" data-id="2087158" data-no="113">
    
    <table class="layout-table change-head " id="ch-113">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_118839" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/d438b256de7b28895c1d0db249969dd8?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_118839" id="a77610361_29992"><a class="email " href="user_profile?user_id=118839" > <span class="fna">Andrew Dunstan</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-113">-</button>
        </td>
      </tr>

      <tr id="cr-113" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c113">Comment 113</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-02-27 17:33 PST" data-time="1077932001">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-113">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-113">(In reply to <a href="show_bug.cgi?id=98304#c110">comment #110</a>)

Surely the correct way to do attachments in Postgres is to use a field of type
BYTEA, which does binary data quite happily. Alternatively, Postgres has its own
lightning fast base64 encode and decode routines. Using MIME::Base64 routines
seems ... odd. Let the database do the work for you.</pre></div><div class="change-set" id="c114"><div class="comment" data-id="2090037" data-no="114">
    
    <table class="layout-table change-head " id="ch-114">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a77610361_29992"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-114">-</button>
        </td>
      </tr>

      <tr id="cr-114" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c114">Comment 114</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-02 14:44 PST" data-time="1078267444">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-114">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-114">(In reply to <a href="show_bug.cgi?id=98304#c112">comment #112</a>)
<span class="quote">&gt; (From update of <span class="bz_obsolete"><a href="attachment.cgi?id=142476" name="attach_142476" title="Port CVS Head to PostgreSQL (v8)">attachment 142476</a> <a href="attachment.cgi?id=142476&amp;action=edit" title="Port CVS Head to PostgreSQL (v8)">[details]</a> <a href="attachment.cgi?id=142476&amp;action=diff" title="Port CVS Head to PostgreSQL (v8)">[diff]</a></span> <a href='https://bugzilla.mozilla.org/page.cgi?id=splinter.html&amp;bug=98304&amp;attachment=142476'>[review]</a>)
&gt; &gt;Index: Attachment.pm
&gt; &gt;&#64;&#64; -76,9 +76,9 &#64;&#64;
&gt; &gt;-              SELECT attach_id, DATE_FORMAT(creation_ts, '%Y.%m.%d %H:%i'),
&gt; &gt;+              SELECT attach_id, &quot; . Bugzilla::DB::DateFormat('creation_ts',</span >
'%Y.%m.%d %H:%i') . &quot;, 
<span class="quote">&gt; 
&gt; This was this way already, so we probably should fix it in another bug, but
&gt; shouldn't we be retrieving seconds on all our time retrievals?
&gt; </span >

Added %s to the format string. 

<span class="quote">&gt; &gt;Index: Bug.pm
&gt; &gt;&#64;&#64; -148,7 +148,14 &#64;&#64;
&gt; &gt;     where bugs.bug_id = $bug_id
&gt; &gt;       AND products.id = bugs.product_id
&gt; &gt;       AND components.id = bugs.component_id
&gt; &gt;-    group by bugs.bug_id&quot;;
&gt; &gt;+    GROUP BY 
&gt; &gt;+      bugs.bug_id, alias, bugs.product_id, products.name, version, 
&gt; &gt;+      rep_platform, op_sys, bug_status, resolution, priority, 
&gt; &gt;+      bug_severity, bugs.component_id, components.name, assigned_to, 
&gt; &gt;+      reporter, bug_file_loc, short_desc, target_milestone, 
&gt; &gt;+      qa_contact, status_whiteboard, creation_ts, delta_ts,
&gt; &gt;+      reporter_accessible, cclist_accessible,
&gt; &gt;+      estimated_time, remaining_time&quot;;
&gt; &gt; 
&gt; &gt;   &amp;::SendSQL($query);
&gt; &gt;   my &#64;row = ();
&gt; 
&gt; This completely toasted us on Sybase...  what does DISTINCT bug_id do if you
&gt; use that at the beginning of the query in place of the GROUP BY?  That's what
&gt; we ended up having to do for Sybase.
&gt; </span >

This still doesn't work with PostgreSQL. Adding DISTINCT and removing the GROUP
BY causes SQL error because of the sum() function around votes.count.


<span class="quote">&gt; &gt;+  #my $flag_types = 
&gt; &gt;+  #  Bugzilla::FlagType::match({ 'target_type'  =&gt; 'bug', 
&gt; &gt;+  #                              'product_id'   =&gt; $self-&gt;{'product_id'}, 
&gt; &gt;+  #                              'component_id' =&gt; $self-&gt;{'component_id'} });
&gt; &gt;+  #foreach my $flag_type (&#64;$flag_types) {
&gt; &gt;+  #    $flag_type-&gt;{'flags'} = 
&gt; &gt;+  #      Bugzilla::Flag::match({ 'bug_id'      =&gt; $self-&gt;{bug_id},
&gt; &gt;+  #                              'type_id'     =&gt; $flag_type-&gt;{'id'},
&gt; &gt;+  #                              'target_type' =&gt; 'bug' });
&gt; &gt;+  #}
&gt; &gt;+  #$self-&gt;{'flag_types'} = $flag_types;
&gt; &gt;+  #$self-&gt;{'any_flags_requesteeble'} = grep($_-&gt;{'is_requesteeble'},</span >
&#64;$flag_types);
&gt;
<span class="quote">&gt; Why is the flag stuff all getting commented out?</span >
&gt;

Fixed in my latest code. PostgreSQL was failing complaining of missing a JOINed
table in one of the LEFT JOIN clauses. Apparently MySQL was including it
automatically and Pg couldn't figure it out. I had the code commented out so
that I would come back and visit the problem later.
 
<span class="quote">&gt; &gt;Index: Bugzilla.pm
&gt; &gt;===================================================================
&gt; &gt;RCS file: /cvsroot/mozilla/webtools/bugzilla/Bugzilla.pm,v
&gt; &gt;retrieving revision 1.9
&gt; &gt;diff -u -r1.9 Bugzilla.pm
&gt; &gt;--- Bugzilla.pm	27 Nov 2003 01:00:59 -0000	1.9
&gt; &gt;+++ Bugzilla.pm	27 Feb 2004 23:08:45 -0000
&gt; &gt;&#64;&#64; -29,6 +29,7 &#64;&#64;
&gt; &gt; use Bugzilla::Config;
&gt; &gt; use Bugzilla::Constants;
&gt; &gt; use Bugzilla::DB;
&gt; &gt;+use Bugzilla::DBcompat;
&gt; &gt; use Bugzilla::Template;
&gt; &gt; use Bugzilla::User;
&gt; 
&gt; Why are we adding Bugzilla::DBcompat here if we're not adding any references to
&gt; it?</span >

Removed. Not necessary.  

<span class="quote">&gt; &gt;Index: CGI.pl
&gt; &gt;===================================================================
&gt; &gt;RCS file: /cvsroot/mozilla/webtools/bugzilla/CGI.pl,v
&gt; &gt;retrieving revision 1.209
&gt; &gt;diff -u -r1.209 CGI.pl
&gt; &gt;--- CGI.pl	30 Oct 2003 01:31:57 -0000	1.209
&gt; &gt;+++ CGI.pl	27 Feb 2004 23:08:45 -0000
&gt; &gt;&#64;&#64; -313,21 +313,22 &#64;&#64;
&gt; &gt;     die &quot;Invalid id: $id&quot; unless $id=~/^\s*\d+\s*$/;
&gt; &gt; 
&gt; &gt;     if (defined $starttime) {
&gt; &gt;-        $datepart = &quot;and bugs_activity.bug_when &gt; &quot; . SqlQuote($starttime);
&gt; &gt;+        $datepart = &quot;and bugs_activity.bug_when &gt; TO_TIMESTAMP(&quot; .</span >
SqlQuote($starttime) . &quot;, 'YYYYMMDDHH24MISS') &quot;;
<span class="quote">&gt; &gt;     }
&gt; 
&gt; Won't this break MySQL?  This should be a call into one of the compatibility
&gt; functions.  In fact, the entire date comparison should probably be a
&gt; compatibility function, since you have to do DATEDIFF() and check if the result
&gt; is positive or not on Sybase.
&gt; </span >

Removed the TO_TIMESTAMP. Pg seems to work happily without it.

<span class="quote">&gt; &gt;&#64;&#64; -157,10 +157,10 &#64;&#64;
&gt; &gt; sub CleanTokenTable {
&gt; &gt;-    &amp;::SendSQL(&quot;LOCK TABLES tokens WRITE&quot;);
&gt; &gt;-    &amp;::SendSQL(&quot;DELETE FROM tokens 
&gt; &gt;-                WHERE TO_DAYS(NOW()) - TO_DAYS(issuedate) &gt;= &quot; . $maxtokenage);
&gt; &gt;-    &amp;::SendSQL(&quot;UNLOCK TABLES&quot;);
&gt; &gt;+    Bugzilla::DB::LockTables(&quot;LOCK TABLES tokens WRITE&quot;);
&gt; &gt;+    &amp;::SendSQL(&quot;DELETE FROM tokens WHERE &quot; . Bugzilla::DB::ToDays('NOW()') .</span >
&quot; - &quot; . 
<span class="quote">&gt; &gt;+                Bugzilla::DB::ToDays('issuedate') . &quot; &gt;= &quot; . $maxtokenage);
&gt; &gt;+    Bugzilla::DB::UnlockTables();
&gt; 
&gt; OK, I realize this was already here, but what's the point of a lock here? 
&gt; Isn't a single DELETE statement atomic on its own?
&gt; 
&gt; &gt;&#64;&#64; -233,9 +233,9 &#64;&#64;
&gt; &gt;     close SENDMAIL;
&gt; &gt; 
&gt; &gt;     # Delete the token from the database.
&gt; &gt;-    &amp;::SendSQL(&quot;LOCK TABLES tokens WRITE&quot;);
&gt; &gt;+    Bugzilla::DB::LockTables(&quot;LOCK TABLES tokens WRITE&quot;);
&gt; &gt;     &amp;::SendSQL(&quot;DELETE FROM tokens WHERE token = $quotedtoken&quot;);
&gt; &gt;-    &amp;::SendSQL(&quot;UNLOCK TABLES&quot;);
&gt; &gt;+    Bugzilla::DB::UnlockTables();
&gt; &gt; }
&gt; 
&gt; ditto here.
&gt; </span >

Not sure about this one. Tried to find some real world cases supporting whether
it is necessary or not. I feel it may be necessary when dealing with tables that
have a primary key as one of the columns.

<span class="quote">&gt; &gt;&#64;&#64; -837,15 +843,23 &#64;&#64;
&gt; &gt;   $filename = SqlQuote($filename);
&gt; &gt;   my $description = SqlQuote($::FORM{'description'});
&gt; &gt;   my $contenttype = SqlQuote($::FORM{'contenttype'});
&gt; &gt;-  my $thedata = SqlQuote($data);
&gt; &gt;+  my $thedata = $::FORM{'data'};
&gt; 
&gt; Where did we lose $data from that we've going back to the FORM to get it?  If
&gt; we need to do this, use $cgi-&gt;param('data').  $::FORM is going away, if it
&gt; hasn't already, and you'll have less cvs conflicts :)</span >
&gt;

Fixed.
 
<span class="quote">&gt; &gt;Index: buglist.cgi
&gt; &gt;&#64;&#64; -220,12 +220,12 &#64;&#64;
&gt; &gt;     return if !$userid;
&gt; &gt; 
&gt; &gt;     SendSQL(&quot;
&gt; &gt;-        SELECT DISTINCT  groups.id, name, description, isactive
&gt; &gt;-                   FROM  groups, user_group_map
&gt; &gt;-                  WHERE  user_id = $userid AND NOT isbless
&gt; &gt;-                    AND  user_group_map.group_id = groups.id
&gt; &gt;-                    AND  isbuggroup
&gt; &gt;-               ORDER BY  description &quot;);
&gt; &gt;+        SELECT  groups.id, name, description, isactive
&gt; &gt;+          FROM  groups, user_group_map
&gt; &gt;+         WHERE  user_id = $userid AND isbless = 0
&gt; &gt;+           AND  user_group_map.group_id = groups.id
&gt; &gt;+           AND  isbuggroup = 1
&gt; &gt;+      ORDER BY  description &quot;);
&gt; 
&gt; Why did we lose the DISTINCT here?  Was it unnecessary to begin with?</span >
&gt;

Fixed. 


</pre></div><div class="change-set" id="c115"><div class="comment" data-id="2090068" data-no="115">
    
    <table class="layout-table change-head reporter" id="ch-115">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a77610361_29992"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a77610361_29992"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-115">-</button>
        </td>
      </tr>

      <tr id="cr-115" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c115">Comment 115</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-02 15:02 PST" data-time="1078268522">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-115">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-115">(In reply to <a href="show_bug.cgi?id=98304#c114">comment #114</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=98304#c112">comment #112</a>)
&gt; &gt; This completely toasted us on Sybase...  what does DISTINCT bug_id do if you
&gt; &gt; use that at the beginning of the query in place of the GROUP BY?  That's what
&gt; &gt; we ended up having to do for Sybase.
&gt; 
&gt; This still doesn't work with PostgreSQL. Adding DISTINCT and removing the GROUP
&gt; BY causes SQL error because of the sum() function around votes.count.</span >

OK, I'd rather have MySQL and Postgres both working than Sybase. :)  Like I've
said before, Sybase is just too different - it'll never work out of the box.  We
can get it as close as we can though.
I'd be willing to bet anyone stuck using Sybase will have people on site capable
of completing the conversion. :)</pre></div><div class="change-set cc-only" id="a78858332_54090" style="display:none"><div class="change" id="aa78858332_54090">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_54090" id="a78858332_54090"><img src="https://secure.gravatar.com/avatar/d5f4f84c7aac9eddf5528a99160296d1?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_54090" id="a78858332_54090"><a class="email " href="user_profile?user_id=54090" > <span class="fna">Andrew Taylor</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a78858332_54090">-</button>
        </td>
      </tr>
      <tr id="ar-a78858332_54090">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a78858332_54090">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-05 11:53 PST" data-time="1078516381">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: ataylor</div></div></div><div class="change-set" id="c116"><div class="comment" data-id="2097072" data-no="116">
    
    <table class="layout-table change-head assignee" id="ch-116">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a78858332_54090"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a78858332_54090"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-116">-</button>
        </td>
      </tr>

      <tr id="cr-116" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c116">Comment 116</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-09 17:15 PST" data-time="1078881344">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-116">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-116">dkl --

Do you think that you could possibly split DBCompat.pm and the standard MySQL
changes out into two other patches? I think it'd be way easier to push this in
as three patches (1st DBCompat.pm, 2nd MySQL changes, 3rd PostgreSQL changes).

Of course, that doesn't mean that patch 2 can't modify patch 1, etc., but it'd
just be nice to be able to push *something* in. :-)

If we could get DBCompat.pm in 2.18, that'd be pretty nice. (I can always dream...)</pre></div><div class="change-set" id="a79721125_73187"><div class="change" id="aa79721125_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a79721125_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a79721125_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a79721125_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a79721125_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a79721125_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-15 11:32 PST" data-time="1079379174">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WORKSFORME - Add run-time check for nested locks"
   href="show_bug.cgi?id=189388">189388</a></div></div></div><div class="change-set" id="c117"><div class="comment" data-id="2103731" data-no="117">
    
    <table class="layout-table change-head reporter" id="ch-117">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a79721125_73187"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a79721125_73187"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-117">-</button>
        </td>
      </tr>

      <tr id="cr-117" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c117">Comment 117</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-17 00:09 PST" data-time="1079510973">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-117">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-117">This is close enough that it might make it, and I'd love to see it get in. 
Putting in the blocking queue for a later decision after seeing how far we get. :)</pre><div class="activity"><div class="change">Flags: blocking2.18?</div></div></div><div class="change-set" id="c118"><div class="comment" data-id="2104310" data-no="118">
    
    <table class="layout-table change-head " id="ch-118">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a79721125_73187"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a79721125_73187"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-118">-</button>
        </td>
      </tr>

      <tr id="cr-118" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c118">Comment 118</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-17 14:55 PST" data-time="1079564121">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-118">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-118">(In reply to <a href="show_bug.cgi?id=98304#c116">comment #116</a>)
<span class="quote">&gt; dkl --
&gt; 
&gt; Do you think that you could possibly split DBCompat.pm and the standard MySQL
&gt; changes out into two other patches? I think it'd be way easier to push this in
&gt; as three patches (1st DBCompat.pm, 2nd MySQL changes, 3rd PostgreSQL changes).
&gt; 
&gt; Of course, that doesn't mean that patch 2 can't modify patch 1, etc., but it'd
&gt; just be nice to be able to push *something* in. :-)
&gt; 
&gt; If we could get DBCompat.pm in 2.18, that'd be pretty nice. (I can always</span >
dream...)


Not sure how each this would be since most of the PostgreSQL changes require the
DBcompat.pm module to be there. But we could just include the DBcompat.pm module
with 2.18 once it is stabilized and then that way people can use it for new
enhancements as needed and then I can get the other changes in post 2.18. I plan
on putting the new PG changes into production here at RH once 2.18 is out so it
should get some good testing past that point. Also if we get the DBcompat.pm in
there before, it shouldnt cause any problems, would just be an extra module
laying around. Should I file a separate bug and attach DBcompat.pm to it or
something else similar already out there?</pre></div><div class="change-set" id="c119"><div class="comment" data-id="2104452" data-no="119">
    
    <table class="layout-table change-head assignee" id="ch-119">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a79721125_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a79721125_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-119">-</button>
        </td>
      </tr>

      <tr id="cr-119" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c119">Comment 119</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-17 18:15 PST" data-time="1079576129">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-119">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-119">I think that <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Create a database abstraction layer"
   href="show_bug.cgi?id=211769">bug 211769</a> is almost what we're looking for there, but I think that
DBCompat.pm should probably just get its own bug. File it, and ask for review &amp;
approval, and we'll see if we can get it in for 2.18. I think that just the
existence of the file in Bugzilla should be easy to get approval for.</pre></div><div class="change-set" id="c120"><div class="comment" data-id="2104604" data-no="120">
    
    <table class="layout-table change-head " id="ch-120">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a79721125_73187"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a79721125_73187"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-120">-</button>
        </td>
      </tr>

      <tr id="cr-120" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c120">Comment 120</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-17 22:46 PST" data-time="1079592386">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-120">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-120">(In reply to <a href="show_bug.cgi?id=98304#c119">comment #119</a>)
<span class="quote">&gt; I think that <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Create a database abstraction layer"
   href="show_bug.cgi?id=211769">bug 211769</a> is almost what we're looking for there, but I think that
&gt; DBCompat.pm should probably just get its own bug. File it, and ask for review &amp;
&gt; approval, and we'll see if we can get it in for 2.18. I think that just the
&gt; existence of the file in Bugzilla should be easy to get approval for.</span >

Created <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Modules for database-compatibilty related functions (DBCompat)"
   href="show_bug.cgi?id=237862">bug 237862</a> specifically for the DBcompat.pm module. Please put further
comments regarding that code in that report. Hopefully we can at least get
review going on that one for possible inclusion into next release.</pre></div><div class="change-set" id="c121"><div class="comment" data-id="2105774" data-no="121">
    
    <table class="layout-table change-head " id="ch-121">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a79721125_73187"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_5898" id="a79721125_73187"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-121">-</button>
        </td>
      </tr>

      <tr id="cr-121" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c121">Comment 121</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-19 09:31 PST" data-time="1079717502">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-121">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-121">Adding <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Modules for database-compatibilty related functions (DBCompat)"
   href="show_bug.cgi?id=237862">bug 237862</a> to blocker list. I will submit a new patch to this bug that
has DBcompat.pm removed since it will be reviewed in the separate bug.</pre><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - Saving bookmarks corrupts dir ownership"
   href="show_bug.cgi?id=534">534</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Modules for database-compatibilty related functions (DBCompat)"
   href="show_bug.cgi?id=237862">237862</a></div></div></div><div class="change-set" id="c122"><div class="comment" data-id="2106207" data-no="122">
    
    <table class="layout-table change-head reporter" id="ch-122">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a79721125_73187"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a79721125_73187"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-122">-</button>
        </td>
      </tr>

      <tr id="cr-122" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c122">Comment 122</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-19 22:07 PST" data-time="1079762871">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-122">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-122">:: sigh ::  :)</pre><div class="activity"><div class="change">Target Milestone: Bugzilla 2.18 &rarr; Bugzilla 2.20</div></div></div><div class="change-set cc-only" id="a80129869_74708" style="display:none"><div class="change" id="aa80129869_74708">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_74708" id="a80129869_74708"><img src="https://secure.gravatar.com/avatar/12932e053053ded2fabca9fffcb675ff?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_74708" id="a80129869_74708"><a class="email " href="user_profile?user_id=74708" > <span class="fna">Patrick J. LoPresti</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a80129869_74708">-</button>
        </td>
      </tr>
      <tr id="ar-a80129869_74708">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a80129869_74708">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-20 05:05 PST" data-time="1079787918">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: <span class="activity-deleted">patl</span></div></div></div><div class="change-set cc-only" id="a80581990_34689" style="display:none"><div class="change" id="aa80581990_34689">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_34689" id="a80581990_34689"><img src="https://secure.gravatar.com/avatar/6a925661e929a72f0321488eb24a7803?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_34689" id="a80581990_34689"><a class="email " href="user_profile?user_id=34689" > <span class="fna">Steve Lamm</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a80581990_34689">-</button>
        </td>
      </tr>
      <tr id="ar-a80581990_34689">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a80581990_34689">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-25 10:40 PST" data-time="1080240039">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: slamm</div></div></div><div class="change-set" id="c123"><div class="comment" data-id="2111671" data-no="123">
    
    <table class="layout-table change-head assignee" id="ch-123">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a80581990_34689"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a80581990_34689"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-123">-</button>
        </td>
      </tr>

      <tr id="cr-123" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c123">Comment 123</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-26 17:48 PST" data-time="1080352110">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-123">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-123">An interesting thing I just discovered on my PgSQL Bugzilla installation --

You must CREATE DATABASE bugs WITH ENCODING = 'SQL_ASCII' (which is the default
if you just type CREATE DATABASE bugs;). If you use 'UNICODE', Bugzilla will die
when you try to insert Unicode characters higher than 0x10000.

I thought I should note this here.</pre></div><div class="change-set" id="c124"><div class="comment" data-id="2111680" data-no="124">
    
    <table class="layout-table change-head " id="ch-124">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_29274" id="a80581990_34689"><img src="https://secure.gravatar.com/avatar/3ac0810ff2d431ec44f087f4fa2bf042?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_29274" id="a80581990_34689"><a class="email " href="user_profile?user_id=29274" > <span class="fna">Bradley Baetz (:bbaetz)</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-124">-</button>
        </td>
      </tr>

      <tr id="cr-124" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c124">Comment 124</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-26 17:59 PST" data-time="1080352794">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-124">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-124">Surely it only dies on invalid unicode bits? you'd want UTF-8 if we were going
to do this.

I have this feeling that postgre disables certain optimisations for non-ascii
dbs, though. I know if does if you have a non-default sort order.</pre></div><div class="change-set" id="c125"><div class="comment" data-id="2111687" data-no="125">
    
    <table class="layout-table change-head reporter" id="ch-125">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a80581990_34689"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a80581990_34689"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-125">-</button>
        </td>
      </tr>

      <tr id="cr-125" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c125">Comment 125</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-26 18:08 PST" data-time="1080353298">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-125">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-125">According to <a rel="nofollow" href="http://www.postgresql.com/docs/7.4/static/multibyte.html">http://www.postgresql.com/docs/7.4/static/multibyte.html</a>, UNICODE
for the charset given to Postgres means utf-8.</pre></div><div class="change-set" id="c126"><div class="comment" data-id="2115633" data-no="126">
    
    <table class="layout-table change-head reporter" id="ch-126">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a80581990_34689"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a80581990_34689"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-126">-</button>
        </td>
      </tr>

      <tr id="cr-126" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c126">Comment 126</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-03-31 17:59 PST" data-time="1080784750">14 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-126">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-126">If a miracle happens I'll be happy to change my mind, but I'm not gonna hold
2.18 for this ;)</pre><div class="activity"><div class="change">Flags: blocking2.18? &rarr; blocking2.18-</div></div></div><div class="change-set" id="a81555301_73187"><div class="change" id="aa81555301_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a81555301_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a81555301_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a81555301_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a81555301_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a81555301_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-04-05 18:02 PDT" data-time="1081213350">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Reusable, structured, database-independent schema"
   href="show_bug.cgi?id=146679">146679</a></div></div></div><div class="change-set cc-only" id="a83826428_5603" style="display:none"><div class="change" id="aa83826428_5603">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5603" id="a83826428_5603"><img src="https://secure.gravatar.com/avatar/dbca35e20a8f3fb205aa566be5ef3231?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5603" id="a83826428_5603"><a class="email " href="user_profile?user_id=5603" > <span class="fna">Luis Villa</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a83826428_5603">-</button>
        </td>
      </tr>
      <tr id="ar-a83826428_5603">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a83826428_5603">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-05-02 00:54 PDT" data-time="1083484477">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: louie</div></div></div><div class="change-set cc-only" id="a84516635_134795" style="display:none"><div class="change" id="aa84516635_134795">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_134795" id="a84516635_134795"><img src="https://secure.gravatar.com/avatar/6cdba5b430183a40dd8067ba4a4e82cf?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_134795" id="a84516635_134795"><a class="email " href="user_profile?user_id=134795" > <span class="fna">Henrik Wist</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a84516635_134795">-</button>
        </td>
      </tr>
      <tr id="ar-a84516635_134795">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a84516635_134795">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-05-10 00:38 PDT" data-time="1084174684">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: wist</div></div></div><div class="change-set cc-only" id="a86707294_140678" style="display:none"><div class="change" id="aa86707294_140678">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140678" id="a86707294_140678"><img src="https://secure.gravatar.com/avatar/c8069e1bd314428077be377edf0b4728?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140678" id="a86707294_140678"><a class="email " href="user_profile?user_id=140678" > <span class="fna">Ceri Davies</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a86707294_140678">-</button>
        </td>
      </tr>
      <tr id="ar-a86707294_140678">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a86707294_140678">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-06-04 09:09 PDT" data-time="1086365343">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: ceri</div></div></div><div class="change-set cc-only" id="a87019123_140826" style="display:none"><div class="change" id="aa87019123_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a87019123_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a87019123_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a87019123_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a87019123_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a87019123_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-06-07 23:46 PDT" data-time="1086677172">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: Tomas.Kopal</div></div></div><div class="change-set cc-only" id="a87314353_141522" style="display:none"><div class="change" id="aa87314353_141522">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_141522" id="a87314353_141522"><img src="https://secure.gravatar.com/avatar/0f7c350bd8bdc941ff46fe5c9e56cbcc?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_141522" id="a87314353_141522"><a class="email " href="user_profile?user_id=141522" > <span class="fna">Juha Tuomala</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a87314353_141522">-</button>
        </td>
      </tr>
      <tr id="ar-a87314353_141522">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a87314353_141522">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-06-11 09:46 PDT" data-time="1086972402">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: Juha.Tuomala</div></div></div><div class="change-set" id="a87951006_54482"><div class="change" id="aa87951006_54482">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_54482" id="a87951006_54482"><img src="https://secure.gravatar.com/avatar/84a6da24d0a4da801a4ba23ff0ba9ce7?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_54482" id="a87951006_54482"><a class="email " href="user_profile?user_id=54482" > <span class="fna">Ed Sabol</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a87951006_54482">-</button>
        </td>
      </tr>
      <tr id="ar-a87951006_54482">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a87951006_54482">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-06-18 18:37 PDT" data-time="1087609055">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">No longer depends on: <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - Saving bookmarks corrupts dir ownership"
   href="show_bug.cgi?id=534">534</a></div></div></div><div class="change-set" id="a88192086_5898"><div class="change" id="aa88192086_5898">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_5898" id="a88192086_5898"><img src="https://secure.gravatar.com/avatar/afd301f3bbbe2b1a94d93a1e7c313d9e?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_5898" id="a88192086_5898"><a class="email " href="user_profile?user_id=5898" > <span class="fna">David Lawrence [:dkl]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a88192086_5898">-</button>
        </td>
      </tr>
      <tr id="ar-a88192086_5898">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a88192086_5898">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-06-21 13:35 PDT" data-time="1087850135">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Group by clauses need to have all columns listed for db independence"
   href="show_bug.cgi?id=247998">247998</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Conversion of boolean conditions in SQL statements for better db independence"
   href="show_bug.cgi?id=248001">248001</a></div></div></div><div class="change-set" id="a88192436_10297"><div class="change" id="aa88192436_10297">
    <table class="layout-table change-head reporter">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a88192436_10297"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_10297" id="a88192436_10297"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a88192436_10297">-</button>
        </td>
      </tr>
      <tr id="ar-a88192436_10297">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a88192436_10297">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-06-21 13:41 PDT" data-time="1087850485">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">No longer depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Group by clauses need to have all columns listed for db independence"
   href="show_bug.cgi?id=247998">247998</a></div></div></div><div class="change-set" id="a88266143_40200"><div class="change" id="aa88266143_40200">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_40200" id="a88266143_40200"><img src="https://secure.gravatar.com/avatar/8898fbd2a71fa487b30a80573b96c490?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_40200" id="a88266143_40200"><a class="email " href="user_profile?user_id=40200" > <span class="fna">Joel Peshkin</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a88266143_40200">-</button>
        </td>
      </tr>
      <tr id="ar-a88266143_40200">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a88266143_40200">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-06-22 10:09 PDT" data-time="1087924192">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Installation needs to support DB-independence"
   href="show_bug.cgi?id=248175">248175</a></div></div></div><div class="change-set" id="a88281730_10297"><div class="change" id="aa88281730_10297">
    <table class="layout-table change-head reporter">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a88281730_10297"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_10297" id="a88281730_10297"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a88281730_10297">-</button>
        </td>
      </tr>
      <tr id="ar-a88281730_10297">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a88281730_10297">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-06-22 14:29 PDT" data-time="1087939779">14 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Allow Bugzilla to work with Oracle"
   href="show_bug.cgi?id=189947">189947</a></div></div></div><div class="change-set" id="a89863135_140826"><div class="change" id="aa89863135_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a89863135_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a89863135_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a89863135_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a89863135_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a89863135_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-07-10 21:46 PDT" data-time="1089521184">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Conversion of remaining boolean condition in SQL statements for better db independence"
   href="show_bug.cgi?id=250832">250832</a></div></div></div><div class="change-set" id="a89863306_140826"><div class="change" id="aa89863306_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a89863306_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a89863306_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a89863306_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a89863306_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a89863306_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-07-10 21:49 PDT" data-time="1089521355">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - FlagTypes uses DB dependent comma operator"
   href="show_bug.cgi?id=250547">250547</a></div></div></div><div class="change-set cc-only" id="a89865423_95271" style="display:none"><div class="change" id="aa89865423_95271">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_95271" id="a89865423_95271"><img src="https://secure.gravatar.com/avatar/2d1b4be1e12b412b16b1c3bb985b7df2?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_95271" id="a89865423_95271"><a class="email " href="user_profile?user_id=95271" > <span class="fna">Jeff Woods</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a89865423_95271">-</button>
        </td>
      </tr>
      <tr id="ar-a89865423_95271">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a89865423_95271">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-07-10 22:24 PDT" data-time="1089523472">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: <span class="activity-deleted">Kazrak+bz</span></div></div></div><div class="change-set cc-only" id="a89950669_4833" style="display:none"><div class="change" id="aa89950669_4833">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4833" id="a89950669_4833"><img src="https://secure.gravatar.com/avatar/7cb8e6f84fe6d38db515e33c1aa1b3a0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4833" id="a89950669_4833"><a class="email " href="user_profile?user_id=4833" > <span class="fna">basic</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a89950669_4833">-</button>
        </td>
      </tr>
      <tr id="ar-a89950669_4833">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a89950669_4833">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-07-11 22:05 PDT" data-time="1089608718">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: basic</div></div></div><div class="change-set cc-only" id="a89960085_31586" style="display:none"><div class="change" id="aa89960085_31586">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_31586" id="a89960085_31586"><img src="https://secure.gravatar.com/avatar/7190762aa2472620d086e68906f28852?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_31586" id="a89960085_31586"><a class="email " href="user_profile?user_id=31586" > <span class="fna">Sven Esbjerg</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a89960085_31586">-</button>
        </td>
      </tr>
      <tr id="ar-a89960085_31586">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a89960085_31586">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-07-12 00:42 PDT" data-time="1089618134">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: esbjerg</div></div></div><div class="change-set" id="a90472816_140826"><div class="change" id="aa90472816_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a90472816_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a90472816_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a90472816_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a90472816_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a90472816_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-07-17 23:07 PDT" data-time="1090130865">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Search.pm uses DB dependent comma operator"
   href="show_bug.cgi?id=251960">251960</a></div></div></div><div class="change-set" id="a90472924_140826"><div class="change" id="aa90472924_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a90472924_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a90472924_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a90472924_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a90472924_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a90472924_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-07-17 23:09 PDT" data-time="1090130973">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Conversion of boolean conditions in SQL statements for better db independence (take 2)"
   href="show_bug.cgi?id=250591">250591</a></div></div></div><div class="change-set" id="a91329622_140826"><div class="change" id="aa91329622_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a91329622_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a91329622_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a91329622_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a91329622_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a91329622_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-07-27 21:07 PDT" data-time="1090987671">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Boolean comparisons in the SELECT clause are not cross-DB compatible"
   href="show_bug.cgi?id=182136">182136</a></div></div></div><div class="change-set" id="a91332500_140826"><div class="change" id="aa91332500_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a91332500_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a91332500_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a91332500_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a91332500_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a91332500_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-07-27 21:55 PDT" data-time="1090990549">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - IFNULL should be replaced by COALESCE"
   href="show_bug.cgi?id=253357">253357</a></div></div></div><div class="change-set" id="a91334818_140826"><div class="change" id="aa91334818_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a91334818_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a91334818_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a91334818_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a91334818_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a91334818_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-07-27 22:34 PDT" data-time="1090992867">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - IF() should be replaced by CASE WHEN"
   href="show_bug.cgi?id=253360">253360</a></div></div></div><div class="change-set" id="c127"><div class="comment" data-id="2265061" data-no="127">
    
    <table class="layout-table change-head reporter" id="ch-127">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a91334818_140826"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_10297" id="a91334818_140826"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-127">-</button>
        </td>
      </tr>

      <tr id="cr-127" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c127">Comment 127</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-09-18 18:36 PDT" data-time="1095557808">13 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-127">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-127">Bugzilla 2.20 feature set is now frozen as of 15 Sept 2004.  Anything flagged
enhancement that hasn't already landed is being pushed out.  If this bug is
otherwise ready to land, we'll handle it on a case-by-case basis, please set the
blocking2.20 flag to '?' if you think it qualifies.</pre><div class="activity"><div class="change">Target Milestone: Bugzilla 2.20 &rarr; Bugzilla 2.22</div></div></div><div class="change-set cc-only" id="a98313194_162621" style="display:none"><div class="change" id="aa98313194_162621">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_162621" id="a98313194_162621"><img src="https://secure.gravatar.com/avatar/76661afe62df20bb804503a1e1658b64?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_162621" id="a98313194_162621"><a class="email " href="user_profile?user_id=162621" > <span class="fna">Somebody in the WWW</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a98313194_162621">-</button>
        </td>
      </tr>
      <tr id="ar-a98313194_162621">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a98313194_162621">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-10-16 17:00 PDT" data-time="1097971243">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: rdv</div></div></div><div class="change-set" id="a101856355_156684"><div class="change" id="aa101856355_156684">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_156684" id="a101856355_156684"><img src="https://secure.gravatar.com/avatar/33aba67f71a1e50233185ef45dc649aa?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_156684" id="a101856355_156684"><a class="email " href="user_profile?user_id=156684" > <span class="fna">Iavor Raytchev</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a101856355_156684">-</button>
        </td>
      </tr>
      <tr id="ar-a101856355_156684">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a101856355_156684">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-11-26 16:13 PST" data-time="1101514404">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change cc-only" style="display:none">CC: iavor.raytchev</div><div class="change">Flags: documentation?</div></div></div><div class="change-set" id="a101859235_10297"><div class="change" id="aa101859235_10297">
    <table class="layout-table change-head reporter">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a101859235_10297"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_10297" id="a101859235_10297"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a101859235_10297">-</button>
        </td>
      </tr>
      <tr id="ar-a101859235_10297">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a101859235_10297">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-11-26 17:01 PST" data-time="1101517284">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Flags: <span class="activity-deleted">documentation?</span></div></div></div><div class="change-set cc-only" id="a102463519_173237" style="display:none"><div class="change" id="aa102463519_173237">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_173237" id="a102463519_173237"><img src="https://secure.gravatar.com/avatar/dabce7e40a11ee5966cd969337659707?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_173237" id="a102463519_173237"><a class="email " href="user_profile?user_id=173237" > <span class="fna">Ferindo Middleton Jr</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a102463519_173237">-</button>
        </td>
      </tr>
      <tr id="ar-a102463519_173237">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a102463519_173237">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-12-03 16:52 PST" data-time="1102121568">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: fmiddleton</div></div></div><div class="change-set cc-only" id="a102965655_131584" style="display:none"><div class="change" id="aa102965655_131584">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_131584" id="a102965655_131584"><img src="https://secure.gravatar.com/avatar/dca49f7398425ade801b1c2062e365c4?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_131584" id="a102965655_131584"><a class="email " href="user_profile?user_id=131584" > <span class="fna">Antonio Gallardo</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a102965655_131584">-</button>
        </td>
      </tr>
      <tr id="ar-a102965655_131584">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a102965655_131584">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-12-09 12:21 PST" data-time="1102623704">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: antonio</div></div></div><div class="change-set" id="a103266315_10297"><div class="change" id="aa103266315_10297">
    <table class="layout-table change-head reporter">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_10297" id="a103266315_10297"><img src="https://secure.gravatar.com/avatar/a26814f623b82bc3f390a045bafbf05c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_10297" id="a103266315_10297"><a class="email " href="user_profile?user_id=10297" > <span class="fna">Dave Miller [:justdave] (justdave&#64;bugzilla.org)</span></a>
</div>
            <span class="user-role">(Reporter)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a103266315_10297">-</button>
        </td>
      </tr>
      <tr id="ar-a103266315_10297">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a103266315_10297">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-12-12 23:52 PST" data-time="1102924364">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Server type should not be hardcoded in SQL values"
   href="show_bug.cgi?id=274266">274266</a></div></div></div><div class="change-set cc-only" id="a103979305_77498" style="display:none"><div class="change" id="aa103979305_77498">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_77498" id="a103979305_77498"><img src="https://secure.gravatar.com/avatar/e478a455f9c2871d0318a6933c6117ed?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_77498" id="a103979305_77498"><a class="email " href="user_profile?user_id=77498" > <span class="fna">Chris Skaryd</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a103979305_77498">-</button>
        </td>
      </tr>
      <tr id="ar-a103979305_77498">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a103979305_77498">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2004-12-21 05:55 PST" data-time="1103637354">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: cskaryd</div></div></div><div class="change-set" id="c128"><div class="comment" data-id="2377572" data-no="128">
    
    <table class="layout-table change-head " id="ch-128">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27566" id="a103979305_77498"><img src="https://secure.gravatar.com/avatar/00667ee267700ed98ab980a87931e5d6?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_27566" id="a103979305_77498"><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-128">-</button>
        </td>
      </tr>

      <tr id="cr-128" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c128">Comment 128</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-01-05 13:20 PST" data-time="1104960024">13 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-128">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-128">So people.

Where are we standing with this? : )</pre></div><div class="change-set" id="c129"><div class="comment" data-id="2382330" data-no="129">
    
    <table class="layout-table change-head " id="ch-129">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a103979305_77498"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_140826" id="a103979305_77498"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-129">-</button>
        </td>
      </tr>

      <tr id="cr-129" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c129">Comment 129</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-01-10 15:22 PST" data-time="1105399337">13 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-129">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-129">We(In reply to <a href="show_bug.cgi?id=98304#c128">comment #128</a>)
<span class="quote">&gt; So people.
&gt; 
&gt; Where are we standing with this? : )</span >

Well... I have Bugzilla running on Postgres for a while now in production
environment, with just minor problems I'm just working on to resolve (e-mails
are case sensitive, full text search is broken etc.). For most of the other
changes, the patches are submitted, waiting for review and bit-rotting... Have
some time for reviews? ;-)</pre></div><div class="change-set cc-only" id="a106011517_152305" style="display:none"><div class="change" id="aa106011517_152305">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_152305" id="a106011517_152305"><img src="https://secure.gravatar.com/avatar/73529a57499518189b430db2c40dfb56?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_152305" id="a106011517_152305"><a class="email " href="user_profile?user_id=152305" > <span class="fna">Tys von Gaza</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a106011517_152305">-</button>
        </td>
      </tr>
      <tr id="ar-a106011517_152305">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a106011517_152305">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-01-13 18:26 PST" data-time="1105669566">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: tys</div></div></div><div class="change-set cc-only" id="a106290410_39184" style="display:none"><div class="change" id="aa106290410_39184">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_39184" id="a106290410_39184"><img src="https://secure.gravatar.com/avatar/40b5ffb8725b14acbc43e5f20b2f9c6b?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_39184" id="a106290410_39184"><a class="email " href="user_profile?user_id=39184" > <span class="fna">Patrick</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a106290410_39184">-</button>
        </td>
      </tr>
      <tr id="ar-a106290410_39184">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a106290410_39184">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-01-16 23:54 PST" data-time="1105948459">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: patrick.hendriks+bugzilla</div></div></div><div class="change-set cc-only" id="a106915534_181671" style="display:none"><div class="change" id="aa106915534_181671">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_181671" id="a106915534_181671"><img src="https://secure.gravatar.com/avatar/6a3eda15f7bb99b2bdce91fb5e4df43d?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_181671" id="a106915534_181671"><a class="email " href="user_profile?user_id=181671" > <span class="fna">Artur R. Czechowski</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a106915534_181671">-</button>
        </td>
      </tr>
      <tr id="ar-a106915534_181671">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a106915534_181671">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-01-24 05:33 PST" data-time="1106573583">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: arturcz</div></div></div><div class="change-set" id="a107506197_140826"><div class="change" id="aa107506197_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a107506197_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a107506197_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a107506197_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a107506197_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a107506197_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-01-31 01:37 PST" data-time="1107164246">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [META] Make use of the new DB compatibility layer"
   href="show_bug.cgi?id=280493">280493</a></div></div></div><div class="change-set" id="a107810277_73187"><div class="change" id="aa107810277_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a107810277_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a107810277_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a107810277_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a107810277_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a107810277_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-02-03 14:05 PST" data-time="1107468326">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=141854&amp;action=edit"
           title="Changes to implement Table Locking in PostgreSQL using DBcompat.pm"
           class=""
        >Attachment #141854</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a107810361_73187"><div class="change" id="aa107810361_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a107810361_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a107810361_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a107810361_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a107810361_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a107810361_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-02-03 14:06 PST" data-time="1107468410">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=142476&amp;action=edit"
           title="Port CVS Head to PostgreSQL (v8)"
           class=""
        >Attachment #142476</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a108173799_73187"><div class="change" id="aa108173799_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a108173799_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a108173799_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a108173799_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a108173799_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a108173799_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-02-07 19:04 PST" data-time="1107831848">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">No longer depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Customised resolutions."
   href="show_bug.cgi?id=94534">94534</a></div></div></div><div class="change-set" id="a108236390_73187"><div class="change" id="aa108236390_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a108236390_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a108236390_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a108236390_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a108236390_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a108236390_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-02-08 12:27 PST" data-time="1107894439">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Remove RelationSet from userprefs.cgi (and thus fix non-ANSI INSERT)"
   href="show_bug.cgi?id=281550">281550</a></div></div></div><div class="change-set cc-only" id="a108544548_166299" style="display:none"><div class="change" id="aa108544548_166299">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_166299" id="a108544548_166299"><img src="https://secure.gravatar.com/avatar/a9304314bf417ed2d8cdb612ce8587cd?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_166299" id="a108544548_166299"><a class="email " href="user_profile?user_id=166299" > <span class="fna">Kevin Rauwolf</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a108544548_166299">-</button>
        </td>
      </tr>
      <tr id="ar-a108544548_166299">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a108544548_166299">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-02-12 02:03 PST" data-time="1108202597">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: sweetpea-bugzilla</div></div></div><div class="change-set" id="c130"><div class="comment" data-id="2413731" data-no="130">
    
    <table class="layout-table change-head " id="ch-130">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_24774" id="a108544548_166299"><img src="https://secure.gravatar.com/avatar/5747418f239415576b1bbd358bc613dd?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_24774" id="a108544548_166299"><a class="email " href="user_profile?user_id=24774" > <span class="fna">tmh</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-130">-</button>
        </td>
      </tr>

      <tr id="cr-130" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c130">Comment 130</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-02-13 04:35 PST" data-time="1108298131">13 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-130">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-130"><span class="quote">&gt; Well... I have Bugzilla running on Postgres for a while now in production
&gt; environment, with just minor problems I'm just working on to resolve (e-mails
&gt; are case sensitive, full text search is broken etc.). For most of the other
&gt; changes, the patches are submitted, waiting for review and bit-rotting... Have
&gt; some time for reviews? ;-)</span >

The patches seem to have bitrotted - does anyone have any thay apply against 2.18?
</pre></div><div class="change-set" id="c131"><div class="comment" data-id="2413738" data-no="131">
    
    <table class="layout-table change-head " id="ch-131">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a108544548_166299"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_140826" id="a108544548_166299"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-131">-</button>
        </td>
      </tr>

      <tr id="cr-131" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c131">Comment 131</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-02-13 04:56 PST" data-time="1108299418">13 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-131">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-131">(In reply to <a href="show_bug.cgi?id=98304#c130">comment #130</a>)
<span class="quote">&gt; 
&gt; The patches seem to have bitrotted - does anyone have any thay apply against 2.18?
&gt; </span >

If you mean patches at this bug, yes, they are very bitrotted, and also
obsolete. Look at the blockers of this bug, you will find newer. But do not
expect them to apply against 2.18, they are against the cvs tip. And they are
still not complete, if you think about geting bz runing on postgres...</pre></div><div class="change-set" id="a108793976_73187"><div class="change" id="aa108793976_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a108793976_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a108793976_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a108793976_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a108793976_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a108793976_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-02-14 23:20 PST" data-time="1108452025">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">No longer blocks: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WORKSFORME - Add run-time check for nested locks"
   href="show_bug.cgi?id=189388">189388</a></div></div></div><div class="change-set cc-only" id="a108801803_114242" style="display:none"><div class="change" id="aa108801803_114242">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_114242" id="a108801803_114242"><img src="https://secure.gravatar.com/avatar/cb703ccf6fc08ee39764f2742f02d056?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_114242" id="a108801803_114242"><a class="email " href="user_profile?user_id=114242" > <span class="fna">Jean-Sbastien Pdron</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a108801803_114242">-</button>
        </td>
      </tr>
      <tr id="ar-a108801803_114242">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a108801803_114242">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-02-15 01:30 PST" data-time="1108459852">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: <span class="activity-deleted">jspedron</span></div></div></div><div class="change-set" id="a109369989_140826"><div class="change" id="aa109369989_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a109369989_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a109369989_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a109369989_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a109369989_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a109369989_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-02-21 15:20 PST" data-time="1109028038">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Dates and times must be cross-database compatible and consistent in all of Bugzilla"
   href="show_bug.cgi?id=283076">283076</a></div></div></div><div class="change-set" id="a109957805_73187"><div class="change" id="aa109957805_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a109957805_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a109957805_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a109957805_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a109957805_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a109957805_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-02-28 10:37 PST" data-time="1109615854">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Assignee: dkl &rarr; mkanat</div><div class="change">Summary: Make Bugzilla's SQL compatible with PostgreSQL (PgSQL) &rarr; Make Bugzilla's SQL fully compatible with PostgreSQL (PgSQL)</div></div></div><div class="change-set" id="a109957944_73187"><div class="change" id="aa109957944_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a109957944_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a109957944_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a109957944_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a109957944_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a109957944_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-02-28 10:39 PST" data-time="1109615993">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - PostgreSQL cannot call SUM on a boolean (Boolean Charts)"
   href="show_bug.cgi?id=284125">284125</a></div></div></div><div class="change-set" id="a110019384_140826"><div class="change" id="aa110019384_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a110019384_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a110019384_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110019384_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a110019384_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110019384_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-01 03:43 PST" data-time="1109677433">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - DATE_SUB and DATE_ADD are not ANSI SQL"
   href="show_bug.cgi?id=284244">284244</a></div></div></div><div class="change-set" id="a110152975_73187"><div class="change" id="aa110152975_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110152975_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110152975_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110152975_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110152975_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110152975_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-02 16:50 PST" data-time="1109811024">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">URL: <a href="http://sql-info.de/postgresql/postgres-gotchas.html" target="_blank" rel="noreferrer"
           class="bug-url" data-safe="1"
        >http://sql-info.de/postgresql/postgre...</a></div></div></div><div class="change-set cc-only" id="a110181279_28949" style="display:none"><div class="change" id="aa110181279_28949">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_28949" id="a110181279_28949"><img src="https://secure.gravatar.com/avatar/93475d30552b7ba9f4fc1a3b24569e98?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_28949" id="a110181279_28949"><a class="email " href="user_profile?user_id=28949" > <span class="fna">Didier Moens</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110181279_28949">-</button>
        </td>
      </tr>
      <tr id="ar-a110181279_28949">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110181279_28949">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-03 00:42 PST" data-time="1109839328">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: <span class="activity-deleted">Didier.Moens</span></div></div></div><div class="change-set" id="a110688339_73187"><div class="change" id="aa110688339_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110688339_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110688339_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110688339_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110688339_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110688339_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-08 21:33 PST" data-time="1110346388">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Untested parts of Bugzilla::DB are broken (when running on PostgreSQL)"
   href="show_bug.cgi?id=285397">285397</a></div></div></div><div class="change-set" id="a110691003_73187"><div class="change" id="aa110691003_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110691003_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110691003_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110691003_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110691003_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110691003_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-08 22:17 PST" data-time="1110349052">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Checksetup fails to complete on PostgreSQL"
   href="show_bug.cgi?id=285401">285401</a></div></div></div><div class="change-set" id="a110691939_73187"><div class="change" id="aa110691939_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110691939_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110691939_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110691939_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110691939_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110691939_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-08 22:33 PST" data-time="1110349988">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - LearnAboutColumns does not work on PostgreSQL"
   href="show_bug.cgi?id=285403">285403</a></div></div></div><div class="change-set" id="a110693782_73187"><div class="change" id="aa110693782_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110693782_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110693782_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110693782_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110693782_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110693782_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-08 23:03 PST" data-time="1110351831">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - User cannot log in on PostgreSQL"
   href="show_bug.cgi?id=285407">285407</a></div></div></div><div class="change-set" id="a110696495_73187"><div class="change" id="aa110696495_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110696495_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110696495_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110696495_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110696495_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110696495_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-08 23:49 PST" data-time="1110354544">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Default search cannot run on PostgreSQL because of JOIN problems"
   href="show_bug.cgi?id=285411">285411</a></div></div></div><div class="change-set" id="a110763168_73187"><div class="change" id="aa110763168_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110763168_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110763168_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110763168_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110763168_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110763168_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-09 18:20 PST" data-time="1110421217">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - No default classification on PostgreSQL"
   href="show_bug.cgi?id=285523">285523</a></div></div></div><div class="change-set" id="a110763326_73187"><div class="change" id="aa110763326_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110763326_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110763326_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110763326_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110763326_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110763326_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-09 18:22 PST" data-time="1110421375">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">No longer depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - No default classification on PostgreSQL"
   href="show_bug.cgi?id=285523">285523</a></div></div></div><div class="change-set" id="a110767167_73187"><div class="change" id="aa110767167_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110767167_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110767167_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110767167_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110767167_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110767167_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-09 19:26 PST" data-time="1110425216">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - GetSelectableProducts cannot run on PostgreSQL when classifications are enabled"
   href="show_bug.cgi?id=285532">285532</a></div></div></div><div class="change-set" id="a110769259_73187"><div class="change" id="aa110769259_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110769259_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110769259_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110769259_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110769259_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110769259_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-09 20:01 PST" data-time="1110427308">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - bugs.qa_contact should allow NULL"
   href="show_bug.cgi?id=285534">285534</a></div></div></div><div class="change-set" id="a110779943_73187"><div class="change" id="aa110779943_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110779943_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110779943_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110779943_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110779943_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110779943_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-09 22:59 PST" data-time="1110437992">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Cannot enter a bug on PostgreSQL"
   href="show_bug.cgi?id=285552">285552</a></div></div></div><div class="change-set" id="a110780800_73187"><div class="change" id="aa110780800_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110780800_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110780800_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110780800_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110780800_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110780800_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-09 23:14 PST" data-time="1110438849">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - FlagType::match uses a HAVING clause that PostgreSQL does not support"
   href="show_bug.cgi?id=285555">285555</a></div></div></div><div class="change-set" id="a110844975_140826"><div class="change" id="aa110844975_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a110844975_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a110844975_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110844975_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a110844975_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110844975_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-10 17:03 PST" data-time="1110503024">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - NOT(integer) not supported by postgres"
   href="show_bug.cgi?id=285678">285678</a></div></div></div><div class="change-set cc-only" id="a110849069_375267" style="display:none"><div class="change" id="aa110849069_375267">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_375267" id="a110849069_375267"><img src="https://secure.gravatar.com/avatar/719ad7cfa24c00bbcaa8030427dd8743?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_375267" id="a110849069_375267"><a class="email " href="user_profile?user_id=375267" > <span class="fna">Mike Taylor [:bear]</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110849069_375267">-</button>
        </td>
      </tr>
      <tr id="ar-a110849069_375267">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110849069_375267">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-10 18:11 PST" data-time="1110507118">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: bear</div></div></div><div class="change-set" id="a110851431_73187"><div class="change" id="aa110851431_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110851431_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110851431_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110851431_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110851431_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110851431_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-10 18:51 PST" data-time="1110509480">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - lastdiffed should use NULL instead of the &quot;beginning of time&quot;"
   href="show_bug.cgi?id=285692">285692</a></div></div></div><div class="change-set" id="a110853393_140826"><div class="change" id="aa110853393_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a110853393_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a110853393_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110853393_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a110853393_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110853393_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-10 19:24 PST" data-time="1110511442">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] Username checks for login, etc. need to be case insensitive"
   href="show_bug.cgi?id=285695">285695</a></div></div></div><div class="change-set" id="a110863888_140826"><div class="change" id="aa110863888_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a110863888_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a110863888_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110863888_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a110863888_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110863888_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-10 22:18 PST" data-time="1110521937">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] Index on some text columns on Postgres could use LOWER"
   href="show_bug.cgi?id=285705">285705</a></div></div></div><div class="change-set" id="a110881520_73187"><div class="change" id="aa110881520_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110881520_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110881520_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110881520_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110881520_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110881520_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-11 03:12 PST" data-time="1110539569">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">No longer depends on: <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Dates and times must be cross-database compatible and consistent in all of Bugzilla"
   href="show_bug.cgi?id=283076">283076</a></div></div></div><div class="change-set" id="a110891338_73187"><div class="change" id="aa110891338_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110891338_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110891338_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110891338_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110891338_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110891338_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-11 05:56 PST" data-time="1110549387">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - DBD::Pg must have the PG_BYTEA type specified for inserting BLOBs"
   href="show_bug.cgi?id=285740">285740</a></div></div></div><div class="change-set" id="a110897931_73187"><div class="change" id="aa110897931_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a110897931_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a110897931_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a110897931_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a110897931_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a110897931_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-11 07:46 PST" data-time="1110555980">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Cross-DB bz_alter_column"
   href="show_bug.cgi?id=285748">285748</a></div></div></div><div class="change-set" id="a111238486_140826"><div class="change" id="aa111238486_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a111238486_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a111238486_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a111238486_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a111238486_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a111238486_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-15 06:22 PST" data-time="1110896535">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Implicit joins should be replaced by explicit joins - installment A"
   href="show_bug.cgi?id=286235">286235</a></div></div></div><div class="change-set" id="a111291958_140826"><div class="change" id="aa111291958_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a111291958_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a111291958_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a111291958_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a111291958_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a111291958_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-15 21:13 PST" data-time="1110950007">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - ANSI SQL does not allow aliases to be used in HAVING clause"
   href="show_bug.cgi?id=286360">286360</a></div></div></div><div class="change-set cc-only" id="a111296963_27566" style="display:none"><div class="change" id="aa111296963_27566">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_27566" id="a111296963_27566"><img src="https://secure.gravatar.com/avatar/00667ee267700ed98ab980a87931e5d6?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_27566" id="a111296963_27566"><a class="email " href="user_profile?user_id=27566" > <span class="fna">Jeroen Ruigrok van der Werven</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a111296963_27566">-</button>
        </td>
      </tr>
      <tr id="ar-a111296963_27566">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a111296963_27566">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-15 22:36 PST" data-time="1110955012">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: <span class="activity-deleted">asmodai</span></div></div></div><div class="change-set" id="a111317678_140826"><div class="change" id="aa111317678_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a111317678_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a111317678_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a111317678_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a111317678_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a111317678_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-16 04:22 PST" data-time="1110975727">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - String concatenation on postgres does not always work"
   href="show_bug.cgi?id=286392">286392</a></div></div></div><div class="change-set" id="a111359166_73187"><div class="change" id="aa111359166_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a111359166_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a111359166_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a111359166_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a111359166_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a111359166_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-16 15:53 PST" data-time="1111017215">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED INVALID - Bugzilla::FlagType contains a raw GROUP BY"
   href="show_bug.cgi?id=286490">286490</a></div></div></div><div class="change-set" id="a111470801_140826"><div class="change" id="aa111470801_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a111470801_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a111470801_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a111470801_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a111470801_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a111470801_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-17 22:54 PST" data-time="1111128850">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - ORDER BY column needs to be selected or grouped"
   href="show_bug.cgi?id=286686">286686</a></div></div></div><div class="change-set" id="a111473579_140826"><div class="change" id="aa111473579_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a111473579_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a111473579_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a111473579_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a111473579_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a111473579_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-17 23:40 PST" data-time="1111131628">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - bugs.resolution needs a default value"
   href="show_bug.cgi?id=286695">286695</a></div></div></div><div class="change-set" id="a111794148_140826"><div class="change" id="aa111794148_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a111794148_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a111794148_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a111794148_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a111794148_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a111794148_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-03-21 16:43 PST" data-time="1111452197">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - INSERT IGNORE is not ANSI SQL"
   href="show_bug.cgi?id=287138">287138</a></div></div></div><div class="change-set" id="a113007146_140826"><div class="change" id="aa113007146_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a113007146_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a113007146_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a113007146_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a113007146_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a113007146_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-04 18:39 PDT" data-time="1112665195">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Implicit joins should be replaced by explicit joins - installment B"
   href="show_bug.cgi?id=289042">289042</a></div></div></div><div class="change-set" id="a113007265_140826"><div class="change" id="aa113007265_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a113007265_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a113007265_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a113007265_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a113007265_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a113007265_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-04 18:41 PDT" data-time="1112665314">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Implicit joins should be replaced by explicit joins - installment C"
   href="show_bug.cgi?id=289043">289043</a></div></div></div><div class="change-set" id="c132"><div class="comment" data-id="2484160" data-no="132">
    
    <table class="layout-table change-head assignee" id="ch-132">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a113007265_140826"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a113007265_140826"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-132">-</button>
        </td>
      </tr>

      <tr id="cr-132" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c132">Comment 132</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-22 18:27 PDT" data-time="1114219674">13 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-132">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-132">OK, the focus of this bug will now be to have *basic* PostgreSQL compatibility
for 2.20. That is, to the best of our ability as the Bugzilla developer and
testing community, we should have a version of Bugzilla that works on PostgreSQL.

Once <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - bugs.resolution needs a default value"
   href="show_bug.cgi?id=286695">bug 286695</a> is fixed, PostgreSQL support should be ready for general testing.</pre><div class="activity"><div class="change">Status: NEW &rarr; ASSIGNED</div><div class="change">Summary: Make Bugzilla's SQL fully compatible with PostgreSQL (PgSQL) &rarr; Make Bugzilla's SQL compatible with PostgreSQL (PgSQL)</div><div class="change">Target Milestone: Bugzilla 2.22 &rarr; Bugzilla 2.20</div></div></div><div class="change-set" id="a114561691_73187"><div class="change" id="aa114561691_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a114561691_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a114561691_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a114561691_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a114561691_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a114561691_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-22 18:29 PDT" data-time="1114219740">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=135422&amp;action=edit"
           title="Proof of Concept code for DB independant schema generation"
           class=""
        >Attachment #135422</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a114561700_73187"><div class="change" id="aa114561700_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a114561700_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a114561700_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a114561700_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a114561700_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a114561700_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-22 18:29 PDT" data-time="1114219749">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=130979&amp;action=edit"
           title="PostgreSQL compatibility layer, revision 1"
           class=""
        >Attachment #130979</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a114561711_73187"><div class="change" id="aa114561711_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a114561711_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a114561711_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a114561711_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a114561711_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a114561711_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-22 18:29 PDT" data-time="1114219760">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=130925&amp;action=edit"
           title="Updated and partially rewritten pgsetup.pl file"
           class=""
        >Attachment #130925</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a114561716_73187"><div class="change" id="aa114561716_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a114561716_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a114561716_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a114561716_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a114561716_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a114561716_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-22 18:29 PDT" data-time="1114219765">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=100290&amp;action=edit"
           title="PostgreSQL configuration utility similar to checksetup.pl v(1)"
           class=""
        >Attachment #100290</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a114563223_73187"><div class="change" id="aa114563223_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a114563223_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a114563223_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a114563223_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a114563223_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a114563223_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-22 18:54 PDT" data-time="1114221272">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">
        <a href="attachment.cgi?id=107199&amp;action=edit"
           title="105532: Port CVS Head to PostgreSQL (v5)"
           class=""
        >Attachment #107199</a> -
        Attachment is obsolete: true</div></div></div><div class="change-set" id="a114754933_140826"><div class="change" id="aa114754933_140826">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_140826" id="a114754933_140826"><img src="https://secure.gravatar.com/avatar/11649bd4db07bd397572981f8dde7682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_140826" id="a114754933_140826"><a class="email " href="user_profile?user_id=140826" > <span class="fna">Tomas Kopal</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a114754933_140826">-</button>
        </td>
      </tr>
      <tr id="ar-a114754933_140826">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a114754933_140826">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-25 00:09 PDT" data-time="1114412982">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Can't use an undefined value as a HASH reference at userprefs.cgi line 142."
   href="show_bug.cgi?id=289012">289012</a></div></div></div><div class="change-set" id="a114782239_73187"><div class="change" id="aa114782239_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a114782239_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a114782239_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a114782239_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a114782239_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a114782239_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-25 07:44 PDT" data-time="1114440288">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - PostgreSQL dies when you insert a string longer than 2700 characters into an indexed field"
   href="show_bug.cgi?id=291803">291803</a></div></div></div><div class="change-set" id="c133"><div class="comment" data-id="2487737" data-no="133">
    
    <table class="layout-table change-head assignee" id="ch-133">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a114782239_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a114782239_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-133">-</button>
        </td>
      </tr>

      <tr id="cr-133" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c133">Comment 133</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-27 04:44 PDT" data-time="1114602280">13 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-133">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-133">[Also posted to the mozilla-webtools newsgroup and the developers list.]

        As of today's CVS version, Bugzilla's PostgreSQL support is
ready for beta testing. There are still some known bugs -- see the
blockers on this for details.

        If you encounter any bugs while using Bugzilla on PostgreSQL, please
report them to bugzilla.mozilla.org and make them block this bug. Also
CC me on them. 

        *Don't* add comments to this bug about problems you encounter. File a
new bug instead, per the above instructions.

        The steps for setting up a Bugzilla installation on PostgreSQL are very
simple:

        (0) Connect to the template1 database in PostgreSQL as a PostgreSQL
superuser. (That's usually the &quot;postgres&quot; user.)

        (1) Create a 'bugs' user:

        CREATE USER bugs PASSWORD 'password' CREATEDB;

        (2) Make sure that your pg_hba.conf allows md5 login from the local
machine, from the 'bugs' user:

        host all bugs 127.0.0.1 255.255.255.255 md5

        (3) Make sure that your postgresql.conf allows TCP/IP connections from
the local machine:

        tcpip_socket = true

        (4) Stop PostgreSQL, and then start it again.

        (5) Set up Bugzilla normally, editing localconfig and so forth per the
instructions in the Bugzilla Guide.

        Have fun!</pre></div><div class="change-set" id="c134"><div class="comment" data-id="2487933" data-no="134">
    
    <table class="layout-table change-head " id="ch-134">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_118839" id="a114782239_73187"><img src="https://secure.gravatar.com/avatar/d438b256de7b28895c1d0db249969dd8?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_118839" id="a114782239_73187"><a class="email " href="user_profile?user_id=118839" > <span class="fna">Andrew Dunstan</span></a>
</div>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-134">-</button>
        </td>
      </tr>

      <tr id="cr-134" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c134">Comment 134</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-27 08:53 PDT" data-time="1114617236">13 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-134">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-134">(In reply to <a href="show_bug.cgi?id=98304#c133">comment #133</a>)
<span class="quote">&gt; [Also posted to the mozilla-webtools newsgroup and the developers list.]
&gt; 
&gt;         As of today's CVS version, Bugzilla's PostgreSQL support is
&gt; ready for beta testing. </span >

woohoo!!!


<span class="quote">&gt; 
&gt;         (2) Make sure that your pg_hba.conf allows md5 login from the local
&gt; machine, from the 'bugs' user:
&gt; 
&gt;         host all bugs 127.0.0.1 255.255.255.255 md5</span >

Or from postgres 7.4 on:

          host all bugs 127.0.0.1/32 md5

<span class="quote">&gt; 
&gt;         (3) Make sure that your postgresql.conf allows TCP/IP connections from
&gt; the local machine:
&gt; 
&gt;         tcpip_socket = true</span >

This setting disappeared in postgres version 8.0, which in any case listens to
localhost by default, unlike previous versions.

</pre></div><div class="change-set" id="a114968545_13272"><div class="change" id="aa114968545_13272">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_13272" id="a114968545_13272"><img src="https://secure.gravatar.com/avatar/bdde202bfbd8a9f34e0603a8f1923149?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_13272" id="a114968545_13272"><a class="email " href="user_profile?user_id=13272" > <span class="fna">Andreas Franke (gone)</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a114968545_13272">-</button>
        </td>
      </tr>
      <tr id="ar-a114968545_13272">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a114968545_13272">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-27 11:29 PDT" data-time="1114626594">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] POSITION(...) clause &quot;must be type boolean, not type integer&quot;"
   href="show_bug.cgi?id=292119">292119</a></div></div></div><div class="change-set cc-only" id="a115186424_198651" style="display:none"><div class="change" id="aa115186424_198651">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_198651" id="a115186424_198651"><img src="https://secure.gravatar.com/avatar/f8f92f412cd01e5520932742a0789d90?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_198651" id="a115186424_198651"><a class="email " href="user_profile?user_id=198651" > <span class="fna">Brendan Jurd</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a115186424_198651">-</button>
        </td>
      </tr>
      <tr id="ar-a115186424_198651">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a115186424_198651">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-04-30 00:01 PDT" data-time="1114844473">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: direvus</div></div></div><div class="change-set" id="a115460820_199021"><div class="change" id="aa115460820_199021">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_199021" id="a115460820_199021"><img src="https://secure.gravatar.com/avatar/462772933f9768556562ea949e2c5682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_199021" id="a115460820_199021"><a class="email " href="user_profile?user_id=199021" > <span class="fna">Olivier Sirven</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a115460820_199021">-</button>
        </td>
      </tr>
      <tr id="ar-a115460820_199021">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a115460820_199021">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-05-03 04:14 PDT" data-time="1115118869">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED INVALID - checksetup says PostgreSQL is version 00.00.0000"
   href="show_bug.cgi?id=292715">292715</a></div></div></div><div class="change-set" id="a115461089_199021"><div class="change" id="aa115461089_199021">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_199021" id="a115461089_199021"><img src="https://secure.gravatar.com/avatar/462772933f9768556562ea949e2c5682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_199021" id="a115461089_199021"><a class="email " href="user_profile?user_id=199021" > <span class="fna">Olivier Sirven</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a115461089_199021">-</button>
        </td>
      </tr>
      <tr id="ar-a115461089_199021">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a115461089_199021">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-05-03 04:18 PDT" data-time="1115119138">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - LOCATE is not ANSI SQL (prevents user account creation)"
   href="show_bug.cgi?id=292718">292718</a></div></div></div><div class="change-set" id="a115490204_73187"><div class="change" id="aa115490204_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a115490204_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a115490204_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a115490204_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a115490204_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a115490204_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-05-03 12:24 PDT" data-time="1115148253">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] COALESCE requires both arguments to be of similar types"
   href="show_bug.cgi?id=292768">292768</a></div></div></div><div class="change-set" id="a115645844_199021"><div class="change" id="aa115645844_199021">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_199021" id="a115645844_199021"><img src="https://secure.gravatar.com/avatar/462772933f9768556562ea949e2c5682?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_199021" id="a115645844_199021"><a class="email " href="user_profile?user_id=199021" > <span class="fna">Olivier Sirven</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a115645844_199021">-</button>
        </td>
      </tr>
      <tr id="ar-a115645844_199021">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a115645844_199021">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-05-05 07:38 PDT" data-time="1115303893">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - PostgreSQL: GROUP BY error when searching for bugs"
   href="show_bug.cgi?id=293015">293015</a></div></div></div><div class="change-set" id="a117403674_185959"><div class="change" id="aa117403674_185959">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_185959" id="a117403674_185959"><img src="https://secure.gravatar.com/avatar/f6d23743a7b7c99734e7807a25acce3f?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_185959" id="a117403674_185959"><a class="email " href="user_profile?user_id=185959" > <span class="fna">Daniel Cater</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a117403674_185959">-</button>
        </td>
      </tr>
      <tr id="ar-a117403674_185959">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a117403674_185959">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-05-25 15:55 PDT" data-time="1117061723">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Blocks: <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED INVALID - Mozilla Bugs with Large Community Interest [Use queries instead]"
   href="show_bug.cgi?id=163993">163993</a></div></div></div><div class="change-set" id="a117471700_4885"><div class="change" id="aa117471700_4885">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4885" id="a117471700_4885"><img src="https://secure.gravatar.com/avatar/33dbb8763576bf798858eff6abb36d2c?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4885" id="a117471700_4885"><a class="email " href="user_profile?user_id=4885" > <span class="fna">Jerry Baker</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a117471700_4885">-</button>
        </td>
      </tr>
      <tr id="ar-a117471700_4885">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a117471700_4885">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-05-26 10:49 PDT" data-time="1117129749">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">No longer blocks: <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED INVALID - Mozilla Bugs with Large Community Interest [Use queries instead]"
   href="show_bug.cgi?id=163993">163993</a></div></div></div><div class="change-set" id="a117873525_139822"><div class="change" id="aa117873525_139822">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_139822" id="a117873525_139822"><img src="https://secure.gravatar.com/avatar/a4c7956e8e5cb3014286f74fc55895e7?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_139822" id="a117873525_139822"><a class="email " href="user_profile?user_id=139822" > <span class="fna">Morten Werner Olsen</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a117873525_139822">-</button>
        </td>
      </tr>
      <tr id="ar-a117873525_139822">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a117873525_139822">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-05-31 02:26 PDT" data-time="1117531574">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] Cannot create a new product"
   href="show_bug.cgi?id=296039">296039</a></div></div></div><div class="change-set" id="a117885097_139822"><div class="change" id="aa117885097_139822">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_139822" id="a117885097_139822"><img src="https://secure.gravatar.com/avatar/a4c7956e8e5cb3014286f74fc55895e7?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_139822" id="a117885097_139822"><a class="email " href="user_profile?user_id=139822" > <span class="fna">Morten Werner Olsen</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a117885097_139822">-</button>
        </td>
      </tr>
      <tr id="ar-a117885097_139822">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a117885097_139822">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-05-31 05:39 PDT" data-time="1117543146">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] Cannot add a new query for event/whining"
   href="show_bug.cgi?id=296054">296054</a></div></div></div><div class="change-set" id="a117894669_139822"><div class="change" id="aa117894669_139822">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_139822" id="a117894669_139822"><img src="https://secure.gravatar.com/avatar/a4c7956e8e5cb3014286f74fc55895e7?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_139822" id="a117894669_139822"><a class="email " href="user_profile?user_id=139822" > <span class="fna">Morten Werner Olsen</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a117894669_139822">-</button>
        </td>
      </tr>
      <tr id="ar-a117894669_139822">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a117894669_139822">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-05-31 08:18 PDT" data-time="1117552718">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - SQL-fault when trying to add a new user account (PostgreSQL)"
   href="show_bug.cgi?id=296075">296075</a></div></div></div><div class="change-set" id="a117977448_73187"><div class="change" id="aa117977448_73187">
    <table class="layout-table change-head assignee">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a117977448_73187"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_73187" id="a117977448_73187"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a117977448_73187">-</button>
        </td>
      </tr>
      <tr id="ar-a117977448_73187">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a117977448_73187">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-06-01 07:18 PDT" data-time="1117635497">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Component: Bugzilla-General &rarr; Database</div></div></div><div class="change-set cc-only" id="a119642922_80755" style="display:none"><div class="change" id="aa119642922_80755">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_80755" id="a119642922_80755"><img src="https://secure.gravatar.com/avatar/b72bbbf9d6adde772be8fdd187e577cd?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_80755" id="a119642922_80755"><a class="email " href="user_profile?user_id=80755" > <span class="fna">Sven</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a119642922_80755">-</button>
        </td>
      </tr>
      <tr id="ar-a119642922_80755">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a119642922_80755">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-06-20 13:56 PDT" data-time="1119300971">13 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: skoehler</div></div></div><div class="change-set" id="a121900027_120380"><div class="change" id="aa121900027_120380">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" id="a121900027_120380"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_120380" id="a121900027_120380"><a class="email " href="user_profile?user_id=120380" > <span class="fna">Frdric Buclin</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a121900027_120380">-</button>
        </td>
      </tr>
      <tr id="ar-a121900027_120380">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a121900027_120380">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-07-16 16:54 PDT" data-time="1121558076">12 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] whine.pl fails when using PostgreSQL 8.0.1"
   href="show_bug.cgi?id=301062">301062</a></div></div></div><div class="change-set" id="a121905589_120380"><div class="change" id="aa121905589_120380">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" id="a121905589_120380"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_120380" id="a121905589_120380"><a class="email " href="user_profile?user_id=120380" > <span class="fna">Frdric Buclin</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a121905589_120380">-</button>
        </td>
      </tr>
      <tr id="ar-a121905589_120380">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a121905589_120380">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-07-16 18:27 PDT" data-time="1121563638">12 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] editusers.cgi doesn't do a case-insensitive comparison"
   href="show_bug.cgi?id=301067">301067</a></div></div></div><div class="change-set" id="a121981730_120380"><div class="change" id="aa121981730_120380">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_120380" id="a121981730_120380"><img src="extensions/Gravatar/web/default.jpg" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_120380" id="a121981730_120380"><a class="email " href="user_profile?user_id=120380" > <span class="fna">Frdric Buclin</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a121981730_120380">-</button>
        </td>
      </tr>
      <tr id="ar-a121981730_120380">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a121981730_120380">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-07-17 15:36 PDT" data-time="1121639779">12 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">Depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] New charts throw an error about FROM_UNIXTIME"
   href="show_bug.cgi?id=301141">301141</a></div></div></div><div class="change-set" id="c135"><div class="comment" data-id="2596185" data-no="135">
    
    <table class="layout-table change-head assignee" id="ch-135">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_73187" id="a121981730_120380"><img src="https://secure.gravatar.com/avatar/8d3dd762c1c841898a384ebc42abec97?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>

        <td class="change-author"><div class="vcard vcard_73187" id="a121981730_120380"><a class="email " href="user_profile?user_id=73187" > <span class="fna">Max Kanat-Alexander</span></a>
</div>
            <span class="user-role">(Assignee)</span>
        </td>

        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="cs-135">-</button>
        </td>
      </tr>

      <tr id="cr-135" >
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#c135">Comment 135</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2005-08-31 01:10 PDT" data-time="1125475801">12 years ago</span>
          </div>
        </td>
      </tr>

      <tr id="ctag-135">
        <td colspan="2" class="comment-tags">
        </td>
      </tr>
    </table>

    
  </div><pre class="comment-text " id="ct-135">As far as I'm concerned, this is actually done. There are a few features that
don't yet work on PostgreSQL (new charts and whining), but the major effort to
port Bugzilla to PostgreSQL is complete. All of the most-important features
(creating bugs, searching for bugs, and editing bugs) work very well, or at
least well-enough to use in a production environment. PostgreSQL support has
started to be considered a regular part of Bugzilla development, and within a
few months should be completely up to par with MySQL support.

Future bugs filed against PostgreSQL, instead of blocking this bug, should be
filed in the Database component and should have their summary start with
&quot;[PostgreSQL]&quot;.

I'd like to thank everybody who ever helped work on this; this was one of the
most significant projects in Bugzilla's history, and now that it's in place,
future cross-DB work will be so much easier. :-)

Well done, everybody. :-)</pre><div class="activity"><div class="change">Status: ASSIGNED &rarr; RESOLVED</div><div class="change">Last Resolved: <span class="rel-time" title="2005-08-30 18:10 PDT" data-time="1125450601">12 years ago</span></div><div class="change">No longer depends on: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] whine.pl fails when using PostgreSQL 8.0.1"
   href="show_bug.cgi?id=301062">301062</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] editusers.cgi doesn't do a case-insensitive comparison"
   href="show_bug.cgi?id=301067">301067</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [PostgreSQL] New charts throw an error about FROM_UNIXTIME"
   href="show_bug.cgi?id=301141">301141</a></div><div class="change">Resolution: --- &rarr; FIXED</div><div class="change">Summary: Make Bugzilla's SQL compatible with PostgreSQL (PgSQL) &rarr; Make Bugzilla's SQL generally compatible with PostgreSQL (PgSQL)</div></div></div><div class="change-set" id="a356234337_1"><div class="change" id="aa356234337_1">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_1" id="a356234337_1"><img src="https://secure.gravatar.com/avatar/eaa3c40fff208819d0810fc338eea0aa?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_1" id="a356234337_1"><a class="email " href="user_profile?user_id=1" > <span class="fna">Nobody; OK to take it and work on it</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a356234337_1">-</button>
        </td>
      </tr>
      <tr id="ar-a356234337_1">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a356234337_1">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2012-12-18 20:46 PST" data-time="1355892386">5 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">QA Contact: matty_is_a_geek &rarr; default-qa</div></div></div><div class="change-set cc-only" id="a398850321_4833" style="display:none"><div class="change" id="aa398850321_4833">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_4833" id="a398850321_4833"><img src="https://secure.gravatar.com/avatar/7cb8e6f84fe6d38db515e33c1aa1b3a0?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_4833" id="a398850321_4833"><a class="email " href="user_profile?user_id=4833" > <span class="fna">basic</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a398850321_4833">-</button>
        </td>
      </tr>
      <tr id="ar-a398850321_4833">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a398850321_4833">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2014-04-26 03:32 PDT" data-time="1398508370">4 years ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: <span class="activity-deleted">basic</span></div></div></div><div class="change-set cc-only" id="a472425136_578178" style="display:none"><div class="change" id="aa472425136_578178">
    <table class="layout-table change-head ">
      <tr>
        <td rowspan="2" class="change-gravatar"><div class="vcard vcard_578178" id="a472425136_578178"><img src="https://secure.gravatar.com/avatar/89d8edd2ae543160b2332bcd241efd36?d=mm&amp;size=64" class="gravatar" width="32" height="32">
</div>
        </td>
        <td class="change-author"><div class="vcard vcard_578178" id="a472425136_578178"><a class="email " href="user_profile?user_id=578178" > <span class="fna">Gulf Upload</span></a>
</div>
        </td>
        <td class="comment-actions">
          <button type="button" class="change-spinner minor" id="as-a472425136_578178">-</button>
        </td>
      </tr>
      <tr id="ar-a472425136_578178">
        <td colspan="2">
          <h3 class="change-name">
            <a href="show_bug.cgi?id=98304#a472425136_578178">Updated</a>
          </h3>
          &bull;
          <div class="change-time"><span class="rel-time" title="2016-08-24 16:59 PDT" data-time="1472083185">a year ago</span>
          </div>
        </td>
      </tr>
    </table>
  </div><div class="activity"><div class="change">CC: uploadgulf</div></div></div><div id="new-comment-notice">
          You need to <a href="show_bug.cgi?id=98304&amp;GoAheadAndLogIn=1">log in</a>
          before you can comment on or make changes to this bug.
        </div>



<div id="bottom-actions">
  <div id="bottom-right-actions">
    <button type="button" id="top-btn" class="minor">Top &uarr;</button>
    <div class="dropdown">
      <button type="button" id="format-btn" aria-haspopup="true" aria-label="Format Bug Menu"
        aria-expanded="false" aria-controls="format-menu" class="dropdown-button minor">Format Bug &#9652;</button>
      <ul class="dropdown-content menu-up" id="format-menu" role="menu" style="display:none;">
        <li role="presentation">
          <a href="show_bug.cgi?format=multiple&amp;id=98304" role="menuitem" tabindex="-1">For Printing</a>
        </li>
        <li role="presentation">
          <a href="show_bug.cgi?ctype=xml&amp;id=98304" role="menuitem" tabindex="-1">XML</a>
        </li>
        <li role="presentation">
          <a href="show_bug.cgi?format=default&amp;id=98304" role="menuitem" tabindex="-1">Legacy</a>
        </li>
          <li role="presentation">
            <a href="rest/bug/98304" role="menuitem" tabindex="-1">JSON</a>
          </li>
      </ul>
    </div>
  </div>
</div></div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form quicksearch_form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
      class='quicksearch_check_empty'>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch"
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search"
           id="find_bottom"></form>
    [<a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">help</a>]
  </li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>


</ul>
  </li>

  
    

  


  
</ul>

  <div class="outro"><div id="policy_links">
  <ul>
    <li id="privacy_notice">
      <a href="https://www.mozilla.org/privacy/websites/" target="_blank">Privacy Notice</a> |
    </li>
    <li id="legal_terms">
      <a href="https://www.mozilla.org/about/legal/terms/mozilla" target="_blank">Legal Terms</a>
    </li>
  </ul>
</div></div>
</div>


</body>
</html>